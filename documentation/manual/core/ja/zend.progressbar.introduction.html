<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>Zend_ProgressBar(日本語) - Zend Framework Manual</title>

</head>
<body>
<table width="100%">
    <tr valign="top">
        <td width="85%">
            <table width="100%">
                <tr>
                    <td width="25%" style="text-align: left;">
                    <a href="zend.progressbar.html">Zend_ProgressBar</a>
                    </td>

                    <td width="50%" style="text-align: center;">
                        <div class="up"><span class="up"><a href="zend.progressbar.html">Zend_ProgressBar</a></span><br />
                        <span class="home"><a href="manual.html">Programmer's Reference Guide</a></span></div>
                    </td>

                    <td width="25%" style="text-align: right;">
                        <div class="next" style="text-align: right; float: right;"><a href="zend.queue.html">Zend_Queue</a></div>
                    </td>
                </tr>
            </table>
<hr />
<div id="zend.progressbar.introduction" class="section"><div class="info"><h1 class="title">Zend_ProgressBar(日本語)</h1></div>
    

    <div class="section" id="zend.progressbar.whatisit" name="zend.progressbar.whatisit"><div class="info"><h1 class="title">導入</h1></div>
        

        <p class="para">
            <span class="classname">Zend_ProgressBar</span> は、
            さまざまな環境上でプログレスバーの作成や更新を行うコンポーネントです。
            単一のバックエンドが、複数のアダプタの中のいずれかを用いて進捗状況を出力します。
            更新のたびに現在値とオプションのメッセージを受け取り、
            進捗率や残り時間などを計算してアダプタを呼び出します。
        </p>
    </div>

    <div class="section" id="zend.progressbar.basic" name="zend.progressbar.basic"><div class="info"><h1 class="title">Zend_Progressbar の基本的な使用法</h1></div>
        

        <p class="para">
            <span class="classname">Zend_ProgressBar</span> の使い方はきわめて簡単です。
            単純に <span class="classname">Zend_Progressbar</span> の新しいインスタンスを作成し、
            最小値と最大値を指定した上でデータ出力用のアダプタを選択するだけです。
            何かのファイルの処理を行いたい場合は、たとえば次のようになります。
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$progressBar</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_ProgressBar<span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$adapter</span>, <span style="color: #cc66cc;">0</span>, <span style="color: #0000ff;">$fileSize</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #b1b100;">while</span> <span style="color: #66cc66;">&#40;</span>!<a href="http://www.php.net/feof"><span style="color: #000066;">feof</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$fp</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #808080; font-style: italic;">// なにかの処理</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #0000ff;">$progressBar</span>-&gt;<span style="color: #006600;">update</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$currentByteCount</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$progressBar</span>-&gt;<span style="color: #006600;">finish</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>


        <p class="para">
            まず第一段階として、 <span class="classname">Zend_ProgressBar</span>
            のインスタンスを作成してアダプタを指定し、
            最小値を 0、最大値をファイルのサイズに指定します。
            ループ内でファイルが処理されるたびに、
            現在のバイト数でプログレスバーを更新します。
            ループを抜けた後で、プログレスバーを処理完了状態に設定します。
        </p>

        <p class="para">
            <span class="classname">Zend_ProgressBar</span> の  <span class="methodname">update()</span>
            メソッドを引数なしでコールすることもできます。
            その場合は、単に残り時間を再計算してアダプタに通知します。
            これは、データが何も更新されていないけれども
            プログレスバーを更新したいという場合に有用です。
        </p>
    </div>

    <div class="section" id="zend.progressbar.persistent" name="zend.progressbar.persistent"><div class="info"><h1 class="title">進捗の永続化</h1></div>
        

        <p class="para">
            複数のリクエストにまたがってプログレスバーを持続させたい場合は、
            コンストラクタの 4 番目の引数でセッション名前空間名を指定します。
            そうすると、プログレスバーのコンストラクタ内ではアダプタへの通知が行われず
             <span class="methodname">update()</span> あるいは  <span class="methodname">finish()</span>
            をコールしたときにのみ通知が行われるようになります。
            また、現在の値や状況表示用テキスト、
            そして残り時間計算用の開始時刻などは次のリクエストにも引き継がれるようになります。
        </p>
    </div>

    <div class="section" id="zend.progressbar.adapters" name="zend.progressbar.adapters"><div class="info"><h1 class="title">標準のアダプタ</h1></div>
        

        <p class="para">
            <span class="classname">Zend_ProgressBar</span> には次の 3 つのアダプタが同梱されています。

            <ul class="itemizedlist">
                <li class="listitem">
                    <p class="para">
                        <a href="zend.progressbar.introduction.html#zend.progressbar.adapter.console" class="link">Zend_ProgressBar_Adapter_Console</a>
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        <a href="zend.progressbar.introduction.html#zend.progressbar.adapter.jspush" class="link">Zend_ProgressBar_Adapter_JsPush</a>
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        <a href="zend.progressbar.introduction.html#zend.progressbar.adapter.jspull" class="link">Zend_ProgressBar_Adapter_JsPull</a>
                    </p>
                </li>
            </ul>
        </p>
        <div class="section" id="zend.progressbar.adapter.console" name="zend.progressbar.adapter.console"><div class="info"><h1 class="title">Zend_ProgressBar_Adapter_Console(日本語)</h1></div>
    
    <p class="para">
        <span class="classname">Zend_ProgressBar_Adapter_Console</span> は、
        ターミナル用に使用するテキストベースのアダプタです。
        ターミナルの横幅を自動的に検出できますが、
        独自に幅を指定することもできます。
        プログレスバーとともに表示する要素や、その順序も変更できます。
        また、プログレスバーそのものの形式も設定できます。
    </p>
    <blockquote><p><b class="note">Note</b>: <span class="info"><b>自動的なコンソール幅の認識</b><br /></span>
        
        
            この機能を *nix 系のシステムで使用するには
            <code class="code">shell_exec</code> が必要です。Windows
            ではターミナルの幅は 80 文字固定なので、
            認識処理は不要です。
        <br />
    </p></blockquote>
    <p class="para">
        アダプタのオプションを設定するには、<code class="code">set*</code>
        メソッドを使用するか、あるいはコンストラクタの最初のパラメータで
        配列か <span class="classname">Zend_Config</span> インスタンスを渡します。
        使用できるオプションは次のとおりです。
    </p>
    <ul class="itemizedlist">
        <li class="listitem">
            <p class="para">
                <code class="code">outputStream</code>: さまざまな出力ストリーム。
                STDOUT 意外に出力したい場合に使用します。
                <code class="code">php://stderr</code> のようなストリーム、
                あるいはファイルへのパスを指定できます。
            </p>
        </li>
        <li class="listitem">
            <p class="para">
                <code class="code">width</code>: 整数値、あるいは
                <span class="classname">Zend_Console_ProgressBar</span> の定数 <b><tt>AUTO</tt></b>。
            </p>
        </li>
        <li class="listitem">
            <p class="para">
                <code class="code">elements</code>: デフォルトは <b><tt>NULL</tt></b>。
                あるいは以下の <span class="classname">Zend_Console_ProgressBar</span>
                の定数のうちの少なくともひとつを値として持つ配列。
            </p>

            <ul class="itemizedlist">
                <li class="listitem">
                    <p class="para">
                        <b><tt>ELEMENT_PERCENT</tt></b>: パーセントであらわした現在値。
                    </p>
                </li>
                <li class="listitem">
                    <p class="para">
                        <b><tt>ELEMENT_BAR</tt></b>:
                        パーセンテージを表示するバー。
                    </p>
                </li>
                <li class="listitem">
                    <p class="para">
                        <b><tt>ELEMENT_ETA</tt></b>: 自動的に計算した予想残り時間。
                        この要素が表示されるのは、開始後 5 秒たってからです。
                        それまでは正確な結果を算出できないからです。
                    </p>
                </li>
                <li class="listitem">
                    <p class="para">
                        <b><tt>ELEMENT_TEXT</tt></b>:
                        現在の処理に関する状況を説明するオプションのメッセージ。
                    </p>
                </li>
            </ul>
        </li>
        <li class="listitem">
            <p class="para">
                <code class="code">textWidth</code>:
                <b><tt>ELEMENT_TEXT</tt></b> 要素の幅を文字数で表したもの。デフォルトは 20。
            </p>
        </li>
        <li class="listitem">
            <p class="para">
                <code class="code">charset</code>:
                <b><tt>ELEMENT_TEXT</tt></b> 要素の文字セット。デフォルトは utf-8。
            </p>
        </li>
        <li class="listitem">
            <p class="para">
                <code class="code">barLeftChar</code>:
                プログレスバー内で左側のインジケータとして使用する文字列。
            </p>
        </li>
        <li class="listitem">
            <p class="para">
                <code class="code">barRightChar</code>:
                プログレスバー内で右側のインジケータとして使用する文字列。
            </p>
        </li>
        <li class="listitem">
            <p class="para">
                <code class="code">barIndicatorChar</code>:
                プログレスバー内でインジケータとして使用する文字列。
                これは空にすることもできます。
            </p>
        </li>
    </ul>
</div>
        <div class="section" id="zend.progressbar.adapter.jspush" name="zend.progressbar.adapter.jspush"><div class="info"><h1 class="title">Zend_ProgressBar_Adapter_JsPush(日本語)</h1></div>
    
    <p class="para">
        <span class="classname">Zend_ProgressBar_Adapter_JsPush</span> は、
        ブラウザ内のプログレスバーを Javascript の Push で更新するアダプタです。
        つまり、実行中のプロセスの情報を取得するために改めて接続を行う必要がなく、
        そのプロセス自身が状況を直接ブラウザに送信するということです。
    </p>
    <p class="para">
        アダプタのオプションを設定するには、<code class="code">set*</code>
        メソッドを使用するか、あるいはコンストラクタの最初のパラメータで
        配列か <span class="classname">Zend_Config</span> インスタンスを渡します。
        使用できるオプションは次のとおりです。
    </p>
    <ul class="itemizedlist">
        <li class="listitem">
            <p class="para">
                <code class="code">updateMethodName</code>:
                毎回の更新時にコールされる javascript のメソッド。
                デフォルト値は <span class="classname">Zend_ProgressBar_Update</span> です。
            </p>
        </li>
        <li class="listitem">
            <p class="para">
                <code class="code">finishMethodName</code>:
                状態を設定した後にコールされる javascript のメソッド。
                デフォルト値は <b><tt>NULL</tt></b> で、この場合は何も行われません。
            </p>
        </li>
    </ul>
    <p class="para">
        このアダプタの使い方はきわめて単純です。まず、ブラウザ上にプログレスバーを作成します。
        これは JavaScript を用いたものでもかまいませんしプレーンな
        <acronym class="acronym">HTML</acronym> によるものでもかまいません。それから、更新時のメソッドと
        終了時のメソッド (オプション) を JavaScript で定義します。
        これらのメソッドは、どちらも唯一の引数として json オブジェクトを受け取るようにします。
        そして、処理時間が長くかかるウェブページを
        <code class="code">iframe</code> タグあるいは <code class="code">object</code>
        タグの中で呼び出します。処理の実行中に、
        更新が行われるたびにアダプタのメソッドがコールされます。
        引数として渡される json オブジェクトには次のパラメータが含まれています。
    </p>
    <ul class="itemizedlist">
        <li class="listitem">
            <p class="para">
                <code class="code">current</code>: 現在の値。
            </p>
        </li>
        <li class="listitem">
            <p class="para">
                <code class="code">max</code>: 最大値。
            </p>
        </li>
        <li class="listitem">
            <p class="para">
                <code class="code">percent</code>: 算出したパーセンテージ。
            </p>
        </li>
        <li class="listitem">
            <p class="para">
                <code class="code">timeTaken</code>: これまでの経過時間。
            </p>
        </li>
        <li class="listitem">
            <p class="para">
                <code class="code">timeRemaining</code>: プロセスが終了するまでの予想残り時間。
            </p>
        </li>
        <li class="listitem">
            <p class="para">
                <code class="code">text</code>: オプションのメッセージ (指定した場合のみ)。
            </p>
        </li>
    </ul>
    <div class="example"><div class="info"><p><b>Example #1 クライアント側の基本例</b></p></div>
        
        <div class="example-contents"><p>
            この例では、JsPush アダプタ用の <acronym class="acronym">HTML</acronym> および <acronym class="acronym">CSS</acronym>、JavaScript
            の基本的な設定方法を示します。
        </p></div>
        <div class="programlisting html"><div class="htmlcode"><div style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&lt;div id=&quot;zend-progressbar-container&quot;&gt;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &lt;div id=&quot;zend-progressbar-done&quot;&gt;&lt;/div&gt;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&lt;/div&gt;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&lt;iframe src=&quot;long-running-process.php&quot; id=&quot;long-running-process&quot;&gt;&lt;/iframe&gt;</div></li></ol></div></div></div>

        <div class="programlisting css"><div class="csscode"><div class="css" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #cc00cc;">#long-running-process</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">position</span>: <span style="color: #993333;">absolute</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">left</span>: -<span style="color: #933;">100px</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">top</span>: -<span style="color: #933;">100px</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">width</span>: <span style="color: #933;">1px</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">height</span>: <span style="color: #933;">1px</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #cc00cc;">#zend-progressbar-container</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">width</span>: <span style="color: #933;">100px</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">height</span>: <span style="color: #933;">30px</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">border</span>: <span style="color: #933;">1px</span> <span style="color: #993333;">solid</span> <span style="color: #cc00cc;">#<span style="color: #933;">000000</span></span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">background-color</span>: <span style="color: #cc00cc;">#ffffff</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #cc00cc;">#zend-progressbar-done</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">width</span>: <span style="color: #933;">0</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">height</span>: <span style="color: #933;">30px</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">background-color</span>: <span style="color: #cc00cc;">#<span style="color: #933;">000000</span></span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li></ol></div></div></div>

        <div class="programlisting javascript"><div class="javascriptcode"><div class="javascript" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #003366; font-weight: bold;">function</span> Zend_ProgressBar_Update<span style="color: #66cc66;">&#40;</span>data<span style="color: #66cc66;">&#41;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; document.<span style="color: #006600;">getElementById</span><span style="color: #66cc66;">&#40;</span><span style="color: #3366CC;">'zend-progressbar-done'</span><span style="color: #66cc66;">&#41;</span>.<span style="color: #006600;">style</span>.<span style="color: #006600;">width</span> =</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;data.<span style="color: #006600;">percent</span> + <span style="color: #3366CC;">'%'</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li></ol></div></div></div>


        <div class="example-contents"><p>
            これは、黒の枠線と進捗状況表示用ブロックからなるシンプルなコンテナを作成します。
            <code class="code">iframe</code> や <code class="code">object</code> を <code class="code">display: none;</code>
            で隠してしまってはいけません。Safari 2 などでは、
            そうすると実際のコンテンツを読み込まなくなってしまします。
        </p></div>
        <div class="example-contents"><p>
            プログレスバーを自作するのではなく、Dojo や jQuery
            などの既存の JavaScript ライブラリのものを利用したいこともあるでしょう。
            たとえば次のようなものがあります。
        </p></div>
        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">Dojo: <tt class="uri">http://dojotoolkit.org/reference-guide/dijit/ProgressBar.html</tt></p>
            </li>
            <li class="listitem">
                <p class="para">jQuery: <tt class="uri">http://t.wits.sg/2008/06/20/jquery-progress-bar-11/</tt></p>
            </li>
            <li class="listitem">
                <p class="para">MooTools: <tt class="uri">http://davidwalsh.name/dw-content/progress-bar.php</tt></p>
            </li>
            <li class="listitem">
                <p class="para">Prototype: <tt class="uri">http://livepipe.net/control/progressbar</tt></p>
            </li>
        </ul>
    </div>
    <blockquote><p><b class="note">Note</b>: <span class="info"><b>更新間隔</b><br /></span>
        
        
            あまり頻繁に更新しすぎないようにしましょう。
            毎回の更新は、少なくとも 1kb の大きさとなるからです。
            これは、Safari が実際にレンダリングを行って関数をコールするのに必要なサイズです。
            Internet Explorer の場合はこれは 256 バイトとなります。
        <br />
    </p></blockquote>
</div>
        <div class="section" id="zend.progressbar.adapter.jspull" name="zend.progressbar.adapter.jspull"><div class="info"><h1 class="title">Zend_ProgressBar_Adapter_JsPull(日本語)</h1></div>
    
    <p class="para">
        <span class="classname">Zend_ProgressBar_Adapter_JsPull</span> は jsPush
        とは逆の動作をします。つまり、
        更新をブラウザにプッシュするのではなく更新情報をほかから受け取ることになります。
        一般に、このアダプタを使う場合は <span class="classname">Zend_ProgressBar</span>
        の persistence オプションを使用する必要があります。
        通知を受け取ると、このアダプタは <acronym class="acronym">JSON</acronym> 文字列をブラウザに送ります。
        その内容は jsPush アダプタから送られてくるものとほぼ同じです。
        唯一の違いは、追加のパラメータ
        <span class="property">finished</span> が含まれることです。このパラメータは、
         <span class="methodname">update()</span> がコールされた場合は <b><tt>FALSE</tt></b>、
         <span class="methodname">finish()</span> がコールされた場合は <b><tt>TRUE</tt></b> となります。
    </p>
    <p class="para">
        アダプタのオプションを設定するには、 <span class="methodname">set*</span>
        メソッドを使用するか、あるいはコンストラクタの最初のパラメータで
        配列か <span class="classname">Zend_Config</span> インスタンスを渡します。
        使用できるオプションは次のとおりです。
    </p>
    <ul class="itemizedlist">
        <li class="listitem">
            <p class="para">
                <span class="property">exitAfterSend</span>: データがブラウザに送信された後に、
                現在のリクエストを終了します。デフォルトは <b><tt>TRUE</tt></b> です。
            </p>
        </li>
    </ul>
</div>
    </div>
</div>
        <hr />

            <table width="100%">
                <tr>
                    <td width="25%" style="text-align: left;">
                    <a href="zend.progressbar.html">Zend_ProgressBar</a>
                    </td>

                    <td width="50%" style="text-align: center;">
                        <div class="up"><span class="up"><a href="zend.progressbar.html">Zend_ProgressBar</a></span><br />
                        <span class="home"><a href="manual.html">Programmer's Reference Guide</a></span></div>
                    </td>

                    <td width="25%" style="text-align: right;">
                        <div class="next" style="text-align: right; float: right;"><a href="zend.queue.html">Zend_Queue</a></div>
                    </td>
                </tr>
            </table>
</td>
        <td style="font-size: smaller;" width="15%"> <style type="text/css">
#leftbar {
	float: left;
	width: 186px;
	padding: 5px;
	font-size: smaller;
}
ul.toc {
	margin: 0px 5px 5px 5px;
	padding: 0px;
}
ul.toc li {
	font-size: 85%;
	margin: 1px 0 1px 1px;
	padding: 1px 0 1px 11px;
	list-style-type: none;
	background-repeat: no-repeat;
	background-position: center left;
}
ul.toc li.header {
	font-size: 115%;
	padding: 5px 0px 5px 11px;
	border-bottom: 1px solid #cccccc;
	margin-bottom: 5px;
}
ul.toc li.active {
	font-weight: bold;
}
ul.toc li a {
	text-decoration: none;
}
ul.toc li a:hover {
	text-decoration: underline;
}
</style>
 <ul class="toc">
  <li class="header home"><a href="manual.html">Programmer's Reference Guide</a></li>
  <li class="header up"><a href="manual.html">Programmer's Reference Guide</a></li>
  <li class="header up"><a href="reference.html">Zend Framework Reference</a></li>
  <li class="header up"><a href="zend.progressbar.html">Zend_ProgressBar</a></li>
  <li class="active"><a href="zend.progressbar.introduction.html">Zend_ProgressBar(日本語)</a></li>
 </ul>
 </td>
    </tr>
</table>
</body>
</html>