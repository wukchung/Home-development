<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>Zend_Service_Akismet(日本語) - Zend Framework Manual</title>

</head>
<body>
<table width="100%">
    <tr valign="top">
        <td width="85%">
            <table width="100%">
                <tr>
                    <td width="25%" style="text-align: left;">
                    <a href="zend.service.introduction.html">導入</a>
                    </td>

                    <td width="50%" style="text-align: center;">
                        <div class="up"><span class="up"><a href="zend.service.html">Zend_Service</a></span><br />
                        <span class="home"><a href="manual.html">Programmer's Reference Guide</a></span></div>
                    </td>

                    <td width="25%" style="text-align: right;">
                        <div class="next" style="text-align: right; float: right;"><a href="zend.service.amazon.html">Zend_Service_Amazon(日本語)</a></div>
                    </td>
                </tr>
            </table>
<hr />
<div id="zend.service.akismet" class="section"><div class="info"><h1 class="title">Zend_Service_Akismet(日本語)</h1></div>
    

    <div class="section" id="zend.service.akismet.introduction" name="zend.service.akismet.introduction"><div class="info"><h1 class="title">導入</h1></div>
        

        <p class="para">
            <span class="classname">Zend_Service_Akismet</span> は、
            <a href="http://akismet.com/development/api/" class="link external">&raquo; Akismet <acronym class="acronym">API</acronym></a>
            のクライアント機能を提供します。Akismet サービスは、
            入力データがスパムかどうかを判定するために用いられます。
            また、あるデータを「スパムである」とか「無実である (ハム)」
            などと登録するためのメソッドも公開しています。
            もともとは Wordpress 向けのスパムを識別するために作られたものですが、
            あらゆる型のデータに対して使用できます。
        </p>

        <p class="para">
            Akismet を使用するには API キーが必要です。
            キーを取得するには <a href="http://wordpress.com/" class="link external">&raquo; WordPress.com</a>
            でアカウントを作成します。blog を作成する必要はありません。
            単にアカウントを作成するだけで API キーが使用できます。
        </p>

        <p class="para">
            さらに、Akismet を使用する場合は、
            フィルタリングしたいデータを指す URL を指定してリクエストする必要があります。
            Akismet は WordPress 向けに作られたものであることから、
            これは blog url と呼ばれます。
            これは、コンストラクタの二番目の引数として渡さなければなりません。
            ただ、いつでも  <span class="methodname">setBlogUrl()</span> で変更することができますし、
            その他のメソッドコールの際に &#039;blog&#039; キーを指定して上書きすることもできます。
        </p>
    </div>

    <div class="section" id="zend.service.akismet.verifykey" name="zend.service.akismet.verifykey"><div class="info"><h1 class="title">API キーの検証</h1></div>
        

        <p class="para">
             <span class="methodname">Zend_Service_Akismet::verifyKey($key)</span>
            を使用して、Akismet API キーが有効かどうかを検証します。
            たいていの場合は特に検証する必要もないでしょうが、
            改ざんされていないかどうか調べたり、
            新しく取得したキーが実際に使用可能かどうかを調べたり
            といった場合にこのメソッドを使用します。
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// API キー、そしてアプリケーションやリソースへの URL</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// を指定してインスタンスを作成します</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$akismet</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_Akismet<span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$apiKey</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'http://framework.zend.com/wiki/'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #b1b100;">if</span> <span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$akismet</span>-&gt;<span style="color: #006600;">verifyKey</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$apiKey</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #ff0000;">&quot;このキーは有効です。<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span> <span style="color: #b1b100;">else</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #ff0000;">&quot;このキーは無効です。<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li></ol></div></div></div>


        <p class="para">
            引数を指定せずにコールすると、 <span class="methodname">verifyKey()</span>
            はコンストラクタで指定した API キーを使用します。
        </p>

        <p class="para">
             <span class="methodname">verifyKey()</span> は、Akismet の
            <code class="code">verify-key</code> REST メソッドを実装したものです。
        </p>
    </div>

    <div class="section" id="zend.service.akismet.isspam" name="zend.service.akismet.isspam"><div class="info"><h1 class="title">スパムのチェック</h1></div>
        

        <p class="para">
             <span class="methodname">Zend_Service_Akismet::isSpam($data)</span>
            を使用して、Akismet がそのデータをスパムとみなすかどうかを調べます。
            引数はひとつで、ここに連想配列を指定することができます。
            この配列には、次のキーを設定しなければなりません。
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">
                    <code class="code">user_ip</code> は、データを送信したユーザの
                    IP アドレスです (あなたの IP アドレスではなく、
                    あなたのサイトを使用しているユーザの IP アドレスです)。
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <code class="code">user_agent</code> は、データを送信したユーザの
                    UserAgent 文字列 (ブラウザおよびバージョン) です。
                </p>
            </li>
        </ul>

        <p class="para">
            以下のキーも、API 側で認識されます。
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">
                    <code class="code">blog</code> は、リソースやアプリケーションを指す
                    完全な URL です。指定しなかった場合は、
                    コンストラクタに渡した URL を使用します。
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <code class="code">referrer</code> は、送信時の
                    HTTP_REFERER ヘッダの内容です
                    (スペルに注意しましょう。ヘッダの名前とは異なります)。
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <code class="code">permalink</code> は、送信するデータの永続的な場所
                    (もしあれば) です。
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <code class="code">comment_type</code> は、データの形式です。
                    ここで指定する値は API で定義されており、
                    &#039;comment&#039;、&#039;trackback&#039;、&#039;pingback&#039; および
                    空の文字列 (&#039;&#039;) などがあります。しかし、
                    任意の値を指定することができます。
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <code class="code">comment_author</code> は、データの送信者の名前です。
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <code class="code">comment_author_email</code> は、
                    データの送信者のメールアドレスです。
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <code class="code">comment_author_url</code> は、
                    データの送信者の URL あるいはホームページです。
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <code class="code">comment_content</code> は、
                    実際に送信されたデータの内容です。
                </p>
            </li>
        </ul>

        <p class="para">
            その他の環境変数の内容を送信し、
            そのデータがスパムであるかどうかの判断材料とさせることもできます。
            Akismet は、$_SERVER 配列の中身をすべて送信することを推奨しています。
        </p>

        <p class="para">
             <span class="methodname">isSpam()</span> メソッドは <b><tt>TRUE</tt></b>
            あるいは <b><tt>FALSE</tt></b> を返します。
            API キーが無効な場合は例外をスローします。
        </p>

        <div class="example"><div class="info"><p><b>Example #1 isSpam() の使用法</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$data</span> = <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'user_ip'</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; =&gt; <span style="color: #ff0000;">'111.222.111.222'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'user_agent'</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'Mozilla/5.0 '</span> . <span style="color: #66cc66;">&#40;</span>Windows; U; Windows NT <span style="color: #ff0000;">' .</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #ff0000;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; '</span><span style="color: #cc66cc;">5.2</span>; en-GB; rv:<span style="color: #cc66cc;">1.8</span><span style="color: #cc66cc;">.1</span><span style="color: #66cc66;">&#41;</span> Gecko/<span style="color: #cc66cc;">20061010</span> <span style="color: #ff0000;">' .</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #ff0000;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; '</span>Firefox/<span style="color: #cc66cc;">2.0</span><span style="color: #ff0000;">',</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #ff0000;">&nbsp; &nbsp; '</span>comment_type<span style="color: #ff0000;">'&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; '</span>contact<span style="color: #ff0000;">',</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #ff0000;">&nbsp; &nbsp; '</span>comment_author<span style="color: #ff0000;">'&nbsp; &nbsp; &nbsp; &nbsp;=&gt; '</span>誰かさん<span style="color: #ff0000;">',</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #ff0000;">&nbsp; &nbsp; '</span>comment_author_email<span style="color: #ff0000;">' =&gt; '</span>nospam@myhaus.net<span style="color: #ff0000;">',</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #ff0000;">&nbsp; &nbsp; '</span>comment_content<span style="color: #ff0000;">'&nbsp; &nbsp; &nbsp; =&gt; &quot;スパマーじゃないもん。信じて!&quot;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #ff0000;">);</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #ff0000;">if ($akismet-&gt;isSpam($data)) {</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #ff0000;">&nbsp; &nbsp; echo &quot;悪いけど、たぶんあなたはスパマーでしょう。&quot;;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #ff0000;">} else {</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #ff0000;">&nbsp; &nbsp; echo &quot;私たちのサイトへようこそ!&quot;;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #ff0000;">}</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #ff0000;"</span></div></li></ol></div></div></div>

        </div>

        <p class="para">
             <span class="methodname">isSpam()</span> は、Akismet API のメソッド
            <code class="code">comment-check</code> を実装したものです。
        </p>
    </div>

    <div class="section" id="zend.service.akismet.submitspam" name="zend.service.akismet.submitspam"><div class="info"><h1 class="title">既知のスパムの送信</h1></div>
        

        <p class="para">
            時には、スパムがフィルタを通過してしまうこともあります。
            フィルタを通過したデータの中に、もし「これはスパムだろう」
            というものが見つかったら、それを Akismet
            に送信しましょう。それにより、フィルタの性能が向上します。
        </p>

        <p class="para">
             <span class="methodname">Zend_Service_Akismet::submitSpam()</span> に指定する配列は、
             <span class="methodname">isSpam()</span> に渡すものと同じ形式です。
            しかし、このメソッドは値を返しません。
            API キーが無効な場合は例外が発生します。
        </p>

        <div class="example"><div class="info"><p><b>Example #2 submitSpam() の使用法</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$data</span> = <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'user_ip'</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; =&gt; <span style="color: #ff0000;">'111.222.111.222'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'user_agent'</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'Mozilla/5.0 (Windows; U; Windows NT 5.2;'</span> .</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'en-GB; rv:1.8.1) Gecko/20061010 Firefox/2.0'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'comment_type'</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'contact'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'comment_author'</span>&nbsp; &nbsp; &nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'誰かさん'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'comment_author_email'</span> =&gt; <span style="color: #ff0000;">'nospam@myhaus.net'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'comment_content'</span>&nbsp; &nbsp; &nbsp; =&gt; <span style="color: #ff0000;">&quot;スパマーじゃないもん。信じて!&quot;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$akismet</span>-&gt;<span style="color: #006600;">submitSpam</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$data</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

        </div>

        <p class="para">
             <span class="methodname">submitSpam()</span> は、Akismet API のメソッド
            <code class="code">submit-spam</code> を実装したものです。
        </p>
    </div>

    <div class="section" id="zend.service.akismet.submitham" name="zend.service.akismet.submitham"><div class="info"><h1 class="title">無実のデータ (ハム) の送信</h1></div>
        

        <p class="para">
            時には、Akismet が間違ってスパムと判定してしまうこともあります。
            そのため、Akismet がスパムと判断したデータのログを定期的にチェックする必要があります。
            このような現象を発見したら、そのデータを Akismet に「ハム」
            あるいは無実のデータとして送信しましょう
            (ハムは善玉、スパムは悪玉です)。
        </p>

        <p class="para">
             <span class="methodname">Zend_Service_Akismet::submitHam()</span> に指定する配列は、
             <span class="methodname">isSpam()</span> や  <span class="methodname">submitSpam()</span>
            に渡すものと同じ形式です。また、
             <span class="methodname">submitSpam()</span> と同様、値を返しません。
            API キーが無効な場合は例外が発生します。
        </p>

        <div class="example"><div class="info"><p><b>Example #3 submitHam() の使用法</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$data</span> = <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'user_ip'</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; =&gt; <span style="color: #ff0000;">'111.222.111.222'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'user_agent'</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'Mozilla/5.0 (Windows; U; Windows NT 5.2;'</span> .</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'en-GB; rv:1.8.1) Gecko/20061010 Firefox/2.0'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'comment_type'</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'contact'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'comment_author'</span>&nbsp; &nbsp; &nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'誰かさん'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'comment_author_email'</span> =&gt; <span style="color: #ff0000;">'nospam@myhaus.net'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'comment_content'</span>&nbsp; &nbsp; &nbsp; =&gt; <span style="color: #ff0000;">&quot;スパマーじゃないもん。信じて!&quot;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$akismet</span>-&gt;<span style="color: #006600;">submitHam</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$data</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

        </div>

        <p class="para">
             <span class="methodname">submitHam()</span> は、Akismet API のメソッド
            <code class="code">submit-ham</code> を実装したものです。
        </p>
    </div>

    <div class="section" id="zend.service.akismet.accessors" name="zend.service.akismet.accessors"><div class="info"><h1 class="title">Zend 固有のアクセス用メソッド</h1></div>
        

        <p class="para">
            Akismet API では四つのメソッドしか定義されていませんが、
            <span class="classname">Zend_Service_Akismet</span> では
            それ以外のアクセス用メソッドも用意しています。
            これらを使用して、内部のプロパティを変更します。
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">
                     <span class="methodname">getBlogUrl()</span> および  <span class="methodname">setBlogUrl()</span>
                    は、リクエストで使用する blog URL を取得したり変更したりします。
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                     <span class="methodname">getApiKey()</span> および  <span class="methodname">setApiKey()</span>
                    は、リクエストで使用する API キーを取得したり変更したりします。
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                     <span class="methodname">getCharset()</span> および  <span class="methodname">setCharset()</span>
                    は、リクエストで使用する文字セットを取得したり変更したりします。
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                     <span class="methodname">getPort()</span> および  <span class="methodname">setPort()</span>
                    は、リクエストで使用する <acronym class="acronym">TCP</acronym> ポートを取得したり変更したりします。
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                     <span class="methodname">getUserAgent()</span> および  <span class="methodname">setUserAgent()</span>
                    は、リクエストで使用する HTTP ユーザエージェントを
                    取得したり変更したりします。
                    注意: これは、サービスに送信するデータの user_agent
                    ではありません。サービスへのリクエストを作成する際に
                    HTTP User-Agent ヘッダで指定する内容となります。
                </p>

                <p class="para">
                    ユーザエージェントに設定する値は
                    <code class="code">some user agent/version | Akismet/version</code>
                    形式でなければなりません。デフォルトは
                    <code class="code">Zend Framework/ZF-VERSION | Akismet/1.11</code>
                    です。<code class="code">ZF-VERSION</code> の部分には現在の
                    Zend Framework のバージョン、つまり定数
                    <b><tt>Zend_Framework::VERSION</tt></b>
                    の値があてはまります。
                </p>
            </li>
        </ul>
    </div>
</div>
        <hr />

            <table width="100%">
                <tr>
                    <td width="25%" style="text-align: left;">
                    <a href="zend.service.introduction.html">導入</a>
                    </td>

                    <td width="50%" style="text-align: center;">
                        <div class="up"><span class="up"><a href="zend.service.html">Zend_Service</a></span><br />
                        <span class="home"><a href="manual.html">Programmer's Reference Guide</a></span></div>
                    </td>

                    <td width="25%" style="text-align: right;">
                        <div class="next" style="text-align: right; float: right;"><a href="zend.service.amazon.html">Zend_Service_Amazon(日本語)</a></div>
                    </td>
                </tr>
            </table>
</td>
        <td style="font-size: smaller;" width="15%"> <style type="text/css">
#leftbar {
	float: left;
	width: 186px;
	padding: 5px;
	font-size: smaller;
}
ul.toc {
	margin: 0px 5px 5px 5px;
	padding: 0px;
}
ul.toc li {
	font-size: 85%;
	margin: 1px 0 1px 1px;
	padding: 1px 0 1px 11px;
	list-style-type: none;
	background-repeat: no-repeat;
	background-position: center left;
}
ul.toc li.header {
	font-size: 115%;
	padding: 5px 0px 5px 11px;
	border-bottom: 1px solid #cccccc;
	margin-bottom: 5px;
}
ul.toc li.active {
	font-weight: bold;
}
ul.toc li a {
	text-decoration: none;
}
ul.toc li a:hover {
	text-decoration: underline;
}
</style>
 <ul class="toc">
  <li class="header home"><a href="manual.html">Programmer's Reference Guide</a></li>
  <li class="header up"><a href="manual.html">Programmer's Reference Guide</a></li>
  <li class="header up"><a href="reference.html">Zend Framework Reference</a></li>
  <li class="header up"><a href="zend.service.html">Zend_Service</a></li>
  <li><a href="zend.service.introduction.html">導入</a></li>
  <li class="active"><a href="zend.service.akismet.html">Zend_Service_Akismet(日本語)</a></li>
  <li><a href="zend.service.amazon.html">Zend_Service_Amazon(日本語)</a></li>
  <li><a href="zend.service.amazon.ec2.html">Zend_Service_Amazon_Ec2(日本語)</a></li>
  <li><a href="zend.service.amazon.ec2.instance.html">Zend_Service_Amazon_Ec2: Instances</a></li>
  <li><a href="zend.service.amazon.ec2.windows.instance.html">Zend_Service_Amazon_Ec2: Windows Instances</a></li>
  <li><a href="zend.service.amazon.ec2.reserved.instance.html">Zend_Service_Amazon_Ec2: Reserved Instances</a></li>
  <li><a href="zend.service.amazon.ec2.cloudwatch.html">Zend_Service_Amazon_Ec2: CloudWatch Monitoring</a></li>
  <li><a href="zend.service.amazon.ec2.images.html">Zend_Service_Amazon_Ec2: Amazon Machine Images (AMI)</a></li>
  <li><a href="zend.service.amazon.ec2.ebs.html">Zend_Service_Amazon_Ec2: Elastic Block Storage (EBS)</a></li>
  <li><a href="zend.service.amazon.ec2.elasticip.html">Zend_Service_Amazon_Ec2: Elastic IP Addresses</a></li>
  <li><a href="zend.service.amazon.ec2.keypairs.html">Zend_Service_Amazon_Ec2: Keypairs(日本語)</a></li>
  <li><a href="zend.service.amazon.ec2.zones.html">Zend_Service_Amazon_Ec2:リージョンおよび利用可能ゾーン</a></li>
  <li><a href="zend.service.amazon.ec2.securitygroups.html">Zend_Service_Amazon_Ec2: Security Groups</a></li>
  <li><a href="zend.service.amazon.s3.html">Zend_Service_Amazon_S3</a></li>
  <li><a href="zend.service.amazon.sqs.html">Zend_Service_Amazon_Sqs</a></li>
  <li><a href="zend.service.audioscrobbler.html">Zend_Service_Audioscrobbler(日本語)</a></li>
  <li><a href="zend.service.delicious.html">Zend_Service_Delicious(日本語)</a></li>
  <li><a href="zend.service.developergarden.html">Zend_Service_DeveloperGarden</a></li>
  <li><a href="zend.service.ebay.html">Zend_Service_Ebay</a></li>
  <li><a href="zend.service.ebay.finding.html">Zend_Service_Ebay_Finding</a></li>
  <li><a href="zend.service.flickr.html">Zend_Service_Flickr(日本語)</a></li>
  <li><a href="zend.service.livedocx.html">Zend_Service_LiveDocx</a></li>
  <li><a href="zend.service.nirvanix.html">Zend_Service_Nirvanix(日本語)</a></li>
  <li><a href="zend.service.recaptcha.html">Zend_Service_ReCaptcha(日本語)</a></li>
  <li><a href="zend.service.short-url.html">Zend_Service_ShortUrl</a></li>
  <li><a href="zend.service.simpy.html">Zend_Service_Simpy(日本語)</a></li>
  <li><a href="zend.service.slideshare.html">Zend_Service_SlideShare(日本語)</a></li>
  <li><a href="zend.service.strikeiron.html">Zend_Service_StrikeIron(日本語)</a></li>
  <li><a href="zend.service.strikeiron.bundled-services.html">Zend_Service_StrikeIron: バンドルされているサービス</a></li>
  <li><a href="zend.service.strikeiron.advanced-uses.html">Zend_Service_StrikeIron: 応用編</a></li>
  <li><a href="zend.service.technorati.html">Zend_Service_Technorati(日本語)</a></li>
  <li><a href="zend.service.twitter.html">Zend_Service_Twitter</a></li>
  <li><a href="zend.service.windowsazure.html">Zend_Service_WindowsAzure</a></li>
  <li><a href="zend.service.windowsazure.storage.blob.html">Zend_Service_WindowsAzure_Storage_Blob</a></li>
  <li><a href="zend.service.windowsazure.diagnostics.manager.html">Zend_Service_WindowsAzure_Diagnostics_Manager</a></li>
  <li><a href="zend.service.windowsazure.storage.queue.html">Zend_Service_WindowsAzure_Storage_Queue</a></li>
  <li><a href="zend.service.windowsazure.storage.table.html">Zend_Service_WindowsAzure_Storage_Table</a></li>
  <li><a href="zend.service.yahoo.html">Zend_Service_Yahoo(日本語)</a></li>
 </ul>
 </td>
    </tr>
</table>
</body>
</html>