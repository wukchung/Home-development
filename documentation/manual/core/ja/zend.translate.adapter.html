<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>Zend_Translate のアダプタ - Zend Framework Manual</title>

</head>
<body>
<table width="100%">
    <tr valign="top">
        <td width="85%">
            <table width="100%">
                <tr>
                    <td width="25%" style="text-align: left;">
                    <a href="zend.translate.introduction.html">導入</a>
                    </td>

                    <td width="50%" style="text-align: center;">
                        <div class="up"><span class="up"><a href="zend.translate.html">Zend_Translate</a></span><br />
                        <span class="home"><a href="manual.html">Programmer's Reference Guide</a></span></div>
                    </td>

                    <td width="25%" style="text-align: right;">
                        <div class="next" style="text-align: right; float: right;"><a href="zend.translate.using.html">翻訳アダプタの使用法</a></div>
                    </td>
                </tr>
            </table>
<hr />
<div id="zend.translate.adapter" class="section"><div class="info"><h1 class="title">Zend_Translate のアダプタ</h1></div>
    

    <p class="para">
        <span class="classname">Zend_Translate</span> は、さまざまなアダプタを使用して翻訳を行えます。
        それぞれのアダプタによって利点や欠点があります。
        以下に、翻訳の入力ファイルとしてサポートしているすべてのアダプタについてまとめます。
    </p>

    <table class="doctable table"><div class="info"><caption><b><span class="classname">Zend_Translate</span> のアダプタ</b></caption></div>
        

        
            <thead valign="middle">
                <tr valign="middle">
                    <th>アダプタ</th>
                    <th>説明</th>
                    <th>備考</th>
                </tr>

            </thead>


            <tbody valign="middle" class="tbody">
                <tr valign="middle">
                    <td align="left">Array</td>
                    <td align="left"><acronym class="acronym">PHP</acronym> の配列</td>
                    <td align="left">小さめのページ。簡単に使用できる。プログラマしかさわれない。</td>
                </tr>


                <tr valign="middle">
                    <td align="left">Csv</td>
                    <td align="left">カンマ区切りファイル (*.csv/*.txt)</td>
                    <td align="left">シンプルなテキスト形式。高速。Unicode 文字で問題が発生する可能性がある。</td>
                </tr>


                <tr valign="middle">
                    <td align="left">Gettext</td>
                    <td align="left">gettext のバイナリファイル (*.mo)</td>
                    <td align="left">linux における GNU の標準形式。スレッドセーフ。翻訳用ツールが必要。</td>
                </tr>


                <tr valign="middle">
                    <td align="left">Ini</td>
                    <td align="left">シンプルな <acronym class="acronym">INI</acronym> ファイル (*.ini)</td>
                    <td align="left">シンプルなテキスト形式。高速。Unicode 文字で問題が発生する可能性がある。</td>
                </tr>


                <tr valign="middle">
                    <td align="left">Tbx</td>
                    <td align="left">termbase 変換ファイル (*.tbx/*.xml)</td>
                    <td align="left">アプリケーション間で専門用語を変換するための業界標準。<acronym class="acronym">XML</acronym> フォーマット。</td>
                </tr>


                <tr valign="middle">
                    <td align="left">Tmx</td>
                    <td align="left">tmx ファイル (*.tmx/*.xml)</td>
                    <td align="left">アプリケーション間での翻訳の業界標準。<acronym class="acronym">XML</acronym> フォーマット。可読形式。</td>
                </tr>


                <tr valign="middle">
                    <td align="left">Qt</td>
                    <td align="left">qt 言語ファイル (*.ts)</td>
                    <td align="left">クロスプラットフォームなアプリケーションフレームワーク。<acronym class="acronym">XML</acronym> フォーマット。可読形式。</td>
                </tr>


                <tr valign="middle">
                    <td align="left">Xliff</td>
                    <td align="left">xliff ファイル (*.xliff/*.xml)</td>
                    <td align="left"><acronym class="acronym">TMX</acronym> に似ているが、よりシンプル。<acronym class="acronym">XML</acronym> フォーマット。可読形式。</td>
                </tr>


                <tr valign="middle">
                    <td align="left">XmlTm</td>
                    <td align="left">xmltm ファイル (*.xml)</td>
                    <td align="left"><acronym class="acronym">XML</acronym> ドキュメントの翻訳メモリの業界標準。<acronym class="acronym">XML</acronym> フォーマット。可読形式。</td>
                </tr>


                <tr valign="middle">
                    <td align="left">その他</td>
                    <td align="left">*.sql</td>
                    <td align="left">今後、その他さまざまなアダプタを実装する予定です。</td>
                </tr>

            </tbody>
        
    </table>


    <div class="section" id="zend.translate.adapter.decision" name="zend.translate.adapter.decision"><div class="info"><h1 class="title">使用するアダプタを決める方法</h1></div>
        

        <p class="para">
            <span class="classname">Zend_Translate</span> でどのアダプタを使用するのかを決める必要があります。
            プロジェクトの制約や顧客からの要望などの外的要因でアダプタが決まることもよくありますが、
            もしあなたに決定権があるのなら、以下のヒントを参考にしてください。
        </p>

        <blockquote><p><b class="note">Note</b>: 
            
                使用するアダプタを決めるにあたっては、
                使用するエンコーディングを考慮しなければなりません。
                Zend Framework では UTF-8 をデフォルトのエンコーディングとしていますが、
                時には他のエンコーディングを使わなければならないこともあるでしょう。
                <span class="classname">Zend_Translate</span> は、
                ソースファイル内で定義されているエンコーディングを変更しません。
                つまり、もし Gettext のソースが ISO-8859-1 で作られている場合は、
                それをそのままのエンコーディングで返します。
                ただ、ひとつだけ制限があります。
            <br />

            
                TMX や XLIFF といった <acronym class="acronym">XML</acronym> ベースのソース形式を使用する場合は、
                そのエンコーディングを <acronym class="acronym">XML</acronym> ファイルのヘッダで定義しなければなりません。
                エンコーディングの定義がない <acronym class="acronym">XML</acronym> ファイルは、
                デフォルトでは UTF-8 として扱われるからです。
                また、もうひとつ注意すべき点は、<acronym class="acronym">XML</acronym>
                ファイルのエンコーディングとして使用できるのは <acronym class="acronym">PHP</acronym>
                がサポートしているエンコーディングのみであること、
                つまり UTF-8、ISO-8859-1 および US-ASCII だけであるということです。
            <br />
        </p></blockquote>

        <div class="section" id="zend.translate.adapter.array" name="zend.translate.adapter.array"><div class="info"><h1 class="title">Zend_Translate_Adapter_Array</h1></div>
            

            <p class="para">
                Array アダプタは、プログラマにとっては
                一番シンプルに使えるアダプタです。
                しかし、翻訳する文字列が大量にある場合や
                多くの言語に翻訳する必要がある場合は、別のアダプタを使うようにしましょう。
                たとえば、翻訳文字列が 5000 ほどある場合は
                Array アダプタは選択しないほうがいいでしょう。
            </p>

            <p class="para">
                このアダプタを使うのは、小さめのサイトで少なめの言語を扱い、
                かつプログラマ自身で翻訳も行う場合だけにしましょう。
            </p>
        </div>

        <div class="section" id="zend.translate.adapter.csv" name="zend.translate.adapter.csv"><div class="info"><h1 class="title">Zend_Translate_Adapter_Csv</h1></div>
            

            <p class="para">
                Csv アダプタは、顧客にとっては最もシンプルに使えるアダプタです。
                CSV ファイルは標準的なテキストエディタで読むことができますが、
                エディタによっては utf8 文字セットをサポートしていないものもあります。
            </p>

            <p class="para">
                このアダプタを使うのは、
                顧客が自分で翻訳を行いたいという場合だけにしましょう。
            </p>

            <blockquote><p><b class="note">Note</b>: 
                
                    Csv ファイルのエンコードがあなたの環境のロケール設定と異なる場合、
                    Csv アダプタで問題が発生することに注意しましょう。
                    これは <acronym class="acronym">PHP</acronym> 自体のバグによるもので、このバグは <acronym class="acronym">PHP</acronym> 6.0
                    で修正される予定です (http://bugs.php.net/bug.php?id=38471)。
                    したがって、Csv アダプタを使用する場合は
                    (<acronym class="acronym">PHP</acronym> の制約のせいで) それがロケール対応でないということに注意しなければなりません。
                <br />
            </p></blockquote>
        </div>

        <div class="section" id="zend.translate.adapter.gettext" name="zend.translate.adapter.gettext"><div class="info"><h1 class="title">Zend_Translate_Adapter_Gettext</h1></div>
            

            <p class="para">
                Gettext アダプタは、最もよく用いられるアダプタです。
                Gettext は GNU が提供している翻訳フォーマットで、世界中で使用されています。
                可読形式ではありませんが、便利なフリーウェア
                (<a href="http://sourceforge.net/projects/poedit/" class="link external">&raquo; POEdit</a> など)
                が公開されています。
                <span class="classname">Zend_Translate</span> の Gettext アダプタは、<acronym class="acronym">PHP</acronym> の gettext
                拡張モジュールを使わずに実装しています。
                <acronym class="acronym">PHP</acronym> の gettext 拡張モジュールをインストールしていなくても
                Gettext アダプタを使用することが可能です。
                また、このアダプタはスレッドセーフですが、<acronym class="acronym">PHP</acronym> の gettext
                拡張モジュールは現状ではスレッドセーフでありません。
            </p>

            <p class="para">
                ほとんどの人たちは、このアダプタを使うことになるでしょう。
                便利なツールを使用することで、高品質な翻訳が簡単に作成できます。
                しかし、gettext のデータは機械が読める形式で保存されるので、
                何らかのツールがないと人間が読むことはできません。
            </p>
        </div>

        <div class="section" id="zend.translate.adapter.ini" name="zend.translate.adapter.ini"><div class="info"><h1 class="title">Zend_Translate_Adapter_Ini</h1></div>
            

            <p class="para">
                Ini アダプタは非常にシンプルなアダプタであり、
                顧客が直接触ることができます。
                <acronym class="acronym">INI</acronym> ファイルは標準的なテキストエディタで読むことができますが、
                エディタによっては utf8 文字セットをサポートしていないものもあります。
            </p>

            <p class="para">
                このアダプタを使うのは、
                顧客が自分で翻訳を行いたいという場合だけにしましょう。
                汎用的な翻訳ソースとしては使用しないようにしましょう。
            </p>

            <div class="warning"><b class="warning">Warning</b><div class="info"><h1 class="title">PHP 5.3 でのリグレッション</h1></div>
                

                <p class="para">
                    <acronym class="acronym">PHP</acronym> 5.3 より前のバージョンでは、 <span class="methodname">parse_ini_file()</span>
                    および  <span class="methodname">parse_ini_string()</span> で
                    <acronym class="acronym">INI</acronym> オプションのキーに非 ASCII 文字を問題なく使用できました。
                    しかし <acronym class="acronym">PHP</acronym> 5.3 以降では、
                    非 ASCII 文字のキーはどちらの関数の返す配列からも黙って抜け落ちてしまいます。
                    UTF-8 や Latin-1 の文字をキーに使用している場合は、
                    <acronym class="acronym">INI</acronym> アダプタを使うと翻訳が正しく機能しなくなってしまいました。
                    そのような場合は別のアダプタを使用することを推奨します。
                </p>
            </div>
        </div>

        <div class="section" id="zend.translate.adapter.tbx" name="zend.translate.adapter.tbx"><div class="info"><h1 class="title">Zend_Translate_Adapter_Tbx</h1></div>
            

            <p class="para">
                Tbx アダプタは、内部ですでに TBX フォーマットの翻訳システムを使用している顧客などが使用します。
                Tbx は標準の翻訳フォーマットではありませんが、
                すでに多くの翻訳や翻訳済み文字列が存在します。
                このアダプタを使用する場合は、
                必要な文字列をすべて翻訳しなければならないことに気をつけましょう。
                TBX は、まったく新しく作られた <acronym class="acronym">XML</acronym> ベースのフォーマットです。
                <acronym class="acronym">XML</acronym> ファイルは人間が読むことも可能ですが、
                パース速度は gettext ファイルより遅くなります。
            </p>

            <p class="para">
                このアダプタは、すでにこの形式の翻訳ファイルを持っている企業に最適です。
                ファイルは可読形式で、システムに依存しない形式になります。
            </p>
        </div>

        <div class="section" id="zend.translate.adapter.tmx" name="zend.translate.adapter.tmx"><div class="info"><h1 class="title">Zend_Translate_Adapter_Tmx</h1></div>
            

            <p class="para">
                Tmx アダプタは、複数のシステムで同一の翻訳ソースを使用している顧客などが使用します。
                また、翻訳ソースをシステムに依存しない形式にしたい場合にも使用します。
                TMX は <acronym class="acronym">XML</acronym> 形式のフォーマットで、業界標準になるといわれています。
                <acronym class="acronym">XML</acronym> ファイルは人間が読むことも可能ですが、
                パース速度は gettext ファイルより遅くなります。
            </p>

            <p class="para">
                中規模から大規模の会社はこのアダプタを使用します。
                ファイルは可読形式で、システムに依存しない形式になります。
            </p>
        </div>

        <div class="section" id="zend.translate.adapter.qt" name="zend.translate.adapter.qt"><div class="info"><h1 class="title">Zend_Translate_Adapter_Qt</h1></div>
            

            <p class="para">
                Qt アダプタは、QtLinguist で作成した TS
                ファイル形式の翻訳を使用している顧客が使用します。
                QT は <acronym class="acronym">XML</acronym> 形式のフォーマットです。
                <acronym class="acronym">XML</acronym> ファイルは人間が読むことも可能ですが、
                パース速度は gettext ファイルより遅くなります。
            </p>

            <p class="para">
                大手企業の中には QT フレームワークを使用したソフトウェアを作成しているところがあります。
                ファイルは可読形式で、システムに依存しない形式になります。
            </p>
        </div>

        <div class="section" id="zend.translate.adapter.xliff" name="zend.translate.adapter.xliff"><div class="info"><h1 class="title">Zend_Translate_Adapter_Xliff</h1></div>
            

            <p class="para">
                Xliff アダプタは、<acronym class="acronym">XML</acronym> ファイルを使用したいけれど
                TMX 用のツールを持っていないという顧客などが使用します。
                XLIFF は <acronym class="acronym">XML</acronym> 形式のフォーマットで、
                TMX と関連していますがもうすこしシンプルです。機能も一部限定されています。
                <acronym class="acronym">XML</acronym> ファイルは人間が読むことも可能ですが、
                パース速度は gettext ファイルより遅くなります。
            </p>

            <p class="para">
                中規模の会社はこのアダプタを使用します。
                ファイルは可読形式で、システムに依存しない形式になります。
            </p>
        </div>

        <div class="section" id="zend.translate.adapter.xmltm" name="zend.translate.adapter.xmltm"><div class="info"><h1 class="title">Zend_Translate_Adapter_XmlTm</h1></div>
            

            <p class="para">
                XmlTm アダプタは、すでにこのレイアウトを採用している顧客が使用するアダプタです。
                XmlTm は、 <acronym class="acronym">HTML</acronym> ソース全体を翻訳ソースに含めることのできるフォーマットで、
                翻訳とレイアウトがひとつにまとまります。
                XLIFF は <acronym class="acronym">XML</acronym> ベースのフォーマットです。XLIFF
                と関連していますが、それほど読みやすくはありません。
            </p>

            <p class="para">
                このアダプタは、すでにソースファイルが存在する場合にのみ使用するようにしましょう。
                ファイルは可読形式で、システムに依存しない形式になります。
            </p>
        </div>

    </div>

    <div class="section" id="zend.translate.adapter.selfwritten" name="zend.translate.adapter.selfwritten"><div class="info"><h1 class="title">自作のアダプタの組み込み</h1></div>
        

        <p class="para">
            <span class="classname">Zend_Translate</span> に、自作のアダプタクラスを組み込むこともできます。
            これは、<span class="classname">Zend_Translate</span> に組み込まれている標準のアダプタクラスと同様に使用できます。
        </p>

        <p class="para">
            <span class="classname">Zend_Translate</span> で使用するアダプタクラスは、
            <span class="classname">Zend_Translate_Adapter</span> のサブクラスでなければなりません。
            <span class="classname">Zend_Translate_Adapter</span> は抽象クラスであり、翻訳に必要なものをすべて定義しています。
            あなたがすべきことは、翻訳データの読み込み方法を定義することだけです。
        </p>

        <p class="para">
            名前の先頭に &quot;Zend&quot; をつけることができるのは Zend_Framework
            内のパッケージだけです。<span class="classname">Zend_Translate</span> で使うためのアダプタを自作する場合は、
            その名前はたとえば &quot;Company_Translate_Adapter_MyFormat&quot; のようにする必要があります。
            次のコードは、独自のアダプタクラスを実装する例を示すものです。
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">try <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #0000ff;">$translate</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Translate<span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'adapter'</span> =&gt; <span style="color: #ff0000;">'Company_Translate_Adapter_MyFormat'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'content'</span> =&gt; <span style="color: #ff0000;">'/path/to/translate.xx'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'locale'</span>&nbsp; =&gt; <span style="color: #ff0000;">'en'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'myoption'</span> =&gt; <span style="color: #ff0000;">'myvalue'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#41;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span> catch <span style="color: #66cc66;">&#40;</span>Exception <span style="color: #0000ff;">$e</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #808080; font-style: italic;">// ファイルが見つからない、アダプタクラスが存在しない、……</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #808080; font-style: italic;">// などの一般的なエラー</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li></ol></div></div></div>


    </div>

    <div class="section" id="zend.translate.adapter.caching" name="zend.translate.adapter.caching"><div class="info"><h1 class="title">全アダプタの高速化</h1></div>
        

        <p class="para">
            <span class="classname">Zend_Translate</span> では、内部的に <span class="classname">Zend_Cache</span>
            を使用して翻訳ソースの読み込みを高速化できます。
            これは、多数の翻訳ソースを使用していたり
            <acronym class="acronym">XML</acronym> ベースの複雑なソース形式を使用していたりする場合に非常に便利です。
        </p>

        <p class="para">
            キャッシュ機能を使用するには、キャッシュオブジェクトを
             <span class="methodname">Zend_Translate::setCache()</span> メソッドで渡します。
            このメソッドの唯一のパラメータには
            <span class="classname">Zend_Cache</span> のインスタンスを指定します。
            また、任意のアダプタを直接使用するには
             <span class="methodname">setCache()</span> メソッドを使用します。
            利便性を考慮して、静的メソッド
             <span class="methodname">getCache()</span>、 <span class="methodname">hasCache()</span>、 <span class="methodname">clearCache()</span> および
             <span class="methodname">removeCache()</span> も用意されています。
        </p>

        
        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$cache</span> = Zend_Cache::<span style="color: #006600;">factory</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Core'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #ff0000;">'File'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #0000ff;">$frontendOptions</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #0000ff;">$backendOptions</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">Zend_Translate::<span style="color: #006600;">setCache</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$cache</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$translate</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Translate<span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'adapter'</span> =&gt; <span style="color: #ff0000;">'gettext'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'content'</span> =&gt; <span style="color: #ff0000;">'/path/to/translate.mo'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'locale'</span>&nbsp; =&gt; <span style="color: #ff0000;">'en'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #66cc66;">&#41;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// to clear the cache somewhere later in your code</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">Zend_Translate::<span style="color: #006600;">clearCache</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>


        <blockquote><p><b class="note">Note</b>: 
            
                キャッシュの設定は、アダプタや
                <span class="classname">Zend_Translate</span> のインスタンスを使用したり初期化したりする
                <em class="emphasis">前</em> に行わなければなりません。
                さもないと、新たなソースを
                 <span class="methodname">addTranslation()</span> メソッドで追加するまで
                翻訳ソースのキャッシュは行われません。
            <br />
        </p></blockquote>

        
        <p class="para">
            When the attached cache supports tagging you can set a own tag string by using the
            option <span class="property">tag</span>. This allows you do delete only the cache from this
            single instance of <span class="classname">Zend_Translate</span>. When you are not using this
            option the default tag <span class="classname">Zend_Translate</span> is used.
        </p>

        <p class="para">
            Using the option <span class="property">tag</span> you must give the used tag to
             <span class="methodname">clearCache()</span> to declare which tag you want to delete.
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$cache</span> = Zend_Cache::<span style="color: #006600;">factory</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Core'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #ff0000;">'File'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #0000ff;">$frontendOptions</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #0000ff;">$backendOptions</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">Zend_Translate::<span style="color: #006600;">setCache</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$cache</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$translate</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Translate<span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'adapter'</span> =&gt; <span style="color: #ff0000;">'gettext'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'content'</span> =&gt; <span style="color: #ff0000;">'/path/to/translate.mo'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'locale'</span>&nbsp; =&gt; <span style="color: #ff0000;">'en'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'tag'</span>&nbsp; &nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'MyTag'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #66cc66;">&#41;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// somewhere later in your code</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">Zend_Translate::<span style="color: #006600;">clearCache</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'MyTag'</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

    </div>
</div>
        <hr />

            <table width="100%">
                <tr>
                    <td width="25%" style="text-align: left;">
                    <a href="zend.translate.introduction.html">導入</a>
                    </td>

                    <td width="50%" style="text-align: center;">
                        <div class="up"><span class="up"><a href="zend.translate.html">Zend_Translate</a></span><br />
                        <span class="home"><a href="manual.html">Programmer's Reference Guide</a></span></div>
                    </td>

                    <td width="25%" style="text-align: right;">
                        <div class="next" style="text-align: right; float: right;"><a href="zend.translate.using.html">翻訳アダプタの使用法</a></div>
                    </td>
                </tr>
            </table>
</td>
        <td style="font-size: smaller;" width="15%"> <style type="text/css">
#leftbar {
	float: left;
	width: 186px;
	padding: 5px;
	font-size: smaller;
}
ul.toc {
	margin: 0px 5px 5px 5px;
	padding: 0px;
}
ul.toc li {
	font-size: 85%;
	margin: 1px 0 1px 1px;
	padding: 1px 0 1px 11px;
	list-style-type: none;
	background-repeat: no-repeat;
	background-position: center left;
}
ul.toc li.header {
	font-size: 115%;
	padding: 5px 0px 5px 11px;
	border-bottom: 1px solid #cccccc;
	margin-bottom: 5px;
}
ul.toc li.active {
	font-weight: bold;
}
ul.toc li a {
	text-decoration: none;
}
ul.toc li a:hover {
	text-decoration: underline;
}
</style>
 <ul class="toc">
  <li class="header home"><a href="manual.html">Programmer's Reference Guide</a></li>
  <li class="header up"><a href="manual.html">Programmer's Reference Guide</a></li>
  <li class="header up"><a href="reference.html">Zend Framework Reference</a></li>
  <li class="header up"><a href="zend.translate.html">Zend_Translate</a></li>
  <li><a href="zend.translate.introduction.html">導入</a></li>
  <li class="active"><a href="zend.translate.adapter.html">Zend_Translate のアダプタ</a></li>
  <li><a href="zend.translate.using.html">翻訳アダプタの使用法</a></li>
  <li><a href="zend.translate.sourcecreation.html">ソースファイルの作成</a></li>
  <li><a href="zend.translate.additional.html">翻訳用の追加機能</a></li>
  <li><a href="zend.translate.plurals.html">Plural notations for Translation</a></li>
 </ul>
 </td>
    </tr>
</table>
</body>
</html>