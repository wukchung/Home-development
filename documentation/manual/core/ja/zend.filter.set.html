<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>標準のフィルタクラス群 - Zend Framework Manual</title>

</head>
<body>
<table width="100%">
    <tr valign="top">
        <td width="85%">
            <table width="100%">
                <tr>
                    <td width="25%" style="text-align: left;">
                    <a href="zend.filter.introduction.html">導入</a>
                    </td>

                    <td width="50%" style="text-align: center;">
                        <div class="up"><span class="up"><a href="zend.filter.html">Zend_Filter</a></span><br />
                        <span class="home"><a href="manual.html">Programmer's Reference Guide</a></span></div>
                    </td>

                    <td width="25%" style="text-align: right;">
                        <div class="next" style="text-align: right; float: right;"><a href="zend.filter.filter_chains.html">フィルタチェイン</a></div>
                    </td>
                </tr>
            </table>
<hr />
<div id="zend.filter.set" class="section"><div class="info"><h1 class="title">標準のフィルタクラス群</h1></div>

    

    <p class="para">
        Zend Framework には、すぐに使える標準のフィルタ群が同梱されています。
    </p>

    <div class="section" id="zend.filter.set.alnum" name="zend.filter.set.alnum"><div class="info"><h1 class="title">Alnum(日本語)</h1></div>
    

    <p class="para">
        <span class="classname">Zend_Filter_Alnum</span> は、
        アルファベットおよび数字だけを返すフィルターです。
        他の全ての文字は抑止されます。
        （訳注：ここでいうアルファベットおよび数字、とは各言語で使われる文字および数字の集合を意味します。英数字<em class="emphasis">ではありません</em>）
    </p>

    <div class="section" id="zend.filter.set.alnum.options" name="zend.filter.set.alnum.options"><div class="info"><h1 class="title">Zend_Filter_Alnum でサポートされるオプション</h1></div>
        

        <p class="para">
            下記のオプションが <span class="classname">Zend_Filter_Alnum</span> でサポートされます。
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">
                    <em class="emphasis"><span class="property">allowwhitespace</span></em>:
                    このオプションが設定されていると、空白文字が許されます。
                    設定されていない場合は抑止されます。既定値では、空白は許されません。
                </p>
            </li>
        </ul>
    </div>

    <div class="section" id="zend.filter.set.alnum.basic" name="zend.filter.set.alnum.basic"><div class="info"><h1 class="title">基本的な使用法</h1></div>
        

        <p class="para">
            このフィルターの既定の振る舞いについては、下記の例をご覧ください。
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Alnum<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$return</span> = <span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'This is (my) content: 123'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// 'Thisismycontent123' を返します</span></div></li></ol></div></div></div>


        <p class="para">
            上記の例は &#039;Thisismycontent123&#039; を返します。
            ご覧の通り、空白の全てと、括弧がフィルターされています。
        </p>

        <blockquote><p><b class="note">Note</b>: 
            
                <span class="classname">Zend_Filter_Alnum</span> はほとんどの言語で動作します。
                しかし実際には、３つの例外、中国語、日本語、Koreanがあります。
                これらの言語では、英語のアルファベットがそれらの言語の文字の替わりに使用されます。
                この言語自身は <span class="classname">Zend_Locale</span> を使って検出されます。
            <br />
        </p></blockquote>
    </div>

    <div class="section" id="zend.filter.set.alnum.whitespace" name="zend.filter.set.alnum.whitespace"><div class="info"><h1 class="title">空白を許す</h1></div>
        

        <p class="para">
            <span class="classname">Zend_Filter_Alnum</span> は空白も許します。
            テキストから特別な文字を取り除きたい場合に役立つでしょう。下記の例をご覧ください。
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Alnum<span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'allowwhitespace'</span> =&gt; <span style="color: #000000; font-weight: bold;">true</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$return</span> = <span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'This is (my) content: 123'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// 'This is my content 123' を返します。</span></div></li></ol></div></div></div>


        <p class="para">
            上記の例は &#039;This is my content 123&#039; を返します。
            ご覧の通り、括弧はフィルターされましたが、空白には手が出されていません。
        </p>

        <p class="para">
            あとで <span class="property">allowWhiteSpace</span> を変更するには、
             <span class="methodname">setAllowWhiteSpace()</span> や
             <span class="methodname">getAllowWhiteSpace()</span> を使用できます。
        </p>
    </div>
</div>
    <div class="section" id="zend.filter.set.alpha" name="zend.filter.set.alpha"><div class="info"><h1 class="title">Alpha(日本語)</h1></div>
    

    <p class="para">
        <span class="classname">Zend_Filter_Alpha</span> は、
        アルファベットを残して全てを削除した、文字列 <var class="varname">$value</var>
        を返すフィルターです。このフィルターには、空白文字を許すオプションもあります。
        （訳注：ここでいうアルファベット、とはアラビア文字やタイ文字、キリール文字など、各言語で使われる文字の集合を意味します。英字<em class="emphasis">とは限りません</em>）
    </p>

    <div class="section" id="zend.filter.set.alpha.options" name="zend.filter.set.alpha.options"><div class="info"><h1 class="title">Zend_Filter_Alpha でサポートされるオプション</h1></div>
        

        <p class="para">
            下記のオプションが <span class="classname">Zend_Filter_Alpha</span> でサポートされます。
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">
                    <em class="emphasis"><span class="property">allowwhitespace</span></em>:
                    このオプションが設定されていると、空白文字が許されます。
                    設定されていない場合は抑止されます。既定値では、空白文字は許されません。
                </p>
            </li>
        </ul>
    </div>

    <div class="section" id="zend.filter.set.alpha.basic" name="zend.filter.set.alpha.basic"><div class="info"><h1 class="title">基本的な使用法</h1></div>
        

        <p class="para">
            下記は基本的な使用例です。
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Alpha<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/print"><span style="color: #000066;">print</span></a> <span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'This is (my) content: 123'</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>


        <p class="para">
            上記の例は &#039;Thisismycontent&#039; を返します。
            空白文字と括弧が削除されていることに注意してください。
        </p>

        <blockquote><p><b class="note">Note</b>: 
            
                <span class="classname">Zend_Filter_Alpha</span> はほとんどの言語で動作します。
                しかしながら、３つの例外、中国語、日本語、Koreanがあります。
                これらの言語では、英語のアルファベットが使用されます。
                言語は <span class="classname">Zend_Locale</span> の使用を通じて検出されます。
            <br />
        </p></blockquote>
    </div>

     <div class="section" id="zend.filter.set.alpha.whitespace" name="zend.filter.set.alpha.whitespace"><div class="info"><h1 class="title">空白文字を許す</h1></div>
         

        <p class="para">
            <span class="classname">Zend_Filter_Alpha</span> は空白文字も許せます。
            文字列から特別な文字を取り除きたい場合に役立つでしょう。
            下記の例をご覧ください。
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Alpha<span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'allowwhitespace'</span> =&gt; <span style="color: #000000; font-weight: bold;">true</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/print"><span style="color: #000066;">print</span></a> <span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'This is (my) content: 123'</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>


        <p class="para">
            上記の例は &#039;This is my content &#039; を返します。
            括弧やコロン、数字が全て除去された一方で、空白文字が残っていることに注意してください。
        </p>

        <p class="para">
            メソッド初期化後に <span class="property">allowWhiteSpace</span> を変更するには、
             <span class="methodname">setAllowWhiteSpace()</span> が使えるでしょう。
        </p>

        <p class="para">
            メソッドの現在の <span class="property">allowWhiteSpace</span> の値を照会するには、
             <span class="methodname">getAllowWhiteSpace()</span> が使えるでしょう。
        </p>
    </div>
</div>
    <div class="section" id="zend.filter.set.basename" name="zend.filter.set.basename"><div class="info"><h1 class="title">BaseName(日本語)</h1></div>
    

    <p class="para">
        <span class="classname">Zend_Filter_BaseName</span> により、
        ファイルへのパスを含む文字列をフィルタできます。
        このファイルの基盤名を返します。
    </p>

    <div class="section" id="zend.filter.set.basename.options" name="zend.filter.set.basename.options"><div class="info"><h1 class="title">Zend_Filter_BaseName でサポートされるオプション</h1></div>
        

        <p class="para">
            <span class="classname">Zend_Filter_BaseName</span> に対する追加オプションはありません。
        </p>
    </div>

    <div class="section" id="zend.filter.set.basename.basic" name="zend.filter.set.basename.basic"><div class="info"><h1 class="title">基本的な使用法</h1></div>
        

        <p class="para">
            下記は基本的な使用例です。
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_BaseName<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/print"><span style="color: #000066;">print</span></a> <span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'/vol/tmp/filename'</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>


        <p class="para">
            これは &#039;filename&#039; を返します。
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_BaseName<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/print"><span style="color: #000066;">print</span></a> <span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'/vol/tmp/filename.txt'</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>


        <p class="para">
            これは &#039;<var class="filename">filename.txt</var>&#039; を返します。
        </p>
    </div>
</div>
    <div class="section" id="zend.filter.set.boolean" name="zend.filter.set.boolean"><div class="info"><h1 class="title">Boolean</h1></div>
    

    <p class="para">
        This filter changes a given input to be a <b><tt>BOOLEAN</tt></b> value. This is often
        useful when working with databases or when processing form values.
    </p>

    <div class="section" id="zend.filter.set.boolean.options" name="zend.filter.set.boolean.options"><div class="info"><h1 class="title">Supported options for Zend_Filter_Boolean</h1></div>
        

        <p class="para">
            The following options are supported for <span class="classname">Zend_Filter_Boolean</span>:
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">
                    <em class="emphasis"><span class="property">casting</span></em>: When this option is set to
                    <b><tt>TRUE</tt></b> then any given input will be casted to boolean. This
                    option defaults to <b><tt>TRUE</tt></b>.
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis"><span class="property">locale</span></em>: This option sets the locale
                    which will be used to detect localized input.
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis"><span class="property">type</span></em>: The <span class="property">type</span>
                    option sets the boolean type which should be used. Read the following for
                    details.
                </p>
            </li>
        </ul>
    </div>

    <div class="section" id="zend.filter.set.boolean.default" name="zend.filter.set.boolean.default"><div class="info"><h1 class="title">Default behaviour for Zend_Filter_Boolean</h1></div>
        

        <p class="para">
            By default, this filter works by casting the input to a <b><tt>BOOLEAN</tt></b>
            value; in other words, it operates in a similar fashion to calling
            <strong class="command">(boolean) $value</strong>.
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Boolean<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$value</span>&nbsp; = <span style="color: #ff0000;">''</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$result</span> = <span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$value</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// returns false</span></div></li></ol></div></div></div>


        <p class="para">
            This means that without providing any configuration,
            <span class="classname">Zend_Filter_Boolean</span> accepts all input types and returns a
            <b><tt>BOOLEAN</tt></b> just as you would get by type casting to
            <b><tt>BOOLEAN</tt></b>.
        </p>
    </div>

    <div class="section" id="zend.filter.set.boolean.types" name="zend.filter.set.boolean.types"><div class="info"><h1 class="title">Changing behaviour for Zend_Filter_Boolean</h1></div>
        

        <p class="para">
            Sometimes casting with <strong class="command">(boolean)</strong> will not suffice.
            <span class="classname">Zend_Filter_Boolean</span> allows you to configure specific types to
            convert, as well as which to omit.
        </p>

        <p class="para">
            The following types can be handled:
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">
                    <em class="emphasis">boolean</em>: Returns a boolean value as is.
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis">integer</em>: Converts an integer <em class="emphasis">0</em> value
                    to <b><tt>FALSE</tt></b>.
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis">float</em>: Converts a float <em class="emphasis">0.0</em> value
                    to <b><tt>FALSE</tt></b>.
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis">string</em>: Converts an empty string <em class="emphasis">&#039;&#039;</em> to
                    <b><tt>FALSE</tt></b>.
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis">zero</em>: Converts a string containing the single character
                    zero (<em class="emphasis">&#039;0&#039;</em>) to <b><tt>FALSE</tt></b>.
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis">empty_array</em>: Converts an empty <em class="emphasis">array</em>
                    to <b><tt>FALSE</tt></b>.
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis">null</em>: Converts a <b><tt>NULL</tt></b> value
                    to <b><tt>FALSE</tt></b>.
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis">php</em>: Converts values according to <acronym class="acronym">PHP</acronym>
                    when casting them to <b><tt>BOOLEAN</tt></b>.
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis">false_string</em>: Converts a string containing the word &quot;false&quot;
                    to a boolean <b><tt>FALSE</tt></b>.
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis">yes</em>: Converts a localized string which contains the word
                    &quot;no&quot; to <b><tt>FALSE</tt></b>.
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis">all</em>: Converts all above types to
                    <b><tt>BOOLEAN</tt></b>.
                </p>
            </li>
        </ul>

        <p class="para">
            All other given values will return <b><tt>TRUE</tt></b> by default.
        </p>

        <p class="para">
            There are several ways to select which of the above types are filtered. You can give one
            or multiple types and add them, you can give an array, you can use constants, or you can
            give a textual string. See the following examples:
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// converts 0 to false</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Boolean<span style="color: #66cc66;">&#40;</span>Zend_Filter_Boolean::<span style="color: #006600;">INTEGER</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// converts 0 and '0' to false</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Boolean<span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; Zend_Filter_Boolean::<span style="color: #006600;">INTEGER</span> + Zend_Filter_Boolean::<span style="color: #006600;">ZERO</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// converts 0 and '0' to false</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Boolean<span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'type'</span> =&gt; <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; Zend_Filter_Boolean::<span style="color: #006600;">INTEGER</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; Zend_Filter_Boolean::<span style="color: #006600;">ZERO</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #66cc66;">&#41;</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// converts 0 and '0' to false</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Boolean<span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'type'</span> =&gt; <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'integer'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'zero'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #66cc66;">&#41;</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>


        <p class="para">
            You can also give an instance of <span class="classname">Zend_Config</span> to set the desired
            types. To set types after instantiation, use the  <span class="methodname">setType()</span>
            method.
        </p>
    </div>

    <div class="section" id="zend.filter.set.boolean.localized" name="zend.filter.set.boolean.localized"><div class="info"><h1 class="title">Localized booleans</h1></div>
        

        <p class="para">
            As mentioned previously, <span class="classname">Zend_Filter_Boolean</span> can also recognise
            localized &quot;yes&quot; and &quot;no&quot; strings. This means that you can ask your customer in a form
            for &quot;yes&quot; or &quot;no&quot; within his native language and
            <span class="classname">Zend_Filter_Boolean</span> will convert the response to the appropriate
            boolean value.
        </p>

        <p class="para">
            To set the desired locale, you can either use the <span class="property">locale</span> option, or
            the method  <span class="methodname">setLocale()</span>.
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Boolean<span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'type'</span>&nbsp; &nbsp;=&gt; Zend_Filter_Boolean::<span style="color: #006600;">ALL</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'locale'</span> =&gt; <span style="color: #ff0000;">'de'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// returns false</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'nein'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">setLocale</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'en'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// returns true</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'yes'</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

    </div>

    <div class="section" id="zend.filter.set.boolean.casting" name="zend.filter.set.boolean.casting"><div class="info"><h1 class="title">Disable casting</h1></div>
        

        <p class="para">
            Sometimes it is necessary to recognise only <b><tt>TRUE</tt></b> or
            <b><tt>FALSE</tt></b> and return all other values without changes.
            <span class="classname">Zend_Filter_Boolean</span> allows you to do this by setting the
            <span class="property">casting</span> option to <b><tt>FALSE</tt></b>.
        </p>

        <p class="para">
            In this case <span class="classname">Zend_Filter_Boolean</span> will work as described in the
            following table, which shows which values return <b><tt>TRUE</tt></b> or
            <b><tt>FALSE</tt></b>. All other given values are returned without change when
            <span class="property">casting</span> is set to <b><tt>FALSE</tt></b>
        </p>

        <table class="doctable table"><div class="info"><caption><b>Usage without casting</b></caption></div>
            
            
                <thead valign="middle">
                    <tr valign="middle">
                        <th>Type</th>
                        <th>True</th>
                        <th>False</th>
                    </tr>

                </thead>


                <tbody valign="middle" class="tbody">
                    <tr valign="middle">
                        <td align="left"><b><tt>Zend_Filter_Boolean::BOOLEAN</tt></b></td>
                        <td align="left"><b><tt>TRUE</tt></b></td>
                        <td align="left"><b><tt>FALSE</tt></b></td>
                    </tr>


                    <tr valign="middle">
                        <td align="left"><b><tt>Zend_Filter_Boolean::INTEGER</tt></b></td>
                        <td align="left">0</td>
                        <td align="left">1</td>
                    </tr>


                    <tr valign="middle">
                        <td align="left"><b><tt>Zend_Filter_Boolean::FLOAT</tt></b></td>
                        <td align="left">0.0</td>
                        <td align="left">1.0</td>
                    </tr>


                    <tr valign="middle">
                        <td align="left"><b><tt>Zend_Filter_Boolean::STRING</tt></b></td>
                        <td align="left">&quot;&quot;</td>
                        <td class="empty">&nbsp;</td>
                    </tr>


                    <tr valign="middle">
                        <td align="left"><b><tt>Zend_Filter_Boolean::ZERO</tt></b></td>
                        <td align="left">&quot;0&quot;</td>
                        <td align="left">&quot;1&quot;</td>
                    </tr>


                    <tr valign="middle">
                        <td align="left"><b><tt>Zend_Filter_Boolean::EMPTY_ARRAY</tt></b></td>
                        <td align="left"> <span class="methodname">array()</span></td>
                        <td class="empty">&nbsp;</td>
                    </tr>


                    <tr valign="middle">
                        <td align="left"><b><tt>Zend_Filter_Boolean::NULL</tt></b></td>
                        <td align="left"><b><tt>NULL</tt></b></td>
                        <td class="empty">&nbsp;</td>
                    </tr>


                    <tr valign="middle">
                        <td align="left"><b><tt>Zend_Filter_Boolean::FALSE_STRING</tt></b></td>
                        <td align="left">&quot;false&quot; (case independently)</td>
                        <td align="left">&quot;true&quot; (case independently)</td>
                    </tr>


                    <tr valign="middle">
                        <td align="left"><b><tt>Zend_Filter_Boolean::YES</tt></b></td>
                        <td align="left">localized &quot;yes&quot; (case independently)</td>
                        <td align="left">localized &quot;no&quot; (case independently)</td>
                    </tr>

                </tbody>
            
        </table>


        <p class="para">
            The following example shows the behaviour when changing the <span class="property">casting</span>
            option:
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Boolean<span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'type'</span>&nbsp; &nbsp; =&gt; Zend_Filter_Boolean::<span style="color: #006600;">ALL</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'casting'</span> =&gt; <span style="color: #000000; font-weight: bold;">false</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// returns false</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">0</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// returns true</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// returns the value</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">2</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

    </div>
</div>
    <div class="section" id="zend.filter.set.callback" name="zend.filter.set.callback"><div class="info"><h1 class="title">Callback(日本語)</h1></div>
    

    <p class="para">
        このフィルタにより、 <span class="classname">Zend_Filter</span> とともに自分自身のメソッドを使えます。
        機能を果たすメソッドがすでにあるとき、新しいフィルタを生成する必要はありません。
    </p>

    <div class="section" id="zend.filter.set.callback.options" name="zend.filter.set.callback.options"><div class="info"><h1 class="title">Zend_Filter_Callback でサポートされるオプション</h1></div>
        

        <p class="para">
            <span class="classname">Zend_Filter_Callback</span> では、下記のオプションがサポートされます。
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">
                    <em class="emphasis"><span class="property">callback</span></em>:
                    使用されるべきコールバックを設定します。
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis"><span class="property">options</span></em>:
                    コールバックが処理される際に使われるオプションを設定します。
                </p>
            </li>
        </ul>
    </div>

    <div class="section" id="zend.filter.set.callback.basic" name="zend.filter.set.callback.basic"><div class="info"><h1 class="title">基本的な使用法</h1></div>
        

        <p class="para">
            このフィルタの使い方はとても簡単です。
            文字列を逆にするフィルタを生成したいとしましょう。
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Callback<span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'strrev'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/print"><span style="color: #000066;">print</span></a> <span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Hello!'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// &quot;!olleH&quot;を返します</span></div></li></ol></div></div></div>


        <p class="para">
            おわかりのように、自分自身のフィルタを定義するために本当に簡単にコールバックを使えます。
            メソッド（それはクラス内で定義されます）をコールバックとして配列を与えることによって使うこともできます。
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// クラスの定義</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #000000; font-weight: bold;">class</span> MyClass</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000000; font-weight: bold;">function</span> Reverse<span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$param</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// フィルター定義</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Callback<span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'MyClass'</span>, <span style="color: #ff0000;">'Reverse'</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/print"><span style="color: #000066;">print</span></a> <span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Hello!'</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>


        <p class="para">
            実際に設定されているコールバックを取得するには  <span class="methodname">getCallback()</span> を使い、
            他のコールバックを設定するには  <span class="methodname">setCallback()</span> を使います。
        </p>

        <blockquote><p><b class="note">Note</b>: <span class="info"><b>起こりうる例外</b><br /></span>
            

            
                呼ばれることができないコールバック・メソッドを定義すると、
                例外が発生する点に注意しなければなりません。
            <br />
        </p></blockquote>
    </div>

    <div class="section" id="zend.filter.set.callback.parameters" name="zend.filter.set.callback.parameters"><div class="info"><h1 class="title">Default parameters within a callback</h1></div>
        

        <p class="para">
            フィルタが実行されるとき、
            呼ばれるメソッドに配列として与えられるデフォルト・パラメータを定義できます。
            この配列は、フィルターされた値で結合されます。
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Callback<span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'callback'</span> =&gt; <span style="color: #ff0000;">'MyMethod'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'options'</span>&nbsp; =&gt; <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'key'</span> =&gt; <span style="color: #ff0000;">'param1'</span>, <span style="color: #ff0000;">'key2'</span> =&gt; <span style="color: #ff0000;">'param2'</span><span style="color: #66cc66;">&#41;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #66cc66;">&#41;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'value'</span> =&gt; <span style="color: #ff0000;">'Hello'</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>


        <p class="para">
            手動で上記のメソッド定義を呼ぶと、それはこのように見えます:
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$value</span> = MyMethod<span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Hello'</span>, <span style="color: #ff0000;">'param1'</span>, <span style="color: #ff0000;">'param2'</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>


    </div>
</div>
    <div class="section" id="zend.filter.set.compress" name="zend.filter.set.compress"><div class="info"><h1 class="title">Compress and Decompress</h1></div>
    

    <p class="para">
        These two filters are capable of compressing and decompressing strings, files, and
        directories.
    </p>

    <div class="section" id="zend.filter.set.compress.options" name="zend.filter.set.compress.options"><div class="info"><h1 class="title">Supported options for Zend_Filter_Compress and Zend_Filter_Decompress</h1></div>
        

        <p class="para">
            The following options are supported for <span class="classname">Zend_Filter_Compress</span>
            and <span class="classname">Zend_Filter_Decompress</span>:
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">
                    <em class="emphasis"><span class="property">adapter</span></em>: The compression adapter which
                    should be used. It defaults to <span class="property">Gz</span>.
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis"><span class="property">options</span></em>: Additional options which are
                    given to the adapter at initiation. Each adapter supports it&#039;s own options.
                </p>
            </li>
        </ul>
    </div>

    <div class="section" id="zend.filter.set.compress.basic" name="zend.filter.set.compress.basic"><div class="info"><h1 class="title">Supported compression adapters</h1></div>
        

        <p class="para">
            The following compression formats are supported by their own adapter:
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">
                    <em class="emphasis">Bz2</em>
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis">Gz</em>
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis">Lzf</em>
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis">Rar</em>
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis">Tar</em>
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis">Zip</em>
                </p>
            </li>
        </ul>

        <p class="para">
            Each compression format has different capabilities as described below. All compression
            filters may be used in approximately the same ways, and differ primarily in the options
            available and the type of compression they offer (both algorithmically as well as string
            vs. file vs. directory)
        </p>
    </div>

    <div class="section" id="zend.filter.set.compress.generic" name="zend.filter.set.compress.generic"><div class="info"><h1 class="title">Generic handling</h1></div>
        

        <p class="para">
            To create a compression filter you need to select the compression format you want to
            use. The following description takes the <em class="emphasis">Bz2</em> adapter. Details for
            all other adapters are described after this section.
        </p>

        <p class="para">
            The two filters are basically identical, in that they utilize the same backends.
            <span class="classname">Zend_Filter_Compress</span> should be used when you wish to compress
            items, and <span class="classname">Zend_Filter_Decompress</span> should be used when you wish to
            decompress items.
        </p>

        <p class="para">
            For instance, if we want to compress a string, we have to initiate
            <span class="classname">Zend_Filter_Compress</span> and indicate the desired adapter.
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Compress<span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Bz2'</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>


        <p class="para">
            To use a different adapter, you simply specify it to the constructor.
        </p>

        <p class="para">
            You may also provide an array of options or <span class="classname">Zend_Config</span> object.
            If you do, provide minimally the key &quot;adapter&quot;, and then either the key &quot;options&quot; or
            &quot;adapterOptions&quot; (which should be an array of options to provide to the adapter on
            instantiation).
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Compress<span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'adapter'</span> =&gt; <span style="color: #ff0000;">'Bz2'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'options'</span> =&gt; <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'blocksize'</span> =&gt; <span style="color: #cc66cc;">8</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #66cc66;">&#41;</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>


        <blockquote><p><b class="note">Note</b>: <span class="info"><b>Default compression Adapter</b><br /></span>
            

            
                When no compression adapter is given, then the <em class="emphasis">Gz</em> adapter will
                be used.
            <br />
        </p></blockquote>

        <p class="para">
            Almost the same usage is we want to decompress a string. We just have to use the
            decompression filter in this case.
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Decompress<span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Bz2'</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>


        <p class="para">
            To get the compressed string, we have to give the original string. The filtered value is
            the compressed version of the original string.
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span>&nbsp; &nbsp; &nbsp;= <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Compress<span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Bz2'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$compressed</span> = <span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Uncompressed string'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Returns the compressed string</span></div></li></ol></div></div></div>


        <p class="para">
            Decompression works the same way.
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span>&nbsp; &nbsp; &nbsp;= <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Decompress<span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Bz2'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$compressed</span> = <span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Compressed string'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Returns the uncompressed string</span></div></li></ol></div></div></div>


        <blockquote><p><b class="note">Note</b>: <span class="info"><b>Note on string compression</b><br /></span>
            

            
                Not all adapters support string compression. Compression formats like
                <em class="emphasis">Rar</em> can only handle files and directories. For details, consult
                the section for the adapter you wish to use.
            <br />
        </p></blockquote>
    </div>

    <div class="section" id="zend.filter.set.compress.archive" name="zend.filter.set.compress.archive"><div class="info"><h1 class="title">Creating an archive</h1></div>
        

        <p class="para">
            Creating an archive file works almost the same as compressing a string. However, in this
            case we need an additional parameter which holds the name of the archive we want to
            create.
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span>&nbsp; &nbsp; &nbsp;= <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Compress<span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'adapter'</span> =&gt; <span style="color: #ff0000;">'Bz2'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'options'</span> =&gt; <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'archive'</span> =&gt; <span style="color: #ff0000;">'filename.bz2'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #66cc66;">&#41;</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$compressed</span> = <span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Uncompressed string'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Returns true on success and creates the archive file</span></div></li></ol></div></div></div>


        <p class="para">
            In the above example the uncompressed string is compressed, and is then written into
            the given archive file.
        </p>

        <blockquote><p><b class="note">Note</b>: <span class="info"><b>Existing archives will be overwritten</b><br /></span>
            

            
                The content of any existing file will be overwritten when the given filename of
                the archive already exists.
            <br />
        </p></blockquote>

        <p class="para">
            When you want to compress a file, then you must give the name of the file with its path.
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span>&nbsp; &nbsp; &nbsp;= <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Compress<span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'adapter'</span> =&gt; <span style="color: #ff0000;">'Bz2'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'options'</span> =&gt; <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'archive'</span> =&gt; <span style="color: #ff0000;">'filename.bz2'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #66cc66;">&#41;</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$compressed</span> = <span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'C:<span style="color: #000099; font-weight: bold;">\t</span>emp<span style="color: #000099; font-weight: bold;">\c</span>ompressme.txt'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Returns true on success and creates the archive file</span></div></li></ol></div></div></div>


        <p class="para">
            You may also specify a directory instead of a filename. In this case the whole directory
            with all its files and subdirectories will be compressed into the archive.
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span>&nbsp; &nbsp; &nbsp;= <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Compress<span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'adapter'</span> =&gt; <span style="color: #ff0000;">'Bz2'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'options'</span> =&gt; <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'archive'</span> =&gt; <span style="color: #ff0000;">'filename.bz2'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #66cc66;">&#41;</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$compressed</span> = <span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'C:<span style="color: #000099; font-weight: bold;">\t</span>emp<span style="color: #000099; font-weight: bold;">\s</span>omedir'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Returns true on success and creates the archive file</span></div></li></ol></div></div></div>


        <blockquote><p><b class="note">Note</b>: <span class="info"><b>Do not compress large or base directories</b><br /></span>
            

            
                You should never compress large or base directories like a complete partition.
                Compressing a complete partition is a very time consuming task which can lead
                to massive problems on your server when there is not enough space or your
                script takes too much time.
            <br />
        </p></blockquote>
    </div>

    <div class="section" id="zend.filter.set.compress.decompress" name="zend.filter.set.compress.decompress"><div class="info"><h1 class="title">Decompressing an archive</h1></div>
        

        <p class="para">
            Decompressing an archive file works almost like compressing it. You must specify either
            the <span class="property">archive</span> parameter, or give the filename of the archive when you
            decompress the file.
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span>&nbsp; &nbsp; &nbsp;= <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Decompress<span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Bz2'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$compressed</span> = <span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'filename.bz2'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Returns true on success and decompresses the archive file</span></div></li></ol></div></div></div>


        <p class="para">
            Some adapters support decompressing the archive into another subdirectory. In this
            case you can set the <span class="property">target</span> parameter.
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span>&nbsp; &nbsp; &nbsp;= <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Decompress<span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'adapter'</span> =&gt; <span style="color: #ff0000;">'Zip'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'options'</span> =&gt; <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'target'</span> =&gt; <span style="color: #ff0000;">'C:<span style="color: #000099; font-weight: bold;">\t</span>emp'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #66cc66;">&#41;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$compressed</span> = <span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'filename.zip'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Returns true on success and decompresses the archive file</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// into the given target directory</span></div></li></ol></div></div></div>


        <blockquote><p><b class="note">Note</b>: <span class="info"><b>Directories to extract to must exist</b><br /></span>
            

            
                When you want to decompress an archive into a directory, then that directory must
                exist.
            <br />
        </p></blockquote>
    </div>

    <div class="section" id="zend.filter.set.compress.bz2" name="zend.filter.set.compress.bz2"><div class="info"><h1 class="title">Bz2 Adapter</h1></div>
        

        <p class="para">
            The Bz2 Adapter can compress and decompress:
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">Strings</p>
            </li>

            <li class="listitem">
                <p class="para">Files</p>
            </li>

            <li class="listitem">
                <p class="para">Directories</p>
            </li>
        </ul>

        <p class="para">
            This adapter makes use of <acronym class="acronym">PHP</acronym>&#039;s Bz2 extension.
        </p>

        <p class="para">
            To customize compression, this adapter supports the following options:
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">
                    <em class="emphasis">Archive</em>: This parameter sets the archive file which should
                    be used or created.
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis">Blocksize</em>: This parameter sets the blocksize to use. It
                    can be from &#039;0&#039; to &#039;9&#039;. The default value is &#039;4&#039;.
                </p>
            </li>
        </ul>

        <p class="para">
            All options can be set at instantiation or by using a related method. For example, the
            related methods for &#039;Blocksize&#039; are  <span class="methodname">getBlocksize()</span> and
             <span class="methodname">setBlocksize()</span>. You can also use the
             <span class="methodname">setOptions()</span> method which accepts all options as array.
        </p>
    </div>

    <div class="section" id="zend.filter.set.compress.gz" name="zend.filter.set.compress.gz"><div class="info"><h1 class="title">Gz Adapter</h1></div>
        

        <p class="para">
            The Gz Adapter can compress and decompress:
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">Strings</p>
            </li>

            <li class="listitem">
                <p class="para">Files</p>
            </li>

            <li class="listitem">
                <p class="para">Directories</p>
            </li>
        </ul>

        <p class="para">
            This adapter makes use of <acronym class="acronym">PHP</acronym>&#039;s Zlib extension.
        </p>

        <p class="para">
            To customize the compression this adapter supports the following options:
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">
                    <em class="emphasis">Archive</em>: This parameter sets the archive file which should
                    be used or created.
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis">Level</em>: This compression level to use. It can be from &#039;0&#039; to
                    &#039;9&#039;. The default value is &#039;9&#039;.
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis">Mode</em>: There are two supported modes. &#039;compress&#039; and
                    &#039;deflate&#039;. The default value is &#039;compress&#039;.
                </p>
            </li>
        </ul>

        <p class="para">
            All options can be set at initiation or by using a related method. For example, the
            related methods for &#039;Level&#039; are  <span class="methodname">getLevel()</span> and
             <span class="methodname">setLevel()</span>. You can also use the
             <span class="methodname">setOptions()</span> method which accepts all options as array.
        </p>
    </div>

    <div class="section" id="zend.filter.set.compress.lzf" name="zend.filter.set.compress.lzf"><div class="info"><h1 class="title">Lzf Adapter</h1></div>
        

        <p class="para">
            The Lzf Adapter can compress and decompress:
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">Strings</p>
            </li>
        </ul>

        <blockquote><p><b class="note">Note</b>: <span class="info"><b>Lzf supports only strings</b><br /></span>
            

            
                The Lzf adapter can not handle files and directories.
            <br />
        </p></blockquote>

        <p class="para">
            This adapter makes use of <acronym class="acronym">PHP</acronym>&#039;s Lzf extension.
        </p>

        <p class="para">
            There are no options available to customize this adapter.
        </p>
    </div>

    <div class="section" id="zend.filter.set.compress.rar" name="zend.filter.set.compress.rar"><div class="info"><h1 class="title">Rar Adapter</h1></div>
        

        <p class="para">
            The Rar Adapter can compress and decompress:
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">Files</p>
            </li>

            <li class="listitem">
                <p class="para">Directories</p>
            </li>
        </ul>

        <blockquote><p><b class="note">Note</b>: <span class="info"><b>Rar does not support strings</b><br /></span>
            

            
                The Rar Adapter can not handle strings.
            <br />
        </p></blockquote>

        <p class="para">
            This adapter makes use of <acronym class="acronym">PHP</acronym>&#039;s Rar extension.
        </p>

        <blockquote><p><b class="note">Note</b>: <span class="info"><b>Rar compression not supported</b><br /></span>
            

            
                Due to restrictions with the Rar compression format, there is no compression
                available for free. When you want to compress files into a new Rar archive, you must
                provide a callback to the adapter that can invoke a Rar compression program.
            <br />
        </p></blockquote>

        <p class="para">
            To customize the compression this adapter supports the following options:
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">
                    <em class="emphasis">Archive</em>: This parameter sets the archive file which should
                    be used or created.
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis">Callback</em>: A callback which provides compression support to
                    this adapter.
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis">Password</em>: The password which has to be used for
                    decompression.
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis">Target</em>: The target where the decompressed files will be
                    written to.
                </p>
            </li>
        </ul>

        <p class="para">
            All options can be set at instantiation or by using a related method. For example, the
            related methods for &#039;Target&#039; are  <span class="methodname">getTarget()</span> and
             <span class="methodname">setTarget()</span>. You can also use the
             <span class="methodname">setOptions()</span> method which accepts all options as array.
        </p>
    </div>

    <div class="section" id="zend.filter.set.compress.tar" name="zend.filter.set.compress.tar"><div class="info"><h1 class="title">Tar Adapter</h1></div>
        

        <p class="para">
            The Tar Adapter can compress and decompress:
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">Files</p>
            </li>

            <li class="listitem">
                <p class="para">Directories</p>
            </li>
        </ul>

        <blockquote><p><b class="note">Note</b>: <span class="info"><b>Tar does not support strings</b><br /></span>
            

            
                The Tar Adapter can not handle strings.
            <br />
        </p></blockquote>

        <p class="para">
            This adapter makes use of <acronym class="acronym">PEAR</acronym>&#039;s <span class="classname">Archive_Tar</span>
            component.
        </p>

        <p class="para">
            To customize the compression this adapter supports the following options:
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">
                    <em class="emphasis">Archive</em>: This parameter sets the archive file which should
                    be used or created.
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis">Mode</em>: A mode to use for compression. Supported are either
                    &#039;<b><tt>NULL</tt></b>&#039; which means no compression at all, &#039;Gz&#039; which makes
                    use of <acronym class="acronym">PHP</acronym>&#039;s Zlib extension and &#039;Bz2&#039; which makes use of
                    <acronym class="acronym">PHP</acronym>&#039;s Bz2 extension. The default value is
                    &#039;<b><tt>NULL</tt></b>&#039;.
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis">Target</em>: The target where the decompressed files will be
                    written to.
                </p>
            </li>
        </ul>

        <p class="para">
            All options can be set at instantiation or by using a related method. For example, the
            related methods for &#039;Target&#039; are  <span class="methodname">getTarget()</span> and
             <span class="methodname">setTarget()</span>. You can also use the
             <span class="methodname">setOptions()</span> method which accepts all options as array.
        </p>

        <blockquote><p><b class="note">Note</b>: <span class="info"><b>Directory usage</b><br /></span>
            

            
                When compressing directories with Tar then the complete file path is used. This
                means that created Tar files will not only have the subdirectory but the complete
                path for the compressed file.
            <br />
        </p></blockquote>
    </div>

    <div class="section" id="zend.filter.set.compress.zip" name="zend.filter.set.compress.zip"><div class="info"><h1 class="title">Zip Adapter</h1></div>
        

        <p class="para">
            The Zip Adapter can compress and decompress:
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">Strings</p>
            </li>

            <li class="listitem">
                <p class="para">Files</p>
            </li>

            <li class="listitem">
                <p class="para">Directories</p>
            </li>
        </ul>

        <blockquote><p><b class="note">Note</b>: <span class="info"><b>Zip does not support string decompression</b><br /></span>
            

            
                The Zip Adapter can not handle decompression to a string; decompression will
                always be written to a file.
            <br />
        </p></blockquote>

        <p class="para">
            This adapter makes use of <acronym class="acronym">PHP</acronym>&#039;s <span class="classname">Zip</span>
            extension.
        </p>

        <p class="para">
            To customize the compression this adapter supports the following options:
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">
                    <em class="emphasis">Archive</em>: This parameter sets the archive file which should
                    be used or created.
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis">Target</em>: The target where the decompressed files will be
                    written to.
                </p>
            </li>
        </ul>

        <p class="para">
            All options can be set at instantiation or by using a related method. For example, the
            related methods for &#039;Target&#039; are  <span class="methodname">getTarget()</span> and
             <span class="methodname">setTarget()</span>. You can also use the
             <span class="methodname">setOptions()</span> method which accepts all options as array.
        </p>
    </div>
</div>
    <div class="section" id="zend.filter.set.digits" name="zend.filter.set.digits"><div class="info"><h1 class="title">数字</h1></div>
    

    <p class="para">
        文字列 <var class="varname">$value</var> を返します。数字以外の全てを除去します。
    </p>

     <div class="section" id="zend.filter.set.digits.options" name="zend.filter.set.digits.options"><div class="info"><h1 class="title">Zend_Filter_Digits でサポートされるオプション</h1></div>
        

        <p class="para">
            <span class="classname">Zend_Filter_Digits</span> に対する追加オプションはありません。
        </p>
    </div>

     <div class="section" id="zend.filter.set.digits.basic" name="zend.filter.set.digits.basic"><div class="info"><h1 class="title">基本的な使用法</h1></div>
        

        <p class="para">
            下記は基本的な使用例です。
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Digits<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/print"><span style="color: #000066;">print</span></a> <span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'October 2009'</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>


        <p class="para">
            これは &quot;2009&quot; を返します。
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Digits<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/print"><span style="color: #000066;">print</span></a> <span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'HTML 5 for Dummies'</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>


        <p class="para">
            これは &quot;5&quot; を返します。
        </p>
    </div>
</div>
    <div class="section" id="zend.filter.set.dir" name="zend.filter.set.dir"><div class="info"><h1 class="title">Dir(日本語)</h1></div>
    

    <p class="para">
        ファイルへのパスを含む文字列が与えられると、この関数は、ディレクトリ名を返します。
    </p>

     <div class="section" id="zend.filter.set.dir.options" name="zend.filter.set.dir.options"><div class="info"><h1 class="title">Zend_Filter_Dir でサポートされるオプション</h1></div>
        

        <p class="para">
            <span class="classname">Zend_Filter_Dir</span> に対する追加オプションはありません。
        </p>
    </div>

     <div class="section" id="zend.filter.set.dir.basic" name="zend.filter.set.dir.basic"><div class="info"><h1 class="title">基本的な使用法</h1></div>
        

        <p class="para">
            下記は基本的な使用例です。
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Dir<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/print"><span style="color: #000066;">print</span></a> <span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'/etc/passwd'</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>


        <p class="para">
            これは &quot;<var class="filename">/etc</var>&quot; を返します。
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Dir<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/print"><span style="color: #000066;">print</span></a> <span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'C:/Temp/x'</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>


        <p class="para">
            これは &quot;<var class="filename">C:/Temp</var>&quot; を返します。
        </p>
    </div>
</div>
    <div class="section" id="zend.filter.set.encrypt" name="zend.filter.set.encrypt"><div class="info"><h1 class="title">Encrypt 及び Decrypt</h1></div>
    

    <p class="para">
        これらのフィルタにより、与えられた文字列を暗号化したり復号化できます。
        したがって、それらはアダプタを利用します。
        実際には、<acronym class="acronym">PHP</acronym> 由来の <span class="classname">Mcrypt</span>
        および <span class="classname">OpenSSL</span> エクステンション用のアダプタを使用します。
    </p>

    <div class="section" id="zend.filter.set.encrypt.options" name="zend.filter.set.encrypt.options"><div class="info"><h1 class="title">Zend_Filter_Encrypt および Zend_Filter_Decrypt でサポートされるオプション</h1></div>
        

        <p class="para">
            <span class="classname">Zend_Filter_Encrypt</span> および
            <span class="classname">Zend_Filter_Decrypt</span> では、下記のオプションがサポートされます。
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">
                    <em class="emphasis"><span class="property">adapter</span></em>:
                    使用する暗号化アダプタを設定します。
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis"><span class="property">algorithm</span></em>:
                    <span class="classname">MCrypt</span> のみ。
                    使用するアルゴリズム
                    <a href="http://php.net/mcrypt" class="link external">&raquo; PHP の mcrypt 暗号</a>
                    であげられている暗号化アルゴリズムのいずれかでなければなりません。
                    省略した場合のデフォルトは <span class="property">blowfish</span> です。
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis"><span class="property">algorithm_directory</span></em>:
                    <span class="classname">MCrypt</span> のみ。
                    アルゴリズムが存在するディレクトリ。
                    省略した場合のデフォルトは、mcrypt エクステンション内に設定されたパスです。
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis"><span class="property">compression</span></em>:
                    暗号化した値を圧縮するかどうか。既定値は圧縮なし。
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis"><span class="property">envelope</span></em>:
                    <span class="classname">OpenSSL</span> のみ。
                    コンテンツを暗号化した人から受け取った、
                    暗号化されたエンベロープ鍵。
                    鍵ファイルのパスとファイル名を指定するか、
                    あるいは単に鍵ファイルの内容そのものを指定することもできます。
                    <span class="property">package</span> オプションが設定された場合、
                    このパラメータは省略できます。
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis"><span class="property">key</span></em>:
                    <span class="classname">MCrypt</span> のみ。
                    暗号化用の鍵。
                    入力を暗号化する際に使用します。
                    復号する際にも同じ鍵が必要です。
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis"><span class="property">mode</span></em>:
                    <span class="classname">MCrypt</span> のみ。
                    使用する暗号化モード。
                    <a href="http://php.net/mcrypt" class="link external">&raquo; PHP の mcrypt 暗号</a>
                    であげられているモードのいずれかでなければなりません。
                    省略した場合のデフォルトは &#039;cbc&#039; です。
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis"><span class="property">mode_directory</span></em>:
                    <span class="classname">MCrypt</span> のみ。
                    モードが存在するディレクトリ。
                    省略した場合のデフォルトは、<span class="classname">Mcrypt</span>
                    拡張モジュールで設定されているパスです。
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis"><span class="property">package</span></em>:
                    <span class="classname">OpenSSL</span> のみ。
                    暗号化された値と一緒にエンベロープ鍵が梱包されるべきかどうか
                    デフォルトは <b><tt>FALSE</tt></b> です。
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis"><span class="property">private</span></em>:
                    <span class="classname">OpenSSL</span> のみ。
                    コンテンツの暗号化に使用する、あなたの秘密鍵。
                    鍵ファイルのパスとファイル名を指定するか、
                    あるいは単に鍵ファイルの内容そのものを指定することもできます。
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis"><span class="property">public</span></em>:
                    <span class="classname">OpenSSL</span> のみ。
                    暗号化したコンテンツを渡したい相手の公開鍵。
                    複数の公開鍵を指定するには、配列を使用します。
                    鍵ファイルのパスとファイル名を指定するか、
                    あるいは単に鍵ファイルの内容そのものを指定することもできます。
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis"><span class="property">salt</span></em>:
                    <span class="classname">MCrypt</span> のみ。
                    キーを salt 値として使用するかどうか。
                    使用すると、暗号化に使用するキー自体も暗号化されます。
                    デフォルトは <b><tt>FALSE</tt></b> です。
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis"><span class="property">vector</span></em>:
                    <span class="classname">MCrypt</span> のみ。
                    使用する初期化ベクトル。
                    省略した場合はランダムなベクトルとなります。
                </p>
            </li>
        </ul>
    </div>

    <div class="section" id="zend.filter.set.encrypt.adapterusage" name="zend.filter.set.encrypt.adapterusage"><div class="info"><h1 class="title">アダプタの使用法</h1></div>
        

        <p class="para">
            これら 2 つの暗号化手法はまったく異なる方式なので、
            アダプタの使用法もそれぞれ異なります。
            フィルタを初期化する際に、どのアダプタを使うかを選ばなければなりません。
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Mcrypt アダプタを使用します</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter1</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Encrypt<span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'adapter'</span> =&gt; <span style="color: #ff0000;">'mcrypt'</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// OpenSSL アダプタを使用します</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter2</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Encrypt<span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'adapter'</span> =&gt; <span style="color: #ff0000;">'openssl'</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>


        <p class="para">
            別のアダプタを設定するために  <span class="methodname">setAdapter()</span>
            を使用することもできます。また  <span class="methodname">getAdapter()</span>
            メソッドで、実際に設定されているアダプタを取得できます。
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Mcrypt アダプタを使用します</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Encrypt<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">setAdapter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'openssl'</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>


        <blockquote><p><b class="note">Note</b>: 
            
                <span class="property">adapter</span> オプションを指定しなかったり  <span class="methodname">setAdapter()</span>
                を使用しなかったりした場合は、デフォルトで
                <span class="classname">Mcrypt</span> アダプタを使用します。
            <br />
        </p></blockquote>
    </div>

    <div class="section" id="zend.filter.set.encrypt.mcrypt" name="zend.filter.set.encrypt.mcrypt"><div class="info"><h1 class="title">Mcrypt での暗号化</h1></div>
        

        <p class="para">
            <span class="classname">Mcrypt</span> 拡張モジュールをインストールすると、
            <span class="classname">Mcrypt</span> アダプタが使えるようになります。
            もしオプション配列の代わりに文字列を与えると、
            文字列がキーとして使われます。
        </p>

        <p class="para">
            初期化した後で暗号化の値を取得したり設定したりするには、それぞれ
             <span class="methodname">getEncryption()</span> および  <span class="methodname">setEncryption()</span>
            メソッドを使用します。
        </p>

        <blockquote><p><b class="note">Note</b>: 
            
                mcrypt 拡張モジュールが使用できない場合は例外が発生することに注意しましょう。
            <br />
        </p></blockquote>

        <blockquote><p><b class="note">Note</b>: 
            
                また、インスタンス作成時あるいは  <span class="methodname">setEncryption()</span>
                をコールした際にすべての設定がチェックされることにも注意しましょう。
                設定内容に問題があることを mcrypt が検知すると、例外がスローされます。
            <br />
        </p></blockquote>

        <p class="para">
            暗号化ベクトルの取得や設定には、それぞれ  <span class="methodname">getVector()</span>
            および  <span class="methodname">setVector()</span> を使用可能です。指定した文字列が、
            そのアルゴリズムに必要なベクトルのサイズに応じて切り詰められたり伸ばされたりします。
        </p>

        <blockquote><p><b class="note">Note</b>: 
            
                自前のベクトル以外を使用する場合は、
                そのベクトルを取得してどこかに保存しておかなければならないことに注意しましょう。
                そうしないと、文字列が復号できなくなります。
            <br />
        </p></blockquote>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// デフォルト設定の blowfish を使用します</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Encrypt<span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'myencryptionkey'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// 自前のベクトルを設定します。それ以外の場合は getVector()</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// をコールしてベクトルを保存しておかないと、後で復号できなくなります</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">setVector</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'myvector'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// $filter-&gt;getVector();</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$encrypted</span> = <span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'text_to_be_encoded'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/print"><span style="color: #000066;">print</span></a> <span style="color: #0000ff;">$encrypted</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// 復号の方法は Decrypt フィルタを参照ください</span></div></li></ol></div></div></div>

    </div>

    <div class="section" id="zend.filter.set.encrypt.mcryptdecrypt" name="zend.filter.set.encrypt.mcryptdecrypt"><div class="info"><h1 class="title">Mcrypt の復号</h1></div>
        
        <p class="para">
            <span class="classname">Mcrypt</span> で暗号化したコンテンツを復号するには、
            暗号化を行った際に指定したオプションが必要です。
        </p>

        <p class="para">
            ここでひとつ暗号化時との大きな違いがあります。
            暗号化の際にベクトルを指定しなかった場合は、コンテンツを暗号化した後で
            フィルタの  <span class="methodname">getVector()</span> メソッドを使用してベクトルを取得する必要があります。
            正しいベクトルがなければ、コンテンツを復号することはできません。
        </p>

        <p class="para">
            オプションを指定しさえすれば、復号は暗号化と同じくらい単純なことです。
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// デフォルト設定の blowfish を使用します</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Decrypt<span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'myencryptionkey'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// コンテンツの暗号化用ベクトルを設定します</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">setVector</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'myvector'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$decrypted</span> = <span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'encoded_text_normally_unreadable'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/print"><span style="color: #000066;">print</span></a> <span style="color: #0000ff;">$decrypted</span>;</div></li></ol></div></div></div>


        <blockquote><p><b class="note">Note</b>: 
            
                mcrypt 拡張モジュールが使用できない場合は例外が発生することに注意しましょう。
            <br />
        </p></blockquote>

        <blockquote><p><b class="note">Note</b>: 
            
                また、インスタンス作成時あるいは  <span class="methodname">setEncryption()</span>
                をコールした際にすべての設定がチェックされることにも注意しましょう。
                設定内容に問題があることを mcrypt が検知すると、例外がスローされます。
            <br />
        </p></blockquote>
    </div>

    <div class="section" id="zend.filter.set.encrypt.openssl" name="zend.filter.set.encrypt.openssl"><div class="info"><h1 class="title">OpenSSL での暗号化</h1></div>
        

        <p class="para">
            <span class="classname">OpenSSL</span> 拡張モジュールをインストールすると、
            <span class="classname">OpenSSL</span> アダプタが使えるようになります。
            後から公開鍵を取得あるいは設定するには、 <span class="methodname">getPublicKey()</span>
            および  <span class="methodname">setPublicKey()</span> メソッドを使用します。
            秘密鍵についても、 <span class="methodname">getPrivateKey()</span> および  <span class="methodname">setPrivateKey()</span>
            メソッドで取得あるいは設定できます。
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// openssl を使用し、秘密鍵を指定します</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Encrypt<span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'adapter'</span> =&gt; <span style="color: #ff0000;">'openssl'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'private'</span> =&gt; <span style="color: #ff0000;">'/path/to/mykey/private.pem'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// もちろん、初期化時に公開鍵を指定することもできます</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">setPublicKey</span><span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'/public/key/path/first.pem'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'/public/key/path/second.pem'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>


        <blockquote><p><b class="note">Note</b>: 
            
                <span class="classname">OpenSSL</span> アダプタは、正しい鍵を渡さないと動作しないことに注意しましょう。
            <br />
        </p></blockquote>

        <p class="para">
            鍵自体も暗号化したい場合は、パスフレーズを
             <span class="methodname">setPassphrase()</span> メソッドで渡します。
            パスフレーズつきで暗号化したコンテンツを復号したい場合は、
            公開鍵だけではなく (暗号化された鍵を復号するための) パスフレーズも必要となります。
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// openssl を使用し、秘密鍵を指定します</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Encrypt<span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'adapter'</span> =&gt; <span style="color: #ff0000;">'openssl'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'private'</span> =&gt; <span style="color: #ff0000;">'/path/to/mykey/private.pem'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// もちろん、初期化時に公開鍵を指定することもできます</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">setPublicKey</span><span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'/public/key/path/first.pem'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'/public/key/path/second.pem'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">setPassphrase</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'mypassphrase'</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>


        <p class="para">
            最後に、OpenSSL を使用した場合に受け手に渡す必要があるものをまとめます。
            暗号化されたコンテンツ、パスフレーズを使用した場合はそのパスフレーズ、
            そして復号用のエンベロープ鍵。これらが必要となります。
        </p>

        <p class="para">
            つまり、暗号化を終えたらエンベロープ鍵を取得する必要があるということです。
            取得するには  <span class="methodname">getEnvelopeKey()</span> メソッドを使用します。
        </p>

        <p class="para">
            <span class="classname">OpenSSL</span> でコンテンツの暗号化を行う完全な例は、このようになります。
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// openssl を使用し、秘密鍵を指定します</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Encrypt<span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'adapter'</span> =&gt; <span style="color: #ff0000;">'openssl'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'private'</span> =&gt; <span style="color: #ff0000;">'/path/to/mykey/private.pem'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// もちろん、初期化時に公開鍵を指定することもできます</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">setPublicKey</span><span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'/public/key/path/first.pem'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'/public/key/path/second.pem'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">setPassphrase</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'mypassphrase'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$encrypted</span> = <span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'text_to_be_encoded'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$envelope</span>&nbsp; = <span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">getEnvelopeKey</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/print"><span style="color: #000066;">print</span></a> <span style="color: #0000ff;">$encrypted</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// 復号の方法は Decrypt フィルタを参照ください</span></div></li></ol></div></div></div>


        <div class="section" id="zend.filter.set.encrypt.openssl.simplified" name="zend.filter.set.encrypt.openssl.simplified"><div class="info"><h1 class="title">Openssl と一緒に簡単に使う方法</h1></div>
            

            
            <p class="para">
                As seen before, you need to get the envelope key to be able to decrypt the previous
                encrypted value. This can be very annoying when you work with multiple values.
            </p>

            <p class="para">
                To have a simplified usage you can set the <span class="property">package</span> option to
                <b><tt>TRUE</tt></b>. The default value is <b><tt>FALSE</tt></b>.
            </p>

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// openssl を使用し、秘密鍵を指定します</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Encrypt<span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'adapter'</span> =&gt; <span style="color: #ff0000;">'openssl'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'private'</span> =&gt; <span style="color: #ff0000;">'/path/to/mykey/private.pem'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'public'</span>&nbsp; =&gt; <span style="color: #ff0000;">'/public/key/path/public.pem'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'package'</span> =&gt; <span style="color: #000000; font-weight: bold;">true</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$encrypted</span> = <span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'text_to_be_encoded'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/print"><span style="color: #000066;">print</span></a> <span style="color: #0000ff;">$encrypted</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// 復号の方法は Decrypt フィルタを参照ください</span></div></li></ol></div></div></div>


            
            <p class="para">
                Now the returned value contains the encrypted value and the envelope. You don&#039;t
                need to get them after the compression. But, and this is the negative aspect of
                this feature, the encrypted value can now only be decrypted by using
                <span class="classname">Zend_Filter_Encrypt</span>.
            </p>
        </div>

        <div class="section" id="zend.filter.set.encrypt.openssl.compressed" name="zend.filter.set.encrypt.openssl.compressed"><div class="info"><h1 class="title">コンテンツの圧縮</h1></div>
            

            <p class="para">
                Based on the original value, the encrypted value can be a very large string. To
                reduce the value <span class="classname">Zend_Filter_Encrypt</span> allows the usage of
                compression.
            </p>

            <p class="para">
                The <span class="property">compression</span> option can eighter be set to the name of a
                compression adapter, or to an array which sets all wished options for the
                compression adapter.
            </p>

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Use basic compression adapter</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter1</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Encrypt<span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'adapter'</span>&nbsp; &nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'openssl'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'private'</span>&nbsp; &nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'/path/to/mykey/private.pem'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'public'</span>&nbsp; &nbsp; &nbsp; =&gt; <span style="color: #ff0000;">'/public/key/path/public.pem'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'package'</span>&nbsp; &nbsp; &nbsp;=&gt; <span style="color: #000000; font-weight: bold;">true</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'compression'</span> =&gt; <span style="color: #ff0000;">'bz2'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Use basic compression adapter</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter2</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Encrypt<span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'adapter'</span>&nbsp; &nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'openssl'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'private'</span>&nbsp; &nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'/path/to/mykey/private.pem'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'public'</span>&nbsp; &nbsp; &nbsp; =&gt; <span style="color: #ff0000;">'/public/key/path/public.pem'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'package'</span>&nbsp; &nbsp; &nbsp;=&gt; <span style="color: #000000; font-weight: bold;">true</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'compression'</span> =&gt; <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'adapter'</span> =&gt; <span style="color: #ff0000;">'zip'</span>, <span style="color: #ff0000;">'target'</span> =&gt; <span style="color: #ff0000;">'<span style="color: #000099; font-weight: bold;">\u</span>sr<span style="color: #000099; font-weight: bold;">\t</span>mp<span style="color: #000099; font-weight: bold;">\t</span>mp.zip'</span><span style="color: #66cc66;">&#41;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>


            <blockquote><p><b class="note">Note</b>: <span class="info"><b>同一設定での復号化</b><br /></span>
                

                
                    When you want to decrypt a value which is additionally compressed, then you
                    need to set the same compression settings for decryption as for encryption.
                    Otherwise the decryption will fail.
                <br />
            </p></blockquote>
        </div>
    </div>

    <div class="section" id="zend.filter.set.encrypt.openssldecrypt" name="zend.filter.set.encrypt.openssldecrypt"><div class="info"><h1 class="title">OpenSSL での復号</h1></div>
        

        <p class="para">
            <span class="classname">OpenSSL</span> での復号は、暗号化と同様にシンプルです。
            しかし、コンテンツを暗号化した人からすべてのデータを受け取る必要があります。
            下記の例をご覧ください。
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// openssl を使用し、秘密鍵を指定します</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Decrypt<span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'adapter'</span> =&gt; <span style="color: #ff0000;">'openssl'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'private'</span> =&gt; <span style="color: #ff0000;">'/path/to/mykey/private.pem'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// もちろん、初期化時にエンベロープ鍵を指定することもできます</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">setEnvelopeKey</span><span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'/key/from/encoder/first.pem'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'/key/from/encoder/second.pem'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>


        <blockquote><p><b class="note">Note</b>: 
            
                <span class="classname">OpenSSL</span> アダプタは、正しい鍵を渡さないと動作しないことに注意しましょう。
            <br />
        </p></blockquote>

        <p class="para">
            オプションで、パスフレーズを渡さなければ鍵を復号できないようにすることもできます。
            そのために使用するのが  <span class="methodname">setPassphrase()</span> メソッドです。
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// openssl を使用し、秘密鍵を指定します</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Decrypt<span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'adapter'</span> =&gt; <span style="color: #ff0000;">'openssl'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'private'</span> =&gt; <span style="color: #ff0000;">'/path/to/mykey/private.pem'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// もちろん、初期化時にエンベロープ鍵を指定することもできます</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">setEnvelopeKey</span><span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'/key/from/encoder/first.pem'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'/key/from/encoder/second.pem'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">setPassphrase</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'mypassphrase'</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>


        <p class="para">
            最後に、コンテンツを復号します。
            暗号化したコンテンツの復号を行う完全な例は、このようになります。
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// openssl を使用し、秘密鍵を指定します</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Decrypt<span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'adapter'</span> =&gt; <span style="color: #ff0000;">'openssl'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'private'</span> =&gt; <span style="color: #ff0000;">'/path/to/mykey/private.pem'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// もちろん、初期化時にエンベロープ鍵を指定することもできます</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">setEnvelopeKey</span><span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'/key/from/encoder/first.pem'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'/key/from/encoder/second.pem'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">setPassphrase</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'mypassphrase'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$decrypted</span> = <span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'encoded_text_normally_unreadable'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/print"><span style="color: #000066;">print</span></a> <span style="color: #0000ff;">$decrypted</span>;</div></li></ol></div></div></div>

    </div>
</div>
    <div class="section" id="zend.filter.set.htmlentities" name="zend.filter.set.htmlentities"><div class="info"><h1 class="title">HtmlEntities</h1></div>
    

    <p class="para">
        Returns the string <var class="varname">$value</var>, converting characters to their corresponding
        <acronym class="acronym">HTML</acronym> entity equivalents where they exist.
    </p>

    <div class="section" id="zend.filter.set.htmlentities.options" name="zend.filter.set.htmlentities.options"><div class="info"><h1 class="title">Supported options for Zend_Filter_HtmlEntities</h1></div>
        

        <p class="para">
            The following options are supported for <span class="classname">Zend_Filter_HtmlEntities</span>:
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">
                    <em class="emphasis"><span class="property">quotestyle</span></em>: Equivalent to the
                    <acronym class="acronym">PHP</acronym> htmlentities native function parameter
                    <em class="emphasis">quote_style</em>. This allows you to define what will be done
                    with &#039;single&#039; and &quot;double&quot; quotes. The following constants are accepted:

                    <b><tt>ENT_COMPAT</tt></b>, <b><tt>ENT_QUOTES</tt></b>
                    <b><tt>ENT_NOQUOTES</tt></b> with the default being
                    <b><tt>ENT_COMPAT</tt></b>.
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis"><span class="property">charset</span></em>: Equivalent to the
                    <acronym class="acronym">PHP</acronym> htmlentities native function parameter
                    <em class="emphasis">charset</em>. This defines the character set to be used in
                    filtering. Unlike the <acronym class="acronym">PHP</acronym> native function the default is
                    &#039;UTF-8&#039;. See &quot;http://php.net/htmlentities&quot; for a list of supported character
                    sets.
                </p>

                <blockquote><p><b class="note">Note</b>: 
                    
                     This option can also be set via the <var class="varname">$options</var> parameter as a
                     <span class="classname">Zend_Config</span> object or array. The option key will be
                     accepted as either charset or encoding.
                    <br />
                </p></blockquote>
            </li>

             <li class="listitem">
                <p class="para">
                    <em class="emphasis"><span class="property">doublequote</span></em>: Equivalent to the
                    <acronym class="acronym">PHP</acronym> htmlentities native function parameter
                    <em class="emphasis">double_encode</em>. If set to false existing html entities will
                    not be encoded. The default is to convert everything (true).
                </p>

                <blockquote><p><b class="note">Note</b>: 
                    
                        This option must be set via the <var class="varname">$options</var> parameter or the
                         <span class="methodname">setDoubleEncode()</span> method.
                    <br />
                </p></blockquote>
            </li>
        </ul>
    </div>

    <div class="section" id="zend.filter.set.htmlentities.basic" name="zend.filter.set.htmlentities.basic"><div class="info"><h1 class="title">Basic usage</h1></div>
        

        <p class="para">
            See the following example for the default behaviour of this filter.
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_HtmlEntities<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/print"><span style="color: #000066;">print</span></a> <span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'&lt;'</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

    </div>

    <div class="section" id="zend.filter.set.htmlentities.quotestyle" name="zend.filter.set.htmlentities.quotestyle"><div class="info"><h1 class="title">Quote Style</h1></div>
        

        <p class="para">
            <span class="classname">Zend_Filter_HtmlEntities</span> allows changing the quote style used.
            This can be useful when you want to leave double, single, or both types of quotes
            un-filtered. See the following example:
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_HtmlEntities<span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'quotestyle'</span> =&gt; ENT_QUOTES<span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$input</span>&nbsp; = <span style="color: #ff0000;">&quot;A 'single' and &quot;</span> . <span style="color: #ff0000;">'&quot;double&quot;'</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/print"><span style="color: #000066;">print</span></a> <span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$input</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>


        <p class="para">
            The above example returns
            <em class="emphasis">A &#039;single&#039; and &quot;double&quot;</em>. Notice that &#039;single&#039;
            as well as &quot;double&quot; quotes are filtered.
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_HtmlEntities<span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'quotestyle'</span> =&gt; ENT_COMPAT<span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$input</span>&nbsp; = <span style="color: #ff0000;">&quot;A 'single' and &quot;</span> . <span style="color: #ff0000;">'&quot;double&quot;'</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/print"><span style="color: #000066;">print</span></a> <span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$input</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>


        <p class="para">
            The above example returns <em class="emphasis">A &#039;single&#039; and &quot;double&quot;</em>.
            Notice that &quot;double&quot; quotes are filtered while &#039;single&#039; quotes are not altered.
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_HtmlEntities<span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'quotestyle'</span> =&gt; ENT_NOQUOTES<span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$input</span>&nbsp; = <span style="color: #ff0000;">&quot;A 'single' and &quot;</span> . <span style="color: #ff0000;">'&quot;double&quot;'</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/print"><span style="color: #000066;">print</span></a> <span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$input</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>


        <p class="para">
            The above example returns <em class="emphasis">A &#039;single&#039; and &quot;double&quot;</em>. Notice that
            neither &quot;double&quot; or &#039;single&#039; quotes are altered.
        </p>
    </div>

    <div class="section" id="zend.filter.set.htmlentities." name="zend.filter.set.htmlentities."><div class="info"><h1 class="title">Helper Methods</h1></div>
        

        <p class="para">
            To change or retrieve the <span class="property">quotestyle</span> after instantiation, the two
            methods  <span class="methodname">setQuoteStyle()</span> and
             <span class="methodname">getQuoteStyle()</span> may be used respectively.
             <span class="methodname">setQuoteStyle()</span> accepts one parameter
            <var class="varname">$quoteStyle</var>. The following constants are accepted:
            <b><tt>ENT_COMPAT</tt></b>, <b><tt>ENT_QUOTES</tt></b>,
            <b><tt>ENT_NOQUOTES</tt></b>
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_HtmlEntities<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">setQuoteStyle</span><span style="color: #66cc66;">&#40;</span>ENT_QUOTES<span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/print"><span style="color: #000066;">print</span></a> <span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">getQuoteStyle</span><span style="color: #66cc66;">&#40;</span>ENT_QUOTES<span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>


        <p class="para">
            To change or retrieve the <span class="property">charset</span> after instantiation, the two
            methods  <span class="methodname">setCharSet()</span> and  <span class="methodname">getCharSet()</span>
            may be used respectively.  <span class="methodname">setCharSet()</span> accepts one parameter
            <var class="varname">$charSet</var>. See &quot;http://php.net/htmlentities&quot; for a list of supported
            character sets.
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_HtmlEntities<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">setQuoteStyle</span><span style="color: #66cc66;">&#40;</span>ENT_QUOTES<span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/print"><span style="color: #000066;">print</span></a> <span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">getQuoteStyle</span><span style="color: #66cc66;">&#40;</span>ENT_QUOTES<span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>


        <p class="para">
            To change or retrieve the <span class="property">doublequote</span> option after instantiation,
            the two methods  <span class="methodname">setDoubleQuote()</span> and
             <span class="methodname">getDoubleQuote()</span> may be used respectively.
             <span class="methodname">setDoubleQuote()</span> accepts one boolean parameter
            <var class="varname">$doubleQuote</var>.
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_HtmlEntities<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">setQuoteStyle</span><span style="color: #66cc66;">&#40;</span>ENT_QUOTES<span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/print"><span style="color: #000066;">print</span></a> <span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">getQuoteStyle</span><span style="color: #66cc66;">&#40;</span>ENT_QUOTES<span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

    </div>
</div>
    <div class="section" id="zend.filter.set.int" name="zend.filter.set.int"><div class="info"><h1 class="title">Int(日本語)</h1></div>
    

    <p class="para">
        <span class="classname">Zend_Filter_Int</span> により、含んでいるスカラー値を整数に変換できます
    </p>

    <div class="section" id="zend.filter.set.int.options" name="zend.filter.set.int.options"><div class="info"><h1 class="title">Zend_Filter_Int でサポートされるオプション</h1></div>
        

        <p class="para">
            <span class="classname">Zend_Filter_Int</span> に対する追加オプションはありません。
        </p>
    </div>

    <div class="section" id="zend.filter.set.int.basic" name="zend.filter.set.int.basic"><div class="info"><h1 class="title">基本的な使用法</h1></div>
        

        <p class="para">
            下記は基本的な使用例です。
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Int<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/print"><span style="color: #000066;">print</span></a> <span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'-4 is less than 0'</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>


        <p class="para">
            これは &#039;-4&#039; を返します。
        </p>
    </div>
</div>
    <div class="section" id="zend.filter.set.localizedtonormalized" name="zend.filter.set.localizedtonormalized"><div class="info"><h1 class="title">LocalizedToNormalized および NormalizedToLocalized</h1></div>
    

    
    <p class="para">
        These two filters can change given localized input to it&#039;s normalized representation and
        reverse. They use in Background <span class="classname">Zend_Locale</span> to do this transformation
        for you.
    </p>

    <div class="section" id="zend.filter.set.localizedtonormalized.options" name="zend.filter.set.localizedtonormalized.options"><div class="info"><h1 class="title">
            Zend_Filter_LocalizedToNormalized および
            Zend_Filter_NormalizedToLocalized でサポートされるオプション
        </h1></div>
        

        <p class="para">
            <span class="classname">Zend_Filter_LocalizedToNormalized</span> および
            <span class="classname">Zend_Filter_NormalizedToLocalized</span> では、下記のオプションがサポートされます。
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">
                    <em class="emphasis"><span class="property">date_format</span></em>: 正規化で使う日付形式や、
                    地域化された日付形式を検出する日付形式を設定します。
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis"><span class="property">locale</span></em>: 正規化で使うロケールや、
                    地域化された形式を検出するロケールを設定します。
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis"><span class="property">precision</span></em>: 数値変換で使う精度を設定します。
                </p>
            </li>
        </ul>
    </div>

    <div class="section" id="zend.filter.set.localizedtonormalized.workflow" name="zend.filter.set.localizedtonormalized.workflow"><div class="info"><h1 class="title">ワークフロー</h1></div>
        

        <p class="para">
            正規化により、ユーザーがユーザー固有の言語表記で情報を入力でき、
            さらに例えば正規化された値をデータベースに保存できるようになります。
            一方で地域化により、
            保管された正規化された値をローカルな流儀でユーザーに提示できるようになります。
        </p>

        <blockquote><p><b class="note">Note</b>: 
            
                正規化および地域化と翻訳とは同一ではないことに注意してください。
                これらのフィルタでは、月や日の名前で期待するような、
                ある言語から別のものへの文字列の翻訳は行えません。
            <br />
        </p></blockquote>

        <p class="para">
            下記の入力型が正規化および地域化されます。
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">
                    <em class="emphasis">integer</em>: 整数値。正規化では英語表記を返します。
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis">float</em>: フロート値。正規化では英語表記を返します。
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis">numbers</em>: 実数のようなその他の数値。正規化では英語表記を返します。
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis">time</em>: 時刻値。連想配列に正規化されます。
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis">date</em>: 日付値。連想配列に正規化されます。
                </p>
            </li>
        </ul>

        <p class="para">
            その他の入力はいずれも変更無しにそのまま返されます。
        </p>

        <blockquote><p><b class="note">Note</b>: 
            
                正規化された出力が常に文字列として与えられることに注意するべきです。
                これ以外の場合には、
                環境は正規化された出力から、
                環境で設定されたロケールで使われる表記法に
                自動的に変換します。
            <br />
        </p></blockquote>
    </div>

    <div class="section" id="zend.filter.set.localizedtonormalized.numbersnormal" name="zend.filter.set.localizedtonormalized.numbersnormal"><div class="info"><h1 class="title">数値の正規化</h1></div>
        

        <p class="para">
            整数、フロートまたは実数のようなあらゆる数が正規化されます。
            指数表記の数値は、実はこのフィルタで扱えないので注意してください。
        </p>

        <p class="para">
            数値についての詳しい正規化方法
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">//フィルタ初期化</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_LocalizedToNormalized<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'123.456,78'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">//値 '123456.78' を返します。</span></div></li></ol></div></div></div>


        <p class="para">
            アプリケーション全体のロケールとしてロケール &#039;de&#039; を設定したつもりになりましょう。
            <span class="classname">Zend_Filter_LocalizedToNormalized</span>は設定されたロケールを受け取って、
            どの種類の入力をあなたが与えたか検出するために、それを使います。
            われわれの例ではそれは精度を持つ値でした。
            そこで、この値を文字列として正規化した表現をフィルタは返します。
        </p>

        <p class="para">
            正規化した数がどのようになるべきか、コントロールすることもできます。
            このために<span class="classname">Zend_Locale_Format</span>でも使用されるオプションを
            全て与えられます。利用可能なオプションについて詳しくは、この
            <a href="zend.locale.parsing.html" class="link">Zend_Locale の章</a>をご覧ください。
        </p>

        <p class="para">
            下記はオプションの動作方法が分かるように精度を定義した例です。
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">//数値フィルタ</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_LocalizedToNormalized<span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'precision'</span> =&gt; <span style="color: #cc66cc;">2</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'123.456'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">//値 '123456.00' を返します。</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'123.456,78901'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">//値 '123456.79' を返します。</span></div></li></ol></div></div></div>

    </div>

    <div class="section" id="zend.filter.set.localizedtonormalized.dates" name="zend.filter.set.localizedtonormalized.dates"><div class="info"><h1 class="title">日時の正規化</h1></div>
        

        <p class="para">
            日付や時刻の値の入力もまた、正規化できます。
            与えられた日付および時刻は全て、独自のキーの範囲内で日付の各部分が与えられた
            配列として返されます。
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">//フィルタ初期化</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_LocalizedToNormalized<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'12.April.2009'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// array('day' =&gt; '12', 'month' =&gt; '04', 'year' =&gt; '2009') を返します。</span></div></li></ol></div></div></div>


        <p class="para">
            ふたたびロケール &#039;de&#039; を設定したつもりになりましょう。
            そこで、入力は自動的に日付として検出され、
            返り値に連想配列を受け取ります。
        </p>

        <p class="para">
            もちろん、日付の入力値をどのようにするか
            <em class="emphasis">date_format</em>や<em class="emphasis">locale</em>オプションで
            コントロールすることもできます。
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">//日付フィルタ</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_LocalizedToNormalized<span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'date_format'</span> =&gt; <span style="color: #ff0000;">'ss:mm:HH'</span><span style="color: #66cc66;">&#41;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'11:22:33'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// array('hour' =&gt; '33', 'minute' =&gt; '22', 'second' =&gt; '11') を返します。</span></div></li></ol></div></div></div>

    </div>

    <div class="section" id="zend.filter.set.localizedtonormalized.numberslocal" name="zend.filter.set.localizedtonormalized.numberslocal"><div class="info"><h1 class="title">数値の地域化</h1></div>
        

        <p class="para">
            整数、フロートまたは実数のようなあらゆる数が地域化されます。
            指数表記の数値は、実はこのフィルタで扱えないので注意してください。
        </p>

        <p class="para">
            数値についての詳しい地域化方法
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">//フィルタを初期化</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_NormalizedToLocalized<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">123456.78</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">//値 '123.456,78' を返します。</span></div></li></ol></div></div></div>


        <p class="para">
            アプリケーション全体のロケールとしてロケール &#039;de&#039; を設定したつもりになりましょう。
            <span class="classname">Zend_Filter_NormalizedToLocalized</span>は設定されたロケールを受け取って、
            どの種類の出力をあなたが受け取りたいのか検出するために、それを使います。
            われわれの例ではそれは精度を持つ値でした。
            そこで、この値を文字列として地域化した表現をフィルタは返します。
        </p>

        <p class="para">
            地域化した数がどのようになるべきか、コントロールすることもできます。
            このために<span class="classname">Zend_Locale_Format</span>でも使用されるオプションを
            全て与えられます。
            これらのオプションの使い方について詳しくは、この
            <a href="zend.locale.parsing.html" class="link">Zend_Locale の章</a> をご覧ください。
        </p>

        <p class="para">
            下記はオプションの動作方法が分かるように精度を定義した例です。
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">//数値フィルタ</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_NormalizedToLocalized<span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'precision'</span> =&gt; <span style="color: #cc66cc;">2</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">123456</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">//値 '123.456,00' を返します。</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">123456.78901</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">//値 '123.456,79' を返します。</span></div></li></ol></div></div></div>


    </div>

    <div class="section" id="zend.filter.set.normalizedtolocalized.dates" name="zend.filter.set.normalizedtolocalized.dates"><div class="info"><h1 class="title">日時の地域化</h1></div>
        

        <p class="para">
            日付や時刻の値を正規化したものもまた、地域化できます。
            与えられた日付および時刻は全て、設定されたロケールで定義された形式で
            文字列として返されます。
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">//フィルタを初期化</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_NormalizedToLocalized<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'day'</span> =&gt; <span style="color: #ff0000;">'12'</span>, <span style="color: #ff0000;">'month'</span> =&gt; <span style="color: #ff0000;">'04'</span>, <span style="color: #ff0000;">'year'</span> =&gt; <span style="color: #ff0000;">'2009'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// '12.04.2009' を返します。</span></div></li></ol></div></div></div>


        <p class="para">
            ふたたびロケール &#039;de&#039; を設定したつもりになりましょう。
            そこで、入力は自動的に日付として検出され、
            ロケール &#039;de&#039; で定義された形式で返されます。
        </p>

        <p class="para">
            もちろん、日付の入力値をどのようにするか
            <em class="emphasis">date_format</em>や<em class="emphasis">locale</em>オプションで
            コントロールすることもできます。
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">//日付フィルタ</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_LocalizedToNormalized<span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'date_format'</span> =&gt; <span style="color: #ff0000;">'ss:mm:HH'</span><span style="color: #66cc66;">&#41;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'hour'</span> =&gt; <span style="color: #ff0000;">'33'</span>, <span style="color: #ff0000;">'minute'</span> =&gt; <span style="color: #ff0000;">'22'</span>, <span style="color: #ff0000;">'second'</span> =&gt; <span style="color: #ff0000;">'11'</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// '11:22:33' を返します。</span></div></li></ol></div></div></div>

    </div>
</div>
    <div class="section" id="zend.filter.set.null" name="zend.filter.set.null"><div class="info"><h1 class="title">Null(日本語)</h1></div>
    

    <p class="para">
        もし指定の基準を満たす場合、
        このフィルタは与えられた入力を <b><tt>NULL</tt></b>に変更します。
        データベースとともに作業するとき、これはしばしば必要です
        そして、ブールや他のあらゆるタイプの代わりに <b><tt>NULL</tt></b>値を持つことを望みます。
    </p>

    <div class="section" id="zend.filter.set.null.options" name="zend.filter.set.null.options"><div class="info"><h1 class="title">Zend_Filter_Null でサポートされるオプション</h1></div>
        

        <p class="para">
            <span class="classname">Zend_Filter_Null</span> では、下記のオプションがサポートされます。
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">
                    <em class="emphasis"><span class="property">type</span></em>: サポートされるべき変数の型
                </p>
            </li>
        </ul>
    </div>

    <div class="section" id="zend.filter.set.null.default" name="zend.filter.set.null.default"><div class="info"><h1 class="title">Zend_Filter_Null の既定の振る舞い</h1></div>
        

        <p class="para">
            デフォルトではこのフィルタは<acronym class="acronym">PHP</acronym>の
             <span class="methodname">empty()</span>メソッドのように動作します。
            言い換えると、もし <span class="methodname">empty()</span>がブールの <b><tt>TRUE</tt></b> を返す場合、
            <b><tt>NULL</tt></b>値が返されます。
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Null<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$value</span>&nbsp; = <span style="color: #ff0000;">''</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$result</span> = <span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$value</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// 空文字列の代わりに null を返します</span></div></li></ol></div></div></div>


        <p class="para">
            これは、何の設定もなしに、
            <span class="classname">Zend_Filter_Null</span>は全ての入力を受け付けて、
             <span class="methodname">empty()</span>と同じ場合に
            <b><tt>NULL</tt></b>を返すことを意味します。
        </p>

        <p class="para">
            他の値ではいずれも変更無しにそのまま返されます。
        </p>
    </div>

    <div class="section" id="zend.filter.set.null.types" name="zend.filter.set.null.types"><div class="info"><h1 class="title">Zend_Filter_Null の振る舞いの変更</h1></div>
        

        <p class="para">
            しばしば、 <span class="methodname">empty()</span>に基づくフィルタでは十分ではありません。
            そのため、<span class="classname">Zend_Filter_Null</span>では、
            いずれのタイプが変換されるか否か設定できます。
        </p>

        <p class="para">
            下記のタイプが操作できます。
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">
                    <em class="emphasis">boolean</em>: ブールの
                    <em class="emphasis"><b><tt>FALSE</tt></b></em> 値を
                    <b><tt>NULL</tt></b> に変換します。
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis">integer</em>: 整数値の <em class="emphasis">0</em> を
                    <b><tt>NULL</tt></b>.に変換します。
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis">empty_array</em>: 空の <em class="emphasis">array</em> を
                    <b><tt>NULL</tt></b>.に変換します。
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis">string</em>: 空文字列 <em class="emphasis">&#039;&#039;</em> を
                    <b><tt>NULL</tt></b>.に変換します。
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis">zero</em>: 単一の文字、ゼロ (<em class="emphasis">&#039;0&#039;</em>)
                    を含む文字列を <b><tt>NULL</tt></b>.に変換します。
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis">all</em>: 上記のタイプ全てを
                    <b><tt>NULL</tt></b>.に変換します。
                    （これが既定の振る舞いです）
                </p>
            </li>
        </ul>

        <p class="para">
            上記のタイプのうちのいずれをフィルタするかを選択する方法が、いくつかあります。
            １つまたは複数のタイプを与えて、それに追加できます。
            配列を与えたり、定数を使えます。
            または、原文の文字列を与えられます。
            下記の例をご覧ください。
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// false を null に変換</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Null<span style="color: #66cc66;">&#40;</span>Zend_Filter_Null::<span style="color: #006600;">BOOLEAN</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// false 及び 0 を null に変換</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Null<span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; Zend_Filter_Null::<span style="color: #006600;">BOOLEAN</span> + Zend_Filter_Null::<span style="color: #006600;">INTEGER</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// false 及び 0 を null に変換</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Null<span style="color: #66cc66;">&#40;</span> <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; Zend_Filter_Null::<span style="color: #006600;">BOOLEAN</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; Zend_Filter_Null::<span style="color: #006600;">INTEGER</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// false 及び 0 を null に変換</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Null<span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'boolean'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'integer'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>


        <p class="para">
            希望のタイプをセットするために、
            <span class="classname">Zend_Config</span> のインスタンスを与えることもできます。
            タイプをセットするには、後で  <span class="methodname">setType()</span> を使います。
        </p>
    </div>
</div>

    <div class="section" id="zend.filter.set.pregreplace" name="zend.filter.set.pregreplace"><div class="info"><h1 class="title">PregReplace</h1></div>
    

    <p class="para">
        <span class="classname">Zend_Filter_PregReplace</span> performs a search using regular expressions
        and replaces all found elements.
    </p>

    <div class="section" id="zend.filter.set.pregreplace.options" name="zend.filter.set.pregreplace.options"><div class="info"><h1 class="title">Supported options for Zend_Filter_PregReplace</h1></div>
        

        <p class="para">
            The following options are supported for <span class="classname">Zend_Filter_PregReplace</span>:
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">
                    <em class="emphasis"><span class="property">match</span></em>: The pattern which will be
                    searched for.
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis"><span class="property">replace</span></em>: The string which is used as
                    replacement for the matches.
                </p>
            </li>
        </ul>
    </div>

    <div class="section" id="zend.filter.set.pregreplace.basic" name="zend.filter.set.pregreplace.basic"><div class="info"><h1 class="title">Basic usage</h1></div>
        

        <p class="para">
            To use this filter properly you must give two options:
        </p>

        <p class="para">
            The option <span class="property">match</span> has to be given to set the pattern which will be
            searched for. It can be a string for a single pattern, or an array of strings for
            multiple pattern.
        </p>

        <p class="para">
            To set the pattern which will be used as replacement the option
            <span class="property">replace</span> has to be used. It can be a string for a single pattern, or
            an array of strings for multiple pattern.
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_PregReplace<span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'match'</span> =&gt; <span style="color: #ff0000;">'/bob/'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'replace'</span> =&gt; <span style="color: #ff0000;">'john'</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$input</span>&nbsp; = <span style="color: #ff0000;">'Hy bob!'</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$input</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// returns 'Hy john!'</span></div></li></ol></div></div></div>


        <p class="para">
            You can use  <span class="methodname">getMatchPattern()</span> and
             <span class="methodname">setMatchPattern()</span> to set the matching pattern afterwards. To
            set the replacement pattern you can use  <span class="methodname">getReplacement()</span> and
             <span class="methodname">setReplacement()</span>.
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_PregReplace<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">setMatchPattern</span><span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'bob'</span>, <span style="color: #ff0000;">'Hy'</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp;-&gt;<span style="color: #006600;">setReplacement</span><span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'john'</span>, <span style="color: #ff0000;">'Bye'</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$input</span>&nbsp; = <span style="color: #ff0000;">'Hy bob!&quot;;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #ff0000;">$filter-&gt;filter($input);</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #ff0000;">// returns '</span>Bye john!<span style="color: #ff0000;">'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #ff0000;"</span></div></li></ol></div></div></div>


        <p class="para">
            For a more complex usage take a look into <acronym class="acronym">PHP</acronym>&#039;s <a href="http://www.php.net/manual/en/reference.pcre.pattern.modifiers.php" class="link external">&raquo; PCRE
                Pattern Chapter</a>.
        </p>
    </div>
</div>
    <div class="section" id="zend.filter.set.realpath" name="zend.filter.set.realpath"><div class="info"><h1 class="title">RealPath(日本語)</h1></div>
    

    <p class="para">
        このフィルタは与えられたリンクとパス名を解決して、正規化された絶対パス名を返します。
    </p>

    <div class="section" id="zend.filter.set.realpath.options" name="zend.filter.set.realpath.options"><div class="info"><h1 class="title">Zend_Filter_RealPath でサポートされるオプション</h1></div>
        

        <p class="para">
            <span class="classname">Zend_Filter_RealPath</span> では、下記のオプションがサポートされます。
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">
                    <em class="emphasis"><span class="property">exists</span></em>:
                    このオプションの既定値は <b><tt>TRUE</tt></b> で、
                    与えられたパスが本当に存在するかどうかチェックします。
                </p>
            </li>
        </ul>
    </div>

    <div class="section" id="zend.filter.set.realpath.basic" name="zend.filter.set.realpath.basic"><div class="info"><h1 class="title">基本の使い方</h1></div>
        

        <p class="para">
            与えられたパス名のリンク全てで完全パスが返されます。
            &#039;<var class="filename">/./</var>&#039; や &#039;<var class="filename">/../</var>&#039; への参照、
            及び、入力パスの余分な &#039;<var class="filename">/</var>&#039; 記号は取り除かれます。
            結果のパスにはいかなるシンボリックリンクも無く、
            &#039;<var class="filename">/./</var>&#039; や &#039;<var class="filename">/../</var>&#039; 文字もありません。
        </p>

        <p class="para">
            たとえばファイルが存在しない場合、
            <span class="classname">Zend_Filter_RealPath</span>は失敗すると<b><tt>FALSE</tt></b>を返します。
            もし最後のパスのコンポーネントだけが存在しない場合、
            <acronym class="acronym">BSD</acronym> システムでは<span class="classname">Zend_Filter_RealPath</span>は失敗しますが、
            他のシステムでは<b><tt>FALSE</tt></b>を返します。
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_RealPath<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$path</span>&nbsp; &nbsp;= <span style="color: #ff0000;">'/www/var/path/../../mypath'</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filtered</span> = <span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$path</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// '/www/mypath' を返します。</span></div></li></ol></div></div></div>

    </div>

    <div class="section" id="zend.filter.set.realpath.exists" name="zend.filter.set.realpath.exists"><div class="info"><h1 class="title">存在しないパス</h1></div>
        

        <p class="para">
            それらが存在しないとき、
            たとえば、生成したいパスのために実際のパスを取得したいとき、
            パスを得るためにしばしば役に立ちます。
            初期化で<b><tt>FALSE</tt></b>を渡すこともできますし、
            それを設定するために <span class="methodname">setExists()</span>を使うこともできます。
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_RealPath<span style="color: #66cc66;">&#40;</span><span style="color: #000000; font-weight: bold;">false</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$path</span>&nbsp; &nbsp;= <span style="color: #ff0000;">'/www/var/path/../../non/existing/path'</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filtered</span> = <span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$path</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// file_exists または realpath が false を返すときでも</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// '/www/non/existing/path' を返します。</span></div></li></ol></div></div></div>

    </div>
</div>
    <div class="section" id="zend.filter.set.stringtolower" name="zend.filter.set.stringtolower"><div class="info"><h1 class="title">StringToLower(日本語)</h1></div>
    

    <p class="para">
        Tこのフィルタは、入力を全て小文字に変換します。
    </p>

    <div class="section" id="zend.filter.set.stringtolower.options" name="zend.filter.set.stringtolower.options"><div class="info"><h1 class="title">Zend_Filter_StringToLower でサポートされるオプション</h1></div>
        

        <p class="para">
            <span class="classname">Zend_Filter_StringToLower</span> では、下記のオプションがサポートされます。
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">
                    <em class="emphasis"><span class="property">encoding</span></em>
                    使用されるべきエンコーディングを設定するためにこのオプションを使用します。
                </p>
            </li>
        </ul>
    </div>

    <div class="section" id="zend.filter.set.stringtolower.basic" name="zend.filter.set.stringtolower.basic"><div class="info"><h1 class="title">基本的な使用法</h1></div>
        

        <p class="para">
            これは基本的な例です。
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_StringToLower<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/print"><span style="color: #000066;">print</span></a> <span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'SAMPLE'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// &quot;sample&quot; を返します</span></div></li></ol></div></div></div>

    </div>

    <div class="section" id="zend.filter.set.stringtolower.encoding" name="zend.filter.set.stringtolower.encoding"><div class="info"><h1 class="title">Different encoded strings</h1></div>
        

        <p class="para">
            デフォルトでは、それはサーバの現時点のロケールで、文字を取り扱うだけです。
            他のcharset由来の文字は、無視されます。
            さらに、mbstring拡張が環境で利用できるとき、
            それらを小文字にすることもできます。
            <span class="classname">StringToLower</span>フィルタを初期化するときは、
            希望のエンコーディングを設定するだけです。
            または、後でエンコーディングを変更するために、
             <span class="methodname">setEncoding()</span>メソッドを使います。
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// UTF-8 を使用</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_StringToLower<span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'UTF-8'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">//または、構成を使うときに、役に立つことがありえる配列を与えます</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_StringToLower<span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'encoding'</span> =&gt; <span style="color: #ff0000;">'UTF-8'</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">//または後でこのようにします</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">setEncoding</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'ISO-8859-1'</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>


        <blockquote><p><b class="note">Note</b>: <span class="info"><b>間違ったエンコーディングの設定</b><br /></span>
            

            
                あるエンコーディングを設定したくて、mbstring拡張が環境で利用できないとき、
                例外を得ることに注意してください。
            <br />

            
                また、mbstring拡張でサポートされないエンコーディングを設定しようとしているとき、
                例外を得ます。
            <br />
        </p></blockquote>
    </div>
</div>
    <div class="section" id="zend.filter.set.stringtoupper" name="zend.filter.set.stringtoupper"><div class="info"><h1 class="title">StringToUpper(日本語)</h1></div>
    

    <p class="para">
        このフィルタは、入力を全て大文字に変換します。
    </p>

    <div class="section" id="zend.filter.set.stringtoupper.options" name="zend.filter.set.stringtoupper.options"><div class="info"><h1 class="title">Zend_Filter_StringToUpper でサポートされるオプション</h1></div>
        

        <p class="para">
            <span class="classname">Zend_Filter_StringToUpper</span> では、下記のオプションがサポートされます。
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">
                    <em class="emphasis"><span class="property">encoding</span></em>:
                    使用されるべきエンコーディングを設定するためにこのオプションを使用します。
                </p>
            </li>
        </ul>
    </div>

    <div class="section" id="zend.filter.set.stringtoupper.basic" name="zend.filter.set.stringtoupper.basic"><div class="info"><h1 class="title">基本的な使用法</h1></div>
        

        <p class="para">
            これは、<span class="classname">StringToUpper</span> フィルタを使用する基本的な例です。
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_StringToUpper<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/print"><span style="color: #000066;">print</span></a> <span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Sample'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// &quot;SAMPLE&quot; を返します</span></div></li></ol></div></div></div>


    </div>

    <div class="section" id="zend.filter.set.stringtoupper.encoding" name="zend.filter.set.stringtoupper.encoding"><div class="info"><h1 class="title">異なるエンコード文字列</h1></div>
        

        <p class="para">
            <span class="classname">StringToLower</span>フィルタの様に、
            このフィルタは、サーバの現時点のロケール由来の文字だけを処理します。
            <span class="classname">StringToLower</span>と同様に、
            異なる文字セットを使っても動作します。
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_StringToUpper<span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'encoding'</span> =&gt; <span style="color: #ff0000;">'UTF-8'</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">//または後でこのようにします</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">setEncoding</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'ISO-8859-1'</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

    </div>
</div>
    <div class="section" id="zend.filter.set.stringtrim" name="zend.filter.set.stringtrim"><div class="info"><h1 class="title">StringTrim</h1></div>
    

    <p class="para">
        This filter modifies a given string such that certain characters are removed from the
        beginning and end.
    </p>

     <div class="section" id="zend.filter.set.stringtrim.options" name="zend.filter.set.stringtrim.options"><div class="info"><h1 class="title">Supported options for Zend_Filter_StringTrim</h1></div>
        

        <p class="para">
            The following options are supported for <span class="classname">Zend_Filter_StringTrim</span>:
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">
                    <em class="emphasis"><span class="property">charlist</span></em>: List of characters to
                    remove from the beginning and end of the string. If this is not set or is null,
                    the default behavior will be invoked, which is to remove only whitespace from
                    the beginning and end of the string.
                </p>
            </li>
        </ul>
    </div>

    <div class="section" id="zend.filter.set.stringtrim.basic" name="zend.filter.set.stringtrim.basic"><div class="info"><h1 class="title">Basic usage</h1></div>
        

        <p class="para">
            A basic example of usage is below:
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_StringTrim<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/print"><span style="color: #000066;">print</span></a> <span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">' This is (my) content: '</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>


        <p class="para">
            The above example returns &#039;This is (my) content:&#039;. Notice that the whitespace characters
            have been removed.
        </p>
    </div>

    <div class="section" id="zend.filter.set.stringtrim.types" name="zend.filter.set.stringtrim.types"><div class="info"><h1 class="title">Default behaviour for Zend_Filter_StringTrim</h1></div>
        

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_StringTrim<span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">':'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// or new Zend_Filter_StringTrim(array('charlist' =&gt; ':'));</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/print"><span style="color: #000066;">print</span></a> <span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">' This is (my) content:'</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>


        <p class="para">
            The above example returns &#039;This is (my) content&#039;. Notice that the whitespace characters
            and colon are removed. You can also provide an instance of
            <span class="classname">Zend_Config</span> or an array with a &#039;charlist&#039; key. To set the
            desired character list after instantiation, use the
             <span class="methodname">setCharList()</span> method.
            The  <span class="methodname">getCharList()</span> return the values set for charlist.
        </p>
    </div>
</div>
    <div class="section" id="zend.filter.set.stripnewlines" name="zend.filter.set.stripnewlines"><div class="info"><h1 class="title">StripNewLines(日本語)</h1></div>
    

    <p class="para">
        このフィルタは与えられた文字列を修正して、その文字列内の改行文字を全て削除します。
    </p>

     <div class="section" id="zend.filter.set.strinpnewlines.options" name="zend.filter.set.strinpnewlines.options"><div class="info"><h1 class="title">Zend_Filter_StripNewLines でサポートされるオプション</h1></div>
        

        <p class="para">
            <span class="classname">Zend_Filter_StripNewLines</span> に対する追加オプションはありません。
        </p>
    </div>

    <div class="section" id="zend.filter.set.stripnewlines.basic" name="zend.filter.set.stripnewlines.basic"><div class="info"><h1 class="title">基本的な使用法</h1></div>
        

        <p class="para">
            下記は基本的な使用例です。
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_StripNewLines<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/print"><span style="color: #000066;">print</span></a> <span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">&quot;This is (my)<span style="color: #000099; font-weight: bold;">\n</span><span style="color: #000099; font-weight: bold;">\r</span>content: ');</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #ff0000;"</span></div></li></ol></div></div></div>


        <p class="para">
            上記の例では &#039;This is (my) content:&#039; を返します。
            改行文字が全て削除されたことに注意してください。
        </p>
    </div>
</div>
    <div class="section" id="zend.filter.set.striptags" name="zend.filter.set.striptags"><div class="info"><h1 class="title">StripTags</h1></div>
    

    <p class="para">
        This filter can strip <acronym class="acronym">XML</acronym> and <acronym class="acronym">HTML</acronym> tags from given
        content.
    </p>

    <div class="warning"><b class="warning">Warning</b><div class="info"><h1 class="title">Zend_Filter_StripTags is potentially unsecure</h1></div>
        

        <p class="para">
            Be warned that <span class="classname">Zend_Filter_StripTags</span> should only be used to strip
            all available tags.
        </p>

        <p class="para">
            Using <span class="classname">Zend_Filter_StripTags</span> to make your site
            <em class="emphasis">secure</em> by stripping some unwanted tags will lead to unsecure and
            dangerous code.
        </p>

        <p class="para">
            <span class="classname">Zend_Filter_StripTags</span> must not be used to prevent
            <acronym class="acronym">XSS</acronym> attacks. This filter is no replacement for using Tidy or
            HtmlPurifier.
        </p>
    </div>

    <div class="section" id="zend.filter.set.striptags.options" name="zend.filter.set.striptags.options"><div class="info"><h1 class="title">Supported options for Zend_Filter_StripTags</h1></div>
        

        <p class="para">
            The following options are supported for <span class="classname">Zend_Filter_StripTags</span>:
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">
                    <em class="emphasis"><span class="property">allowAttribs</span></em>: This option sets the
                    attributes which are accepted. All other attributes are stripped from the given
                    content
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis"><span class="property">allowTags</span></em>: This option sets the tags
                    which are accepted. All other tags will be stripped from the given content
                </p>
            </li>
        </ul>
    </div>

    <div class="section" id="zend.filter.set.striptags.basic" name="zend.filter.set.striptags.basic"><div class="info"><h1 class="title">Basic usage</h1></div>
        

        <p class="para">
            See the following example for the default behaviour of this filter:
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_StripTags<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/print"><span style="color: #000066;">print</span></a> <span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'&lt;B&gt;My content&lt;/B&gt;'</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>


        <p class="para">
            As result you will get the stripped content &#039;My content&#039;.
        </p>

        <p class="para">
            When the content contains broken or partitial tags then the complete following content
            will be erased. See the following example:
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_StripTags<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/print"><span style="color: #000066;">print</span></a> <span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'This contains &lt;a href=&quot;http://example.com&quot;&gt;no ending tag'</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>


        <p class="para">
            The above will return &#039;This contains&#039; with the rest being stripped.
        </p>
    </div>

    <div class="section" id="zend.filter.set.striptags.allowtags" name="zend.filter.set.striptags.allowtags"><div class="info"><h1 class="title">Allowing defined tags</h1></div>
        

        <p class="para">
            <span class="classname">Zend_Filter_StripTags</span> allows stripping of all but defined tags.
            This can be used for example to strip all tags but links from a text.
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_StripTags<span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'allowTags'</span> =&gt; <span style="color: #ff0000;">'a'</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$input</span>&nbsp; = <span style="color: #ff0000;">&quot;A text with &lt;br/&gt; a &lt;a href='link.com'&gt;link&lt;/a&gt;&quot;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/print"><span style="color: #000066;">print</span></a> <span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$input</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// returns: A text with a &lt;a href='link.com'&gt;link&lt;/a&gt;</span></div></li></ol></div></div></div>


        <p class="para">
            The above example strips all tags but the link. By providing an array you can set
            multiple tags at once.
        </p>

        <div class="warning"><b class="warning">Warning</b>
            <p class="para">
                Do not use this feature to get a <em class="emphasis">probably secure</em> content. This
                component does not replace the use of a proper configured html filter.
            </p>
        </div>
    </div>

    <div class="section" id="zend.filter.set.striptags.allowattribs" name="zend.filter.set.striptags.allowattribs"><div class="info"><h1 class="title">Allowing defined attributes</h1></div>
        

        <p class="para">
            It is also possible to strip all but allowed attributes from a tag.
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filter</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_StripTags<span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'allowAttribs'</span> =&gt; <span style="color: #ff0000;">'src'</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$input</span>&nbsp; = <span style="color: #ff0000;">&quot;A text with &lt;br/&gt; a &lt;img src='picture.com' width='100'&gt;picture&lt;/img&gt;&quot;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/print"><span style="color: #000066;">print</span></a> <span style="color: #0000ff;">$filter</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$input</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// returns: A text with a &lt;img src='picture.com'&gt;picture&lt;/img&gt;</span></div></li></ol></div></div></div>


        <p class="para">
            The above example strips all tags but img. Additionally from the img tag all
            attributes but src will be stripped. By providing an array you can set multiple
            attributes at once.
        </p>
    </div>
</div>
</div>
        <hr />

            <table width="100%">
                <tr>
                    <td width="25%" style="text-align: left;">
                    <a href="zend.filter.introduction.html">導入</a>
                    </td>

                    <td width="50%" style="text-align: center;">
                        <div class="up"><span class="up"><a href="zend.filter.html">Zend_Filter</a></span><br />
                        <span class="home"><a href="manual.html">Programmer's Reference Guide</a></span></div>
                    </td>

                    <td width="25%" style="text-align: right;">
                        <div class="next" style="text-align: right; float: right;"><a href="zend.filter.filter_chains.html">フィルタチェイン</a></div>
                    </td>
                </tr>
            </table>
</td>
        <td style="font-size: smaller;" width="15%"> <style type="text/css">
#leftbar {
	float: left;
	width: 186px;
	padding: 5px;
	font-size: smaller;
}
ul.toc {
	margin: 0px 5px 5px 5px;
	padding: 0px;
}
ul.toc li {
	font-size: 85%;
	margin: 1px 0 1px 1px;
	padding: 1px 0 1px 11px;
	list-style-type: none;
	background-repeat: no-repeat;
	background-position: center left;
}
ul.toc li.header {
	font-size: 115%;
	padding: 5px 0px 5px 11px;
	border-bottom: 1px solid #cccccc;
	margin-bottom: 5px;
}
ul.toc li.active {
	font-weight: bold;
}
ul.toc li a {
	text-decoration: none;
}
ul.toc li a:hover {
	text-decoration: underline;
}
</style>
 <ul class="toc">
  <li class="header home"><a href="manual.html">Programmer's Reference Guide</a></li>
  <li class="header up"><a href="manual.html">Programmer's Reference Guide</a></li>
  <li class="header up"><a href="reference.html">Zend Framework Reference</a></li>
  <li class="header up"><a href="zend.filter.html">Zend_Filter</a></li>
  <li><a href="zend.filter.introduction.html">導入</a></li>
  <li class="active"><a href="zend.filter.set.html">標準のフィルタクラス群</a></li>
  <li><a href="zend.filter.filter_chains.html">フィルタチェイン</a></li>
  <li><a href="zend.filter.writing_filters.html">フィルタの書き方</a></li>
  <li><a href="zend.filter.input.html">Zend_Filter_Input(日本語)</a></li>
  <li><a href="zend.filter.inflector.html">Zend_Filter_Inflector(日本語)</a></li>
 </ul>
 </td>
    </tr>
</table>
</body>
</html>