<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>ドキュメントの情報およびメタデータ - Zend Framework Manual</title>

</head>
<body>
<table width="100%">
    <tr valign="top">
        <td width="85%">
            <table width="100%">
                <tr>
                    <td width="25%" style="text-align: left;">
                    <a href="zend.pdf.interactive-features.html">Interactive Features</a>
                    </td>

                    <td width="50%" style="text-align: center;">
                        <div class="up"><span class="up"><a href="zend.pdf.html">Zend_Pdf</a></span><br />
                        <span class="home"><a href="manual.html">Programmer's Reference Guide</a></span></div>
                    </td>

                    <td width="25%" style="text-align: right;">
                        <div class="next" style="text-align: right; float: right;"><a href="zend.pdf.usage.html">Zend_Pdf モジュールの使用例</a></div>
                    </td>
                </tr>
            </table>
<hr />
<div id="zend.pdf.info" class="section"><div class="info"><h1 class="title">ドキュメントの情報およびメタデータ</h1></div>
    
    
    <p class="para">
        <acronym class="acronym">PDF</acronym> ドキュメントには、そのドキュメントに関する情報
        (たとえばタイトルや作者、作成日、更新日など)
        を含められます。
    </p>
    <p class="para">
        歴史的に、この情報は特別な Info 構造体に格納されるようになっています。
        この構造体を読み書きするには、<span class="classname">Zend_Pdf</span> オブジェクトの public プロパティ
        <code class="code">properties</code> の連想配列を使用します。
            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$pdf</span> = Zend_Pdf::<span style="color: #006600;">load</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$pdfPath</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #0000ff;">$pdf</span>-&gt;<span style="color: #006600;">properties</span><span style="color: #66cc66;">&#91;</span><span style="color: #ff0000;">'Title'</span><span style="color: #66cc66;">&#93;</span> . <span style="color: #ff0000;">&quot;<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #0000ff;">$pdf</span>-&gt;<span style="color: #006600;">properties</span><span style="color: #66cc66;">&#91;</span><span style="color: #ff0000;">'Author'</span><span style="color: #66cc66;">&#93;</span> . <span style="color: #ff0000;">&quot;<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$pdf</span>-&gt;<span style="color: #006600;">properties</span><span style="color: #66cc66;">&#91;</span><span style="color: #ff0000;">'Title'</span><span style="color: #66cc66;">&#93;</span> = <span style="color: #ff0000;">'New Title.'</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$pdf</span>-&gt;<span style="color: #006600;">save</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$pdfPath</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>


    </p>
    <p class="para">
        <acronym class="acronym">PDF</acronym> v1.4 (Acrobat 5) の標準規格では、次のようなキーが定義されています。

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">
                    <em class="emphasis">Title</em> - 文字列 (任意)。ドキュメントのタイトル。
                </p>
            </li>
            <li class="listitem">
                <p class="para">
                    <em class="emphasis">Author</em> - 文字列 (任意)。
                    ドキュメントの作成者。
                </p>
            </li>
            <li class="listitem">
                <p class="para">
                    <em class="emphasis">Subject</em> - 文字列 (任意)。
                    ドキュメントのサブタイトル。
                </p>
            </li>
            <li class="listitem">
                <p class="para">
                    <em class="emphasis">Keywords</em> - 文字列 (任意)。
                    ドキュメントに関連するキーワード。
                </p>
            </li>
            <li class="listitem">
                <p class="para">
                    <em class="emphasis">Creator</em> - 文字列 (任意)。
                    他の形式から <acronym class="acronym">PDF</acronym> に変換されたドキュメントである場合に、
                    変換元のドキュメントを作成したアプリケーションの名前
                    (たとえば Adobe FrameMaker®) が格納されます。
                </p>
            </li>
            <li class="listitem">
                <p class="para">
                    <em class="emphasis">Producer</em> - 文字列 (任意)。
                    他の形式から <acronym class="acronym">PDF</acronym> に変換されたドキュメントである場合に、
                    <acronym class="acronym">PDF</acronym> への変換に使用したアプリケーションの名前
                    (たとえば Acrobat Distiller) が格納されます。
                </p>
            </li>
            <li class="listitem">
                <p class="para">
                    <em class="emphasis">CreationDate</em> - 文字列 (任意)。
                    ドキュメントの作成日時を
                    &quot;D:YYYYMMDDHHmmSSOHH&#039;mm&#039;&quot; 形式で表したもの。
                    <ul class="itemizedlist">
                        <li class="listitem">
                            <p class="para">
                                <em class="emphasis">YYYY</em> は年です。
                            </p>
                        </li>
                        <li class="listitem">
                            <p class="para">
                                <em class="emphasis">MM</em> は月です。
                            </p>
                        </li>
                        <li class="listitem">
                            <p class="para">
                                <em class="emphasis">DD</em> は日 (01–31) です。
                            </p>
                        </li>
                        <li class="listitem">
                            <p class="para">
                                <em class="emphasis">HH</em> は時 (00–23) です。
                            </p>
                        </li>
                        <li class="listitem">
                            <p class="para">
                                <em class="emphasis">mm</em> は分 (00–59) です。
                            </p>
                        </li>
                        <li class="listitem">
                            <p class="para">
                                <em class="emphasis">SS</em> は秒 (00–59) です。
                            </p>
                        </li>
                        <li class="listitem">
                            <p class="para">
                                <em class="emphasis">O</em> は地方時と標準時 (UT)
                                との関連です。+, −, あるいは Z で表します
                                (以下を参照ください)。
                            </p>
                        </li>
                        <li class="listitem">
                            <p class="para">
                                <em class="emphasis">HH</em> の後に &#039; を続けたものは、
                                UT との時差 (時) の絶対値 (00–23) です。
                            </p>
                        </li>
                        <li class="listitem">
                            <p class="para">
                                <em class="emphasis">mm</em> の後に &#039; を続けたものは、
                                UT との時差 (分) の絶対値 (00–59) です。
                            </p>
                        </li>
                    </ul>
                    HH および mm の後に続くアポストロフィ (&#039;) は、それぞれのパーツの一部となります。
                    年以外のすべてのフィールドはオプションです (先頭の D: もオプションですが、
                    これは省略しないことを強くお勧めします)。MM と DD のデフォルト値はともに
                    01 で、その他のすべての数値フィールドのデフォルト値はゼロです。
                    O フィールドのプラス記号  (+) は、地方時が UT より遅れていることを表し、
                    マイナス記号 (−) は地方時のほうが UT より進んでいることを表します。
                    UT 情報を省略した場合は、その時刻と UT との関係は未知となります。
                    タイムゾーンの指定の有無にかかわらず、日付は地方時で指定しなければなりません。
                </p>
                <p class="para">
                    たとえば、太平洋標準時の 1998 年 12 月 23 日午後 7 時 52 分は、
                    &quot;D:199812231952−08&#039;00&#039;&quot; となります。
                </p>
            </li>
            <li class="listitem">
                <p class="para">
                    <em class="emphasis">ModDate</em> - 文字列 (任意)。
                    ドキュメントの最終更新日時。形式は
                    <em class="emphasis">CreationDate</em> と同じ。
                </p>
            </li>
            <li class="listitem">
                <p class="para">
                    <em class="emphasis">Trapped</em> - boolean (任意)。
                    ドキュメントにトラッピング情報を含むよう修正されているかどうか。
                    <ul class="itemizedlist">
                        <li class="listitem">
                            <p class="para">
                                <em class="emphasis"><b><tt>TRUE</tt></b></em> - ドキュメントは完全にトラッピングされています。
                                これ以上のトラッピングは不要です。
                            </p>
                        </li>
                        <li class="listitem">
                            <p class="para">
                                <em class="emphasis"><b><tt>FALSE</tt></b></em> - ドキュメントはまだトラッピングされていません。
                                必要なトラッピングを行わなければなりません。
                            </p>
                        </li>
                        <li class="listitem">
                            <p class="para">
                                <em class="emphasis"><b><tt>NULL</tt></b></em> -
                                ドキュメントがトラッピングされているかどうかが判別不可能、
                                あるいは一部だけトラッピングされている状態です。
                                さらなるトラッピングが必要かもしれません。
                            </p>
                        </li>
                    </ul>
                </p>
            </li>
        </ul>
    </p>

    <p class="para">
        <acronym class="acronym">PDF</acronym> v 1.6 以降では、メタデータを特別な <acronym class="acronym">XML</acronym> 形式
        (XMP - <a href="http://www.adobe.com/products/xmp/" class="link external">&raquo; Extensible Metadata Platform</a>)
        で表して <acronym class="acronym">PDF</acronym> に添付できます。
    </p>

    <p class="para">
        この <acronym class="acronym">XML</acronym> ドキュメントを <acronym class="acronym">PDF</acronym> から取得したり
        <acronym class="acronym">PDF</acronym> に添付したりするには、それぞれ
         <span class="methodname">Zend_Pdf::getMetadata()</span> メソッドおよび
         <span class="methodname">Zend_Pdf::setMetadata($metadata)</span> メソッドを使用します。
            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$pdf</span> = Zend_Pdf::<span style="color: #006600;">load</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$pdfPath</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$metadata</span> = <span style="color: #0000ff;">$pdf</span>-&gt;<span style="color: #006600;">getMetadata</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$metadataDOM</span> = <span style="color: #000000; font-weight: bold;">new</span> DOMDocument<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$metadataDOM</span>-&gt;<span style="color: #006600;">loadXML</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$metadata</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$xpath</span> = <span style="color: #000000; font-weight: bold;">new</span> DOMXPath<span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$metadataDOM</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$pdfPreffixNamespaceURI</span> = <span style="color: #0000ff;">$xpath</span>-&gt;<span style="color: #006600;">query</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'/rdf:RDF/rdf:Description'</span><span style="color: #66cc66;">&#41;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -&gt;<span style="color: #006600;">item</span><span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">0</span><span style="color: #66cc66;">&#41;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -&gt;<span style="color: #006600;">lookupNamespaceURI</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'pdf'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$xpath</span>-&gt;<span style="color: #006600;">registerNamespace</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'pdf'</span>, <span style="color: #0000ff;">$pdfPreffixNamespaceURI</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$titleNode</span> = <span style="color: #0000ff;">$xpath</span>-&gt;<span style="color: #006600;">query</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'/rdf:RDF/rdf:Description/pdf:Title'</span><span style="color: #66cc66;">&#41;</span>-&gt;<span style="color: #006600;">item</span><span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">0</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$title</span> = <span style="color: #0000ff;">$titleNode</span>-&gt;<span style="color: #006600;">nodeValue</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">...</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$titleNode</span>-&gt;<span style="color: #006600;">nodeValue</span> = <span style="color: #ff0000;">'New title'</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$pdf</span>-&gt;<span style="color: #006600;">setMetadata</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$metadataDOM</span>-&gt;<span style="color: #006600;">saveXML</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$pdf</span>-&gt;<span style="color: #006600;">save</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$pdfPath</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

    </p>

    <p class="para">
        標準的なドキュメントのプロパティは、Info 構造体とメタデータドキュメント
        (存在する場合) の両方に重複して存在することになります。
        これらをきちんと同期させるのは、アプリケーション側の責任となります。
    </p>
</div>
        <hr />

            <table width="100%">
                <tr>
                    <td width="25%" style="text-align: left;">
                    <a href="zend.pdf.interactive-features.html">Interactive Features</a>
                    </td>

                    <td width="50%" style="text-align: center;">
                        <div class="up"><span class="up"><a href="zend.pdf.html">Zend_Pdf</a></span><br />
                        <span class="home"><a href="manual.html">Programmer's Reference Guide</a></span></div>
                    </td>

                    <td width="25%" style="text-align: right;">
                        <div class="next" style="text-align: right; float: right;"><a href="zend.pdf.usage.html">Zend_Pdf モジュールの使用例</a></div>
                    </td>
                </tr>
            </table>
</td>
        <td style="font-size: smaller;" width="15%"> <style type="text/css">
#leftbar {
	float: left;
	width: 186px;
	padding: 5px;
	font-size: smaller;
}
ul.toc {
	margin: 0px 5px 5px 5px;
	padding: 0px;
}
ul.toc li {
	font-size: 85%;
	margin: 1px 0 1px 1px;
	padding: 1px 0 1px 11px;
	list-style-type: none;
	background-repeat: no-repeat;
	background-position: center left;
}
ul.toc li.header {
	font-size: 115%;
	padding: 5px 0px 5px 11px;
	border-bottom: 1px solid #cccccc;
	margin-bottom: 5px;
}
ul.toc li.active {
	font-weight: bold;
}
ul.toc li a {
	text-decoration: none;
}
ul.toc li a:hover {
	text-decoration: underline;
}
</style>
 <ul class="toc">
  <li class="header home"><a href="manual.html">Programmer's Reference Guide</a></li>
  <li class="header up"><a href="manual.html">Programmer's Reference Guide</a></li>
  <li class="header up"><a href="reference.html">Zend Framework Reference</a></li>
  <li class="header up"><a href="zend.pdf.html">Zend_Pdf</a></li>
  <li><a href="zend.pdf.introduction.html">導入</a></li>
  <li><a href="zend.pdf.create.html">PDF ドキュメントの作成および読み込み</a></li>
  <li><a href="zend.pdf.save.html">PDF ドキュメントへの変更内容の保存</a></li>
  <li><a href="zend.pdf.pages.html">ページの操作</a></li>
  <li><a href="zend.pdf.drawing.html">描画</a></li>
  <li><a href="zend.pdf.interactive-features.html">Interactive Features</a></li>
  <li class="active"><a href="zend.pdf.info.html">ドキュメントの情報およびメタデータ</a></li>
  <li><a href="zend.pdf.usage.html">Zend_Pdf モジュールの使用例</a></li>
 </ul>
 </td>
    </tr>
</table>
</body>
</html>