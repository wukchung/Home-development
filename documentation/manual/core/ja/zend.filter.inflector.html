<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>Zend_Filter_Inflector(日本語) - Zend Framework Manual</title>

</head>
<body>
<table width="100%">
    <tr valign="top">
        <td width="85%">
            <table width="100%">
                <tr>
                    <td width="25%" style="text-align: left;">
                    <a href="zend.filter.input.html">Zend_Filter_Input(日本語)</a>
                    </td>

                    <td width="50%" style="text-align: center;">
                        <div class="up"><span class="up"><a href="zend.filter.html">Zend_Filter</a></span><br />
                        <span class="home"><a href="manual.html">Programmer's Reference Guide</a></span></div>
                    </td>

                    <td width="25%" style="text-align: right;">
                        <div class="next" style="text-align: right; float: right;"><a href="zend.form.html">Zend_Form</a></div>
                    </td>
                </tr>
            </table>
<hr />
<div id="zend.filter.inflector" class="section"><div class="info"><h1 class="title">Zend_Filter_Inflector(日本語)</h1></div>
    

    <p class="para">
        <span class="classname">Zend_Filter_Inflector</span>
        は、指定したターゲットに対して
        ルールにもとづいた文字列変換を行うための汎用的なツールです。
    </p>

    <p class="para">
        たとえば、MixedCase あるいは camelCase 形式の単語をパス形式に変換したりするような作業を行います。
        読みやすさや OS のポリシーなどの理由で、小文字への変換を行ったりダッシュ
        (&#039;-&#039;) で単語を区切ったりといったこともあるでしょう。
        インフレクタは、このような作業を行うことができます。
    </p>

    <p class="para">
        <span class="classname">Zend_Filter_Inflector</span> は
        <span class="classname">Zend_Filter_Interface</span> を実装しています。
        インフレクションを実行するには、オブジェクトのインスタンスで
         <span class="methodname">filter()</span> をコールします。
    </p>

    <div class="example"><div class="info"><p><b>Example #1 MixedCase あるいは camelCase のテキストを別形式に変換する</b></p></div>
        

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$inflector</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Inflector<span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'pages/:page.:suffix'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$inflector</span>-&gt;<span style="color: #006600;">setRules</span><span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">':page'</span>&nbsp; =&gt; <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Word_CamelCaseToDash'</span>, <span style="color: #ff0000;">'StringToLower'</span><span style="color: #66cc66;">&#41;</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'suffix'</span> =&gt; <span style="color: #ff0000;">'html'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$string</span>&nbsp; &nbsp;= <span style="color: #ff0000;">'camelCasedWords'</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filtered</span> = <span style="color: #0000ff;">$inflector</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'page'</span> =&gt; <span style="color: #0000ff;">$string</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// pages/camel-cased-words.html</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$string</span>&nbsp; &nbsp;= <span style="color: #ff0000;">'this_is_not_camel_cased'</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$filtered</span> = <span style="color: #0000ff;">$inflector</span>-&gt;<span style="color: #006600;">filter</span><span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'page'</span> =&gt; <span style="color: #0000ff;">$string</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// pages/this_is_not_camel_cased.html</span></div></li></ol></div></div></div>

    </div>

    <div class="section" id="zend.filter.inflector.operation" name="zend.filter.inflector.operation"><div class="info"><h1 class="title">操作</h1></div>
        

        <p class="para">
            インフレクタには、ひとつの <em class="emphasis">ターゲット</em>
            とひとつあるいは複数の <em class="emphasis">ルール</em> が必要です。
            ターゲットは基本的に文字列であり、置き換えを行うプレースホルダを定義します。
            プレースホルダは、先頭に &#039;:&#039; をつけて <em class="emphasis">:script</em>
            のように定義します。
        </p>

        <p class="para">
             <span class="methodname">filter()</span> をコールするときに、
            ターゲット内の変数に対応するキーと値のペアを配列で渡します。
        </p>

        <p class="para">
            ターゲット内の個々の変数に対して、ゼロ個以上のルールを関連づけることができます。
            ルールとして指定できるのは、<em class="emphasis">静的な</em> ルールか
            <span class="classname">Zend_Filter</span> クラスです。静的なルールは、
            指定されたテキストで置き換えを行います。
            それ以外の場合は、ルールで指定されたクラスを使用してテキストを変換します。
            クラスを指定する際には、共通のプレフィックスを除いた短いクラス名を使用します。
        </p>

        <p class="para">
            たとえば <span class="classname">Zend_Filter</span> の具象実装クラスなら何でも使用可能です。
            しかし、これを使用する際には &#039;<span class="classname">Zend_Filter_Alpha</span>&#039;
            あるいは &#039;<span class="classname">Zend_Filter_StringToLower</span>&#039;
            とするのではなく単に &#039;<span class="classname">Alpha</span>&#039;
            あるいは &#039;<span class="classname">StringToLower</span>&#039;
            だけで指定するということです。
        </p>
    </div>

     <div class="section" id="zend.filter.inflector.paths" name="zend.filter.inflector.paths"><div class="info"><h1 class="title">その他のフィルタ向けのパスの設定</h1></div>
        

        <p class="para">
            <span class="classname">Zend_Filter_Inflector</span> は、
            <span class="classname">Zend_Loader_PluginLoader</span>
            を使用してインフレクションに使用するフィルタの読み込みを行います。
            デフォルトでは、
            <span class="classname">Zend_Filter</span> で始まる任意のフィルタを使用できます。
            このプレフィックスで始まるけれどももっと深い階層にあるフィルタ、たとえば
            Word 系のフィルタなどを使用したい場合は、プレフィックス <span class="classname">Zend_Filter</span>
            を除いた名前を指定します。
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// ルールとして Zend_Filter_Word_CamelCaseToDash を使用します</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$inflector</span>-&gt;<span style="color: #006600;">addRules</span><span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'script'</span> =&gt; <span style="color: #ff0000;">'Word_CamelCaseToDash'</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>


        <p class="para">
            別のパスを使用するには、プラグインローダへのプロキシとして
            <span class="classname">Zend_Filter_Inflector</span> のユーティリティメソッド
             <span class="methodname">addFilterPrefixPath()</span> を使用します。
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$inflector</span>-&gt;<span style="color: #006600;">addFilterPrefixPath</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'My_Filter'</span>, <span style="color: #ff0000;">'My/Filter/'</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>


        <p class="para">
            あるいは、プラグインローダをインフレクタから取得して、
            それを直接操作することもできます。
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$loader</span> = <span style="color: #0000ff;">$inflector</span>-&gt;<span style="color: #006600;">getPluginLoader</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$loader</span>-&gt;<span style="color: #006600;">addPrefixPath</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'My_Filter'</span>, <span style="color: #ff0000;">'My/Filter/'</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>


        <p class="para">
            フィルタのパスを変更するための詳細なオプションは、<a href="zend.loader.pluginloader.html" class="link">PluginLoader
                のドキュメント</a> を参照ください。
        </p>
    </div>

    <div class="section" id="zend.filter.inflector.targets" name="zend.filter.inflector.targets"><div class="info"><h1 class="title">インフレクタのターゲットの設定</h1></div>
        

        <p class="para">
            インフレクタのターゲットは、変数用のプレースホルダを含む文字列となります。
            プレースホルダは、先頭に識別子をつけて表します。
            デフォルトの識別子はコロン (&#039;:&#039;) です。
            そしてその後に変数名を続け、たとえば &#039;:script&#039; や &#039;:path&#039;
            のようになります。
             <span class="methodname">filter()</span> メソッドは、識別子の後に続く変数を探して置換します。
        </p>

        <p class="para">
            識別子を変更するには
             <span class="methodname">setTargetReplacementIdentifier()</span> メソッドを使用するか、
            コンストラクタの 3 番目の引数で指定します。
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// コンストラクタ経由</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$inflector</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Inflector<span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'#foo/#bar.#sfx'</span>, <span style="color: #000000; font-weight: bold;">null</span>, <span style="color: #ff0000;">'#'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// アクセサ経由</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$inflector</span>-&gt;<span style="color: #006600;">setTargetReplacementIdentifier</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'#'</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>


        <p class="para">
            普通はコンストラクタでターゲットを指定することになるでしょう。
            しかし、あとでターゲットを設定しなおしたくなることもあるかもしれません
            (たとえば、
            <span class="classname">ViewRenderer</span> や <span class="classname">Zend_Layout</span>
            といったコアコンポーネントのデフォルトのインフレクタを変更したい場合など)。
            この際に使用できるのが  <span class="methodname">setTarget()</span> です。
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$inflector</span> = <span style="color: #0000ff;">$layout</span>-&gt;<span style="color: #006600;">getInflector</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$inflector</span>-&gt;<span style="color: #006600;">setTarget</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'layouts/:script.phtml'</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>


        <p class="para">
            さらに、クラスのメンバーを用意して
            インフレクタのターゲットを変更できるようにしたくなるかもしれません。
            毎回直接ターゲットを変更する必要がなくなる
            (メソッドコールを少なくできる) からです。
            そのためには  <span class="methodname">setTargetReference()</span> を使用します。
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #000000; font-weight: bold;">class</span> Foo</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #808080; font-style: italic;">/**</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;* @var string インフレクタのターゲット</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;*/</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; protected <span style="color: #0000ff;">$_target</span> = <span style="color: #ff0000;">'foo/:bar/:baz.:suffix'</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #808080; font-style: italic;">/**</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;* コンストラクタ</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;* @return void</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;*/</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000000; font-weight: bold;">function</span> __construct<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">$this</span>-&gt;_inflector = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Inflector<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">$this</span>-&gt;_inflector-&gt;<span style="color: #006600;">setTargetReference</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$this</span>-&gt;_target<span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #66cc66;">&#125;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #808080; font-style: italic;">/**</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;* ターゲットを設定してインフレクタのターゲットを更新します</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;*</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;* @param&nbsp; string $target</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;* @return Foo</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;*/</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000000; font-weight: bold;">function</span> setTarget<span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$target</span><span style="color: #66cc66;">&#41;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">$this</span>-&gt;_target = <span style="color: #0000ff;">$target</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">return</span> <span style="color: #0000ff;">$this</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #66cc66;">&#125;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li></ol></div></div></div>

    </div>

    <div class="section" id="zend.filter.inflector.rules" name="zend.filter.inflector.rules"><div class="info"><h1 class="title">インフレクションのルール</h1></div>
        

        <p class="para">
            先ほど説明したように、静的なルールとフィルタを使用したルールのふたつがあります。
        </p>

        <blockquote><p><b class="note">Note</b>: 
            
                インフレクタにメソッドを追加するときに
                ひとつずつ追加したとしても一度に追加したとしても、
                その順番が重要となることに注意しましょう。
                より細かい名前、あるいは他のルール名を含む名前などを先に追加するようにしなければなりません。
                たとえば、ふたつのフール &#039;moduleDir&#039; と &#039;module&#039;
                があった場合、&#039;moduleDir&#039; のほうが module より前になければなりません。
                というのも &#039;module&#039; は &#039;moduleDir&#039; の中に含まれるからです。
                &#039;module&#039; を &#039;moduleDir&#039; より前に追加すると
                &#039;module&#039; が &#039;moduleDir&#039; の一部にもマッチしてしまい、
                &#039;Dir&#039; の部分はインフレクションの対象から外れてしまいます。
            <br />
        </p></blockquote>

        <div class="section" id="zend.filter.inflector.rules.static" name="zend.filter.inflector.rules.static"><div class="info"><h1 class="title">静的なルール</h1></div>
            

            <p class="para">
                静的なルールは、単なる文字列の置換を行います。
                これは、ターゲットの中の、
                ほぼ固定であるが開発者が変更できるようにさせたい部分などに使用します。
                 <span class="methodname">setStaticRule()</span> メソッドを使用して、ルールの設定や変更を行います。
            </p>

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$inflector</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Inflector<span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">':script.:suffix'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$inflector</span>-&gt;<span style="color: #006600;">setStaticRule</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'suffix'</span>, <span style="color: #ff0000;">'phtml'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// あとで変更します</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$inflector</span>-&gt;<span style="color: #006600;">setStaticRule</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'suffix'</span>, <span style="color: #ff0000;">'php'</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>


            <p class="para">
                ターゲットと同様、静的ルールも参照で指定できます。
                これにより、メソッドコールをせずに変数を更新するだけでルールを変更できるようになります。
                これは、クラスの中で内部的にインフレクタを使用している場合に便利です。
                ユーザにいちいちインフレクタを取得させる必要がなくなります。
                これを実現するために使用するのが
                 <span class="methodname">setStaticRuleReference()</span> メソッドです。
            </p>

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #000000; font-weight: bold;">class</span> Foo</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #808080; font-style: italic;">/**</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;* @var string サフィックス</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;*/</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; protected <span style="color: #0000ff;">$_suffix</span> = <span style="color: #ff0000;">'phtml'</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #808080; font-style: italic;">/**</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;* コンストラクタ</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;* @return void</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;*/</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000000; font-weight: bold;">function</span> __construct<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">$this</span>-&gt;_inflector = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Inflector<span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">':script.:suffix'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">$this</span>-&gt;_inflector-&gt;<span style="color: #006600;">setStaticRuleReference</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'suffix'</span>, <span style="color: #0000ff;">$this</span>-&gt;_suffix<span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #66cc66;">&#125;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #808080; font-style: italic;">/**</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;* サフィックスを設定し、インフレクタの静的ルールを更新します</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;*</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;* @param&nbsp; string $suffix</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;* @return Foo</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;*/</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000000; font-weight: bold;">function</span> setSuffix<span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$suffix</span><span style="color: #66cc66;">&#41;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">$this</span>-&gt;_suffix = <span style="color: #0000ff;">$suffix</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">return</span> <span style="color: #0000ff;">$this</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #66cc66;">&#125;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li></ol></div></div></div>

        </div>

        <div class="section" id="zend.filter.inflector.rules.filters" name="zend.filter.inflector.rules.filters"><div class="info"><h1 class="title">Filter Inflector ルール</h1></div>
            

            <p class="para">
                <span class="classname">Zend_Filter</span> のフィルタ群も、インフレクタのルールとして使用できます。
                静的なルールと同様、こちらもターゲットの変数にバインドされます。
                静的なルールとは異なり、複数のフィルタによるインフレクションを行うこともあります。
                これらのフィルタは順番に処理されるので、
                最終的にほしいデータを考慮してフィルタの登録順を決めるようにしましょう。
            </p>

            <p class="para">
                ルールを追加するには、 <span class="methodname">setFilterRule()</span>
                (その変数に対する既存のルールをすべて上書きします) あるいは
                 <span class="methodname">addFilterRule()</span> (その変数に対する既存のルールを保持し、
                新たなルールを最後に追加します) を使用します。
                フィルタは、以下のいずれかの形式で指定します。
            </p>

            <ul class="itemizedlist">
                <li class="listitem"><p class="para">
                        <em class="emphasis">文字列</em>。
                        フィルタのクラス名、あるいはクラス名からプレフィックス
                        (インフレクタのプラグインローダーで登録されたもの。
                        デフォルトは &#039;<span class="classname">Zend_Filter</span>&#039;)
                        を取り除いた部分となります。
                </p></li>

                <li class="listitem"><p class="para">
                        <em class="emphasis">Filter オブジェクト</em>。
                        <span class="classname">Zend_Filter_Interface</span>
                        を実装した任意のオブジェクトのインスタンスをフィルタとして渡せます。
                </p></li>

                <li class="listitem"><p class="para">
                        <em class="emphasis">配列</em>。
                        上で説明した文字列やフィルタオブジェクトを配列にしたものです。
                </p></li>
            </ul>

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$inflector</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Inflector<span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">':script.:suffix'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// ルールとして Zend_Filter_Word_CamelCaseToDash フィルタを使用するように設定します</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$inflector</span>-&gt;<span style="color: #006600;">setFilterRule</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'script'</span>, <span style="color: #ff0000;">'Word_CamelCaseToDash'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// 文字列を小文字変換するルールを追加します</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$inflector</span>-&gt;<span style="color: #006600;">addFilterRule</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'script'</span>, <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_StringToLower<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// 複数のルールを一括して指定します</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$inflector</span>-&gt;<span style="color: #006600;">setFilterRule</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'script'</span>, <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'Word_CamelCaseToDash'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_StringToLower<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

        </div>

        <div class="section" id="zend.filter.inflector.rules.multiple" name="zend.filter.inflector.rules.multiple"><div class="info"><h1 class="title">多くのルールを一度に設定する</h1></div>
            

            <p class="para">
                一般に、各変数に対して個別にインフレクタルールを設定するよりも、
                一括してルールを設定できたほうが楽でしょう。
                <span class="classname">Zend_Filter_Inflector</span> の  <span class="methodname">addRules()</span>
                メソッドや  <span class="methodname">setRules()</span> メソッドを使用すると、
                一括設定できます。
            </p>

            <p class="para">
                それぞれのメソッドには、変数とルールのペアの配列を指定します。
                ルールには、(文字列、フィルタオブジェクトあるいはその配列などの)
                いずれの形式でも指定できます。変数名には特別な記法を用い、
                それによって静的ルールとフィルタルールを切り替えます。
                使用する記法は次のとおりです。
            </p>

            <ul class="itemizedlist">
                <li class="listitem"><p class="para">
                        <em class="emphasis">&#039;:&#039; プレフィックス</em>: フィルタルール。
                </p></li>

                <li class="listitem"><p class="para">
                        <em class="emphasis">プレフィックスなし</em>: 静的ルール。
                </p></li>
            </ul>

            <div class="example"><div class="info"><p><b>Example #2 複数のルールの一括設定</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Could also use setRules() with this notation:</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$inflector</span>-&gt;<span style="color: #006600;">addRules</span><span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #808080; font-style: italic;">// フィルタルール</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">':controller'</span> =&gt; <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'CamelCaseToUnderscore'</span>,<span style="color: #ff0000;">'StringToLower'</span><span style="color: #66cc66;">&#41;</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">':action'</span>&nbsp; &nbsp; &nbsp;=&gt; <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'CamelCaseToUnderscore'</span>,<span style="color: #ff0000;">'StringToLower'</span><span style="color: #66cc66;">&#41;</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #808080; font-style: italic;">// 静的なルール</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'suffix'</span>&nbsp; &nbsp; &nbsp; =&gt; <span style="color: #ff0000;">'phtml'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

            </div>
        </div>
    </div>

    <div class="section" id="zend.filter.inflector.utility" name="zend.filter.inflector.utility"><div class="info"><h1 class="title">ユーティリティメソッド</h1></div>
        

        <p class="para">
            <span class="classname">Zend_Filter_Inflector</span> のユーティリティメソッド群には、
            プラグインローダーの取得や設定、
            ルールの操作や取得、
            例外をスローするかどうかやその時期の設定といったことを行えるものがあります。
        </p>

        <ul class="itemizedlist">
            <li class="listitem"><p class="para">
                     <span class="methodname">setPluginLoader()</span> は、
                    独自のプラグインローダーを設定してそれを
                    <span class="classname">Zend_Filter_Inflector</span> で使いたい場合に使用します。
                     <span class="methodname">getPluginLoader()</span> は、
                    現在設定されているプラグインローダーを取得します。
            </p></li>

            <li class="listitem"><p class="para">
                     <span class="methodname">setThrowTargetExceptionsOn()</span> は、
                    指定した置換識別子がターゲットで見つからなかった場合に
                     <span class="methodname">filter()</span> が例外をスローするかどうかを設定します。
                    デフォルトでは、例外は一切スローされません。
                     <span class="methodname">isThrowTargetExceptionsOn()</span> は、
                    現在の設定状態を返します。
            </p></li>

            <li class="listitem"><p class="para">
                     <span class="methodname">getRules($spec = null)</span> は、
                    すべての変数に登録されているすべてのルールを返します。
                    あるいは、指定した変数について登録されているルールだけを返します。
            </p></li>

            <li class="listitem"><p class="para">
                     <span class="methodname">getRule($spec, $index)</span> は、
                    指定した変数のひとつのルールを取得します。
                    これは、ある変数に対するルールを定義したフィルタチェインから
                    特定のフィルタを取り出したい場合に便利です。
                    <var class="varname">$index</var> は必須です。
            </p></li>

            <li class="listitem"><p class="para">
                     <span class="methodname">clearRules()</span> は、
                    現在登録されているルールをすべてクリアします。
            </p></li>
        </ul>
    </div>

    <div class="section" id="zend.filter.inflector.config" name="zend.filter.inflector.config"><div class="info"><h1 class="title">Zend_Filter_Inflector での Zend_Config の使用法</h1></div>
        

        <p class="para">
            <span class="classname">Zend_Config</span> を使用してルールを設定したり、
            フィルタのプレフィックスのパスやその他のインフレクタの状態を設定できます。
            そのためには、<span class="classname">Zend_Config</span> オブジェクトをコンストラクタあるいは
             <span class="methodname">setOptions()</span> に渡します。
            設定可能な項目は以下のとおりです。
        </p>

        <ul class="itemizedlist">
            <li class="listitem"><p class="para">
                    <span class="property">target</span> は、インフレクションのターゲットを指定します。
            </p></li>

            <li class="listitem"><p class="para">
                    <span class="property">filterPrefixPath</span> は、
                    インフレクタが使用するフィルタのプレフィックスとパス
                    のペアを指定します。
            </p></li>

            <li class="listitem"><p class="para">
                    <span class="property">throwTargetExceptionsOn</span> は、
                    インフレクション処理の後にまだ置換識別子が残っていた場合に
                    例外をスローするかどうかを boolean 値で指定します。
            </p></li>

            <li class="listitem"><p class="para">
                    <span class="property">targetReplacementIdentifier</span> は、
                    ターゲット文字列内で置換変数を表すために使用する文字を指定します。
            </p></li>

            <li class="listitem"><p class="para">
                    <span class="property">rules</span> は、インフレクションルールの配列を指定します。
                    値、あるいは値の配列をキーに指定し、
                     <span class="methodname">addRules()</span> と同じ形式となります。
            </p></li>
        </ul>

        <div class="example"><div class="info"><p><b>Example #3 Zend_Filter_Inflector での Zend_Config の使用法</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// コンストラクタで</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$config</span>&nbsp; &nbsp; = <span style="color: #000000; font-weight: bold;">new</span> Zend_Config<span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$options</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$inflector</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Inflector<span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$config</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// あるいは setOptions() で</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$inflector</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Filter_Inflector<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$inflector</span>-&gt;<span style="color: #006600;">setOptions</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$config</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

        </div>
    </div>
</div>
        <hr />

            <table width="100%">
                <tr>
                    <td width="25%" style="text-align: left;">
                    <a href="zend.filter.input.html">Zend_Filter_Input(日本語)</a>
                    </td>

                    <td width="50%" style="text-align: center;">
                        <div class="up"><span class="up"><a href="zend.filter.html">Zend_Filter</a></span><br />
                        <span class="home"><a href="manual.html">Programmer's Reference Guide</a></span></div>
                    </td>

                    <td width="25%" style="text-align: right;">
                        <div class="next" style="text-align: right; float: right;"><a href="zend.form.html">Zend_Form</a></div>
                    </td>
                </tr>
            </table>
</td>
        <td style="font-size: smaller;" width="15%"> <style type="text/css">
#leftbar {
	float: left;
	width: 186px;
	padding: 5px;
	font-size: smaller;
}
ul.toc {
	margin: 0px 5px 5px 5px;
	padding: 0px;
}
ul.toc li {
	font-size: 85%;
	margin: 1px 0 1px 1px;
	padding: 1px 0 1px 11px;
	list-style-type: none;
	background-repeat: no-repeat;
	background-position: center left;
}
ul.toc li.header {
	font-size: 115%;
	padding: 5px 0px 5px 11px;
	border-bottom: 1px solid #cccccc;
	margin-bottom: 5px;
}
ul.toc li.active {
	font-weight: bold;
}
ul.toc li a {
	text-decoration: none;
}
ul.toc li a:hover {
	text-decoration: underline;
}
</style>
 <ul class="toc">
  <li class="header home"><a href="manual.html">Programmer's Reference Guide</a></li>
  <li class="header up"><a href="manual.html">Programmer's Reference Guide</a></li>
  <li class="header up"><a href="reference.html">Zend Framework Reference</a></li>
  <li class="header up"><a href="zend.filter.html">Zend_Filter</a></li>
  <li><a href="zend.filter.introduction.html">導入</a></li>
  <li><a href="zend.filter.set.html">標準のフィルタクラス群</a></li>
  <li><a href="zend.filter.filter_chains.html">フィルタチェイン</a></li>
  <li><a href="zend.filter.writing_filters.html">フィルタの書き方</a></li>
  <li><a href="zend.filter.input.html">Zend_Filter_Input(日本語)</a></li>
  <li class="active"><a href="zend.filter.inflector.html">Zend_Filter_Inflector(日本語)</a></li>
 </ul>
 </td>
    </tr>
</table>
</body>
</html>