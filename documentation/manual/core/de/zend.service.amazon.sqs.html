<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>Zend_Service_Amazon_Sqs - Zend Framework Manual</title>

</head>
<body>
<table width="100%">
    <tr valign="top">
        <td width="85%">
            <table width="100%">
                <tr>
                    <td width="25%" style="text-align: left;">
                    <a href="zend.service.amazon.s3.html">Zend_Service_Amazon_S3</a>
                    </td>

                    <td width="50%" style="text-align: center;">
                        <div class="up"><span class="up"><a href="zend.service.html">Zend_Service</a></span><br />
                        <span class="home"><a href="manual.html">Programmer's Reference Guide</a></span></div>
                    </td>

                    <td width="25%" style="text-align: right;">
                        <div class="next" style="text-align: right; float: right;"><a href="zend.service.audioscrobbler.html">Zend_Service_Audioscrobbler</a></div>
                    </td>
                </tr>
            </table>
<hr />
<div id="zend.service.amazon.sqs" class="section"><div class="info"><h1 class="title">Zend_Service_Amazon_Sqs</h1></div>
    

    <div class="section" id="zend.service.amazon.sqs.introduction" name="zend.service.amazon.sqs.introduction"><div class="info"><h1 class="title">Einführung</h1></div>
        

        <p class="para">
            <a href="http://aws.amazon.com/sqs/" class="link external">&raquo; Amazon Simple Queue Service (Amazon
                SQS)</a> bietet eine einfache, hoch skalierbare, gehostete Queue für das
            Speichern von Nachrichten die zwischen Computern verschickt werden. Durch die
            Verwendung von Amazon SQS können Entwickler Daten einfach zwischen entfernten
            Komponenten Ihrer Anwendung verschieben, welche unterschiedliche Arbeiten durchführen,
            ohne das Nachrichten verloren gehen und auch ohne der Notwendigkeit das jede Komponente
            immer verfügbar sein muß. Amazon SQS macht es einfach einen automatischen Arbeitsablauf
            zu erstellen, und in enger Verknüpfung mit Amazon Elastic Compute Cloud (Amazon EC2)
            und auch den anderen <acronym class="acronym">AWS</acronym> Infrastruktur Web Services zu arbeiten.
        </p>

        <p class="para">
            Amazon SQS arbeitet durch die Bereitstellung von Amazon&#039;s Web-Scale Nachrichten
            Infrastruktur als Web Service. Jeder Computer im Internet kann Nachrichten hinzufügen
            und lesen ohne das Software installiert werden muß oder die Firewall Konfiguration zu
            ändern ist. Componenten von Anwendungen die Amazon SQS verwenden können unabhängig
            laufen und müssen nicht im gleichen Netzwerk sein, mit der gleichen Technologie
            entwickelt worden sein, oder zur gleichen Zeit laufen.
        </p>
    </div>

    <div class="section" id="zend.service.amazon.sqs.registering" name="zend.service.amazon.sqs.registering"><div class="info"><h1 class="title">Bei Amazon SQS registrieren</h1></div>
        

        <p class="para">
            Bevor man mit <span class="classname">Zend_Service_Amazon_Sqs</span> beginnt muß man einen
            Account registrieren. Sehen Sie bitte in die <a href="http://aws.amazon.com/sqs/faqs/" class="link external">&raquo; SQS FAQ</a> Seite auf der Amazon Website
            für weitere Informationen.
        </p>

        <p class="para">
            Nach der Registrierung, bekommt man einen Anwendungsschlüssel und einen geheimen
            Schlüssel. Man benötigt beide um auf den SQS Service zugreifen zu können.
        </p>
    </div>

    <div class="section" id="zend.service.amazon.sqs.apiDocumentation" name="zend.service.amazon.sqs.apiDocumentation"><div class="info"><h1 class="title">API Dokumentation</h1></div>
        

        <p class="para">
            Die <span class="classname">Zend_Service_Amazon_Sqs</span> Klasse bietet den
            <acronym class="acronym">PHP</acronym> Wrapper zum Amazon SQS REST Interface. Bitte konsultieren Sie die
            <a href="http://developer.amazonwebservices.com/connect/kbcategory.jspa?categoryID=31" class="link external">&raquo; Amazon
                SQS Dokumentation</a> für eine detailierte Beschreibung des Services. Man muß
            mit dem grundsätzlichen Konzept vertraut sein um dieses Service verwenden zu können.
        </p>
    </div>

    <div class="section" id="zend.service.amazon.sqs.features" name="zend.service.amazon.sqs.features"><div class="info"><h1 class="title">Features</h1></div>
        

        <p class="para">
            <span class="classname">Zend_Service_Amazon_Sqs</span> bietet die folgende Funktionalität:
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">
                    Einen einzelnen Punkt für die Konfiguration des Authentifizierungsdaten von
                    amazon.sqs die über den kompletten amazon.sqs Namespace verwendet werden
                    können.
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    Ein Proxy Objekt das viel bequemer zu verwenden ist als ein
                    <acronym class="acronym">HTTP</acronym> Client alleine, indem er hauptsächlich die Notwendigkeit
                    entfernt die <acronym class="acronym">HTTP</acronym> POST Anfrage manuell zu erstellen und auf
                    den REST Service zuzugreifen.
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    Ein Antwort Wrapper der jeden Antwort Body durchsucht und eine Exception wirft
                    wenn ein Fehler auftritt, und es unnötig macht die vielen Kommandos wiederholt
                    auf Erfolg zu prüfen.
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    Zusätzliche bequeme Methoden für einige der üblicheren Operationen.
                </p>
            </li>
        </ul>
    </div>

    <div class="section" id="zend.service.amazon.sqs.storing-your-first" name="zend.service.amazon.sqs.storing-your-first"><div class="info"><h1 class="title">Beginnen</h1></div>
        

        <p class="para">
            Sobald man sich bei Amazon SQS registriert hat ist man bereit seine eigene Queue zu
            erstellen und einige Nachrichten auf SQS zu speichern. Jede Queue kann eine unbegrenzte
            Anzahl an Nachrichten enthalten, die durch Ihren Namen identifiziert werden.
        </p>

        <p class="para">
            Das folgende Beispiel demonstriert die Erstellung einer Queue, und das speichern sowie
            empfangen von Nachrichten.
        </p>

        <div class="example"><div class="info"><p><b>Example #1 Beispiel der Verwendung von Zend_Service_Amazon_Sqs</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$sqs</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_Amazon_Sqs<span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$my_aws_key</span>, <span style="color: #0000ff;">$my_aws_secret_key</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$queue_url</span> = <span style="color: #0000ff;">$sqs</span>-&gt;<span style="color: #006600;">create</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'test'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$message</span> = <span style="color: #ff0000;">'Das ist ein Test'</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$message_id</span> = <span style="color: #0000ff;">$sqs</span>-&gt;<span style="color: #006600;">send</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$queue_url</span>, <span style="color: #0000ff;">$message</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #b1b100;">foreach</span> <span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$sqs</span>-&gt;<span style="color: #006600;">receive</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$queue_url</span><span style="color: #66cc66;">&#41;</span> <span style="color: #b1b100;">as</span> <span style="color: #0000ff;">$message</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #0000ff;">$message</span><span style="color: #66cc66;">&#91;</span><span style="color: #ff0000;">'body'</span><span style="color: #66cc66;">&#93;</span>.<span style="color: #ff0000;">'&lt;br/&gt;'</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li></ol></div></div></div>

        </div>

        <p class="para">
            Das der <span class="classname">Zend_Service_Amazon_Sqs</span> Service eine Authentifizierung
            benötigt, kann man seine Zugangsdaten (AWS Schlüssel und geheimer Schlüssel) im
            Constructor angeben. Wenn man nur einen Account verwendet kann man standardmäßige
            Zugangsdaten für den Service setzen:
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">Zend_Service_Amazon_Sqs::<span style="color: #006600;">setKeys</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$my_aws_key</span>, <span style="color: #0000ff;">$my_aws_secret_key</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$sqs</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_Amazon_Sqs<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

    </div>

    <div class="section" id="zend.service.amazon.sqs.queues" name="zend.service.amazon.sqs.queues"><div class="info"><h1 class="title">Operationen der Queue</h1></div>
        

        <p class="para">
            Alle SQS Nachrichten werden in Queues gespeichert. Eine Queue muß erstellt werden bevor
            irgendwelche Operationen mit Nachrichten durchgeführt werden. Die Namen der Queues
            müssen in Verbindung mit dem Zugriffsschlüssel und den geheimen Schlüssel einmalig
            sein.
        </p>

        <p class="para">
            Namen von Queues können kleingeschriebene Buchstaben, Ziffern, Punkte (.), Unterstriche
            (_) und Bindestriche (-) enthalten. Es sind keine anderen Symbole erlaubt. Die Namen
            von Queues dürfen eine maximal Länge von 80 Zeichen haben.
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">
                     <span class="methodname">create()</span> erstellt eine neue Queue.
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                     <span class="methodname">delete()</span> entfernt alle Nachrichten in der Queue.
                </p>

                <div class="example"><div class="info"><p><b>Example #2 
                        Beispiel für das Entfernen von Queues aus Zend_Service_Amazon_Sqs
                    </b></p></div>
                    

                    <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$sqs</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_Amazon_Sqs<span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$my_aws_key</span>, <span style="color: #0000ff;">$my_aws_secret_key</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$queue_url</span> = <span style="color: #0000ff;">$sqs</span>-&gt;<span style="color: #006600;">create</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'test_1'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$sqs</span>-&gt;<span style="color: #006600;">delete</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$queue_url</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

                </div>
            </li>

            <li class="listitem">
                <p class="para">
                     <span class="methodname">count()</span> gibt die erwartete Anzahl von Nachrichten in
                    der Queue zurück.
                </p>

                <div class="example"><div class="info"><p><b>Example #3 Beispiel für das Zählen von Queues in Zend_Service_Amazon_Sqs</b></p></div>
                    

                    <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$sqs</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_Amazon_Sqs<span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$my_aws_key</span>, <span style="color: #0000ff;">$my_aws_secret_key</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$queue_url</span> = <span style="color: #0000ff;">$sqs</span>-&gt;<span style="color: #006600;">create</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'test_1'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$sqs</span>-&gt;<span style="color: #006600;">send</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$queue_url</span>, <span style="color: #ff0000;">'Das ist ein Test'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$count</span> = <span style="color: #0000ff;">$sqs</span>-&gt;<span style="color: #006600;">count</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$queue_url</span><span style="color: #66cc66;">&#41;</span>; <span style="color: #808080; font-style: italic;">// Gibt '1' zurück</span></div></li></ol></div></div></div>

                </div>
            </li>

            <li class="listitem">
                <p class="para">
                     <span class="methodname">getQueues()</span> gibt eine Liste der Namen aller Queues
                    zurück die dem Benutzer gehören.
                </p>

                <div class="example"><div class="info"><p><b>Example #4 Beispiel für das Auflisten von Queues in Zend_Service_Amazon_Sqs</b></p></div>
                    

                    <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$sqs</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_Amazon_Sqs<span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$my_aws_key</span>, <span style="color: #0000ff;">$my_aws_secret_key</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$list</span> = <span style="color: #0000ff;">$sqs</span>-&gt;<span style="color: #006600;">getQueues</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #b1b100;">foreach</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$list</span> <span style="color: #b1b100;">as</span> <span style="color: #0000ff;">$queue</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp;<a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #ff0000;">&quot;Ich habe $queue Queues<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li></ol></div></div></div>

                </div>
            </li>
        </ul>
    </div>

    <div class="section" id="zend.service.amazon.sqs.messages" name="zend.service.amazon.sqs.messages"><div class="info"><h1 class="title">Operationen für Nachrichten</h1></div>
        

        <p class="para">
            Nachdem eine Queue erstellt wurde, können Nachrichten einfach in die Queue gesendet
            und zu einem späteren Zeitpunkt von Ihr empfangen werden. Nachrichten können eine Länge
            von bis zu 8kB haben. Wenn längere Nachrichten benötigt werden sollte in das Kapitel
            <a href="http://framework.zend.com/manual/en/zend.service.amazon.s3.html" class="link external">&raquo; S3</a>
            gesehen werden. Es gibt keine Begrenzung in der Anzahl der Nachrichten die eine Queue
            enthalten kann.
       </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">
                     <span class="methodname">sent($queue_url, $message)</span> sendet die Nachricht
                    <var class="varname">$message</var> an die <acronym class="acronym">URL</acronym>
                    <code class="code">$queue_url</code> der SQS Queue.
                </p>

                <div class="example"><div class="info"><p><b>Example #5 
                        Beispiel für das Senden von Nachrichten an Zend_Service_Amazon_Sqs
                    </b></p></div>
                    

                    <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$sqs</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_Amazon_Sqs<span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$my_aws_key</span>, <span style="color: #0000ff;">$my_aws_secret_key</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$queue_url</span> = <span style="color: #0000ff;">$sqs</span>-&gt;<span style="color: #006600;">create</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'test_queue'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$sqs</span>-&gt;<span style="color: #006600;">send</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$queue_url</span>, <span style="color: #ff0000;">'Das ist eine Test Nachricht'</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

                </div>
            </li>

            <li class="listitem">
                <p class="para">
                     <span class="methodname">receive($queue_url)</span> empfängt Nachrichten von der
                    Queue.
                </p>

                <div class="example"><div class="info"><p><b>Example #6 
                        Beispiel für das Empfangen von Nachrichten von Zend_Service_Amazon_Sqs
                    </b></p></div>
                    

                    <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$sqs</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_Amazon_Sqs<span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$my_aws_key</span>, <span style="color: #0000ff;">$my_aws_secret_key</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$queue_url</span> = <span style="color: #0000ff;">$sqs</span>-&gt;<span style="color: #006600;">create</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'test_queue'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$sqs</span>-&gt;<span style="color: #006600;">send</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$queue_url</span>, <span style="color: #ff0000;">'Das ist eine Test Nachricht'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #b1b100;">foreach</span> <span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$sqs</span>-&gt;<span style="color: #006600;">receive</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$queue_url</span><span style="color: #66cc66;">&#41;</span> <span style="color: #b1b100;">as</span> <span style="color: #0000ff;">$message</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #ff0000;">&quot;Nachricht &quot;</span>.<span style="color: #0000ff;">$message</span><span style="color: #66cc66;">&#91;</span><span style="color: #ff0000;">'body'</span><span style="color: #66cc66;">&#93;</span>.<span style="color: #ff0000;">' empfangen&lt;br/&gt;'</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li></ol></div></div></div>

                </div>
            </li>

            <li class="listitem">
                <p class="para">
                     <span class="methodname">deleteMessage($queue_url, $handle)</span> löscht eine
                    Nachricht von einer Queue. Die Nachricht muß zuerst durch Verwendung der
                     <span class="methodname">receive()</span> Methode empfangen werden bevor Sie gelöscht
                    werden kann.
                </p>

                <div class="example"><div class="info"><p><b>Example #7 
                        Beispiel für das Löschen von Nachrichten aus Zend_Service_Amazon_Sqs
                    </b></p></div>
                    

                    <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$sqs</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_Amazon_Sqs<span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$my_aws_key</span>, <span style="color: #0000ff;">$my_aws_secret_key</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$queue_url</span> = <span style="color: #0000ff;">$sqs</span>-&gt;<span style="color: #006600;">create</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'test_queue'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$sqs</span>-&gt;<span style="color: #006600;">send</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$queue_url</span>, <span style="color: #ff0000;">'Das ist eine Test Nachricht'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #b1b100;">foreach</span> <span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$sqs</span>-&gt;<span style="color: #006600;">receive</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$queue_url</span><span style="color: #66cc66;">&#41;</span> <span style="color: #b1b100;">as</span> <span style="color: #0000ff;">$message</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #ff0000;">&quot;Nachricht &quot;</span>.<span style="color: #0000ff;">$message</span><span style="color: #66cc66;">&#91;</span><span style="color: #ff0000;">'body'</span><span style="color: #66cc66;">&#93;</span>.<span style="color: #ff0000;">' empfangen&lt;br/&gt;'</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #b1b100;">if</span> <span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$sqs</span>-&gt;<span style="color: #006600;">deleteMessage</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$queue_url</span>, <span style="color: #0000ff;">$message</span><span style="color: #66cc66;">&#91;</span><span style="color: #ff0000;">'handle'</span><span style="color: #66cc66;">&#93;</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #ff0000;">&quot;Nachricht gelöscht&quot;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #66cc66;">&#125;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #b1b100;">else</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #ff0000;">&quot;Nachricht nicht gelöscht&quot;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #66cc66;">&#125;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li></ol></div></div></div>

                </div>
            </li>
       </ul>
    </div>
</div>
        <hr />

            <table width="100%">
                <tr>
                    <td width="25%" style="text-align: left;">
                    <a href="zend.service.amazon.s3.html">Zend_Service_Amazon_S3</a>
                    </td>

                    <td width="50%" style="text-align: center;">
                        <div class="up"><span class="up"><a href="zend.service.html">Zend_Service</a></span><br />
                        <span class="home"><a href="manual.html">Programmer's Reference Guide</a></span></div>
                    </td>

                    <td width="25%" style="text-align: right;">
                        <div class="next" style="text-align: right; float: right;"><a href="zend.service.audioscrobbler.html">Zend_Service_Audioscrobbler</a></div>
                    </td>
                </tr>
            </table>
</td>
        <td style="font-size: smaller;" width="15%"> <style type="text/css">
#leftbar {
	float: left;
	width: 186px;
	padding: 5px;
	font-size: smaller;
}
ul.toc {
	margin: 0px 5px 5px 5px;
	padding: 0px;
}
ul.toc li {
	font-size: 85%;
	margin: 1px 0 1px 1px;
	padding: 1px 0 1px 11px;
	list-style-type: none;
	background-repeat: no-repeat;
	background-position: center left;
}
ul.toc li.header {
	font-size: 115%;
	padding: 5px 0px 5px 11px;
	border-bottom: 1px solid #cccccc;
	margin-bottom: 5px;
}
ul.toc li.active {
	font-weight: bold;
}
ul.toc li a {
	text-decoration: none;
}
ul.toc li a:hover {
	text-decoration: underline;
}
</style>
 <ul class="toc">
  <li class="header home"><a href="manual.html">Programmer's Reference Guide</a></li>
  <li class="header up"><a href="manual.html">Programmer's Reference Guide</a></li>
  <li class="header up"><a href="reference.html">Zend Framework Reference</a></li>
  <li class="header up"><a href="zend.service.html">Zend_Service</a></li>
  <li><a href="zend.service.introduction.html">Einf&uuml;hrung</a></li>
  <li><a href="zend.service.akismet.html">Zend_Service_Akismet</a></li>
  <li><a href="zend.service.amazon.html">Zend_Service_Amazon</a></li>
  <li><a href="zend.service.amazon.ec2.html">Zend_Service_Amazon_Ec2</a></li>
  <li><a href="zend.service.amazon.ec2.instance.html">Zend_Service_Amazon_Ec2: Instanzen</a></li>
  <li><a href="zend.service.amazon.ec2.windows.instance.html">Zend_Service_Amazon_Ec2: Windows Instanzen</a></li>
  <li><a href="zend.service.amazon.ec2.reserved.instance.html">Zend_Service_Amazon_Ec2: Reservierte Instanzen</a></li>
  <li><a href="zend.service.amazon.ec2.cloudwatch.html">Zend_Service_Amazon_Ec2: CloudWatch Monitoring</a></li>
  <li><a href="zend.service.amazon.ec2.images.html">Zend_Service_Amazon_Ec2: Amazon Maschinen Images (AMI)</a></li>
  <li><a href="zend.service.amazon.ec2.ebs.html">Zend_Service_Amazon_Ec2: Elastischer Block Speicher (EBS)</a></li>
  <li><a href="zend.service.amazon.ec2.elasticip.html">Zend_Service_Amazon_Ec2: Elastische IP Adressen</a></li>
  <li><a href="zend.service.amazon.ec2.keypairs.html">Zend_Service_Amazon_Ec2: Schl&uuml;sselpaare</a></li>
  <li><a href="zend.service.amazon.ec2.zones.html">Zend_Service_Amazon_Ec2: Regionen und Availability Zones</a></li>
  <li><a href="zend.service.amazon.ec2.securitygroups.html">Zend_Service_Amazon_Ec2: Sicherheitsgruppen</a></li>
  <li><a href="zend.service.amazon.s3.html">Zend_Service_Amazon_S3</a></li>
  <li class="active"><a href="zend.service.amazon.sqs.html">Zend_Service_Amazon_Sqs</a></li>
  <li><a href="zend.service.audioscrobbler.html">Zend_Service_Audioscrobbler</a></li>
  <li><a href="zend.service.delicious.html">Zend_Service_Delicious</a></li>
  <li><a href="zend.service.developergarden.html">Zend_Service_DeveloperGarden</a></li>
  <li><a href="zend.service.ebay.html">Zend_Service_Ebay</a></li>
  <li><a href="zend.service.ebay.finding.html">Zend_Service_Ebay_Finding</a></li>
  <li><a href="zend.service.flickr.html">Zend_Service_Flickr</a></li>
  <li><a href="zend.service.livedocx.html">Zend_Service_LiveDocx</a></li>
  <li><a href="zend.service.nirvanix.html">Zend_Service_Nirvanix</a></li>
  <li><a href="zend.service.recaptcha.html">Zend_Service_ReCaptcha</a></li>
  <li><a href="zend.service.short-url.html">Zend_Service_ShortUrl</a></li>
  <li><a href="zend.service.simpy.html">Zend_Service_Simpy</a></li>
  <li><a href="zend.service.slideshare.html">Zend_Service_SlideShare</a></li>
  <li><a href="zend.service.strikeiron.html">Zend_Service_StrikeIron</a></li>
  <li><a href="zend.service.strikeiron.bundled-services.html">Zend_Service_StrikeIron: Mitgelieferte Services</a></li>
  <li><a href="zend.service.strikeiron.advanced-uses.html">Zend_Service_StrikeIron: Erweiterte Verwendung</a></li>
  <li><a href="zend.service.technorati.html">Zend_Service_Technorati</a></li>
  <li><a href="zend.service.twitter.html">Zend_Service_Twitter</a></li>
  <li><a href="zend.service.windowsazure.html">Zend_Service_WindowsAzure</a></li>
  <li><a href="zend.service.windowsazure.storage.blob.html">Zend_Service_WindowsAzure_Storage_Blob</a></li>
  <li><a href="zend.service.windowsazure.diagnostics.manager.html">Zend_Service_WindowsAzure_Diagnostics_Manager</a></li>
  <li><a href="zend.service.windowsazure.storage.queue.html">Zend_Service_WindowsAzure_Storage_Queue</a></li>
  <li><a href="zend.service.windowsazure.storage.table.html">Zend_Service_WindowsAzure_Storage_Table</a></li>
  <li><a href="zend.service.yahoo.html">Zend_Service_Yahoo</a></li>
 </ul>
 </td>
    </tr>
</table>
</body>
</html>