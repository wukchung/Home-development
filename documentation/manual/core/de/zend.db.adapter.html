<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>Zend_Db_Adapter - Zend Framework Manual</title>

</head>
<body>
<table width="100%">
    <tr valign="top">
        <td width="85%">
            <table width="100%">
                <tr>
                    <td width="25%" style="text-align: left;">
                    <a href="zend.db.html">Zend_Db</a>
                    </td>

                    <td width="50%" style="text-align: center;">
                        <div class="up"><span class="up"><a href="zend.db.html">Zend_Db</a></span><br />
                        <span class="home"><a href="manual.html">Programmer's Reference Guide</a></span></div>
                    </td>

                    <td width="25%" style="text-align: right;">
                        <div class="next" style="text-align: right; float: right;"><a href="zend.db.statement.html">Zend_Db_Statement</a></div>
                    </td>
                </tr>
            </table>
<hr />
<div id="zend.db.adapter" class="section"><div class="info"><h1 class="title">Zend_Db_Adapter</h1></div>
    

    <p class="para">
        <span class="classname">Zend_Db</span> und die zugehörigen Klassen bieten eine einfache
        <acronym class="acronym">SQL</acronym> Schnittstelle für Zend Framework.
        <span class="classname">Zend_Db_Adapter</span> ist die Basisklasse zur Anbindung einer
        <acronym class="acronym">PHP</acronym> Anwendung an ein <acronym class="acronym">RDBMS</acronym>. Es gibt für jede
        <acronym class="acronym">RDBMS</acronym> Marke einen eigenen Adapter.
    </p>

    <p class="para">
        Die <span class="classname">Zend_Db</span> Adapter bilden eine Schnittstelle zu den Hersteller
        spezifischen <acronym class="acronym">PHP</acronym> Erweiterungen und unterstützen dadurch die Entwicklung
        einer <acronym class="acronym">PHP</acronym> Anwendung für verschiedene <acronym class="acronym">RDBMS</acronym> mit
        geringem Aufwand.
    </p>

    <p class="para">
        Die Schnittstellen der Adapterklasse ähneln denen der
        <a href="http://www.php.net/pdo" class="link external">&raquo; PHP Data Objects</a> Erweiterung.
        <span class="classname">Zend_Db</span> bietet Adapterklassen für <acronym class="acronym">PDO</acronym> Treiber der
        folgenden <acronym class="acronym">RDBMS</acronym> Marken:
    </p>

    <ul class="itemizedlist">
        <li class="listitem">
            <p class="para">
                <acronym class="acronym">IBM</acronym> <acronym class="acronym">DB2</acronym> und Informix Dynamic Server
                (<acronym class="acronym">IDS</acronym>), verwenden die <a href="http://www.php.net/pdo-ibm" class="link external">&raquo; pdo_ibm</a> <acronym class="acronym">PHP</acronym>
                Erweiterung
            </p>
        </li>

        <li class="listitem">
            <p class="para">
                MySQL, verwendet die <a href="http://www.php.net/pdo-mysql" class="link external">&raquo; pdo_mysql</a>
                <acronym class="acronym">PHP</acronym> Erweiterung
            </p>
        </li>

        <li class="listitem">
            <p class="para">
                Microsoft <acronym class="acronym">SQL</acronym> Server, verwendet die <a href="http://www.php.net/pdo-dblib" class="link external">&raquo; pdo_dblib</a> <acronym class="acronym">PHP</acronym>
                Erweiterung
            </p>
        </li>

        <li class="listitem">
            <p class="para">
                Oracle, verwendet die <a href="http://www.php.net/pdo-oci" class="link external">&raquo; pdo_oci</a>
                <acronym class="acronym">PHP</acronym> Erweiterung
            </p>
        </li>

        <li class="listitem">
            <p class="para">
                PostgreSQL, verwendet die <a href="http://www.php.net/pdo-pgsql" class="link external">&raquo; pdo_pgsql</a> <acronym class="acronym">PHP</acronym>
                Erweiterung
            </p>
        </li>

        <li class="listitem">
            <p class="para">
                SQLite, verwendet die <a href="http://www.php.net/pdo-sqlite" class="link external">&raquo; pdo_sqlite</a>
                <acronym class="acronym">PHP</acronym> Erweiterung
            </p>
        </li>
    </ul>

    <p class="para">
        Zusätzlich bietet <span class="classname">Zend_Db</span> Adapterklassen für die folgenden
        <acronym class="acronym">RDBMS</acronym> Marken, welche eigene <acronym class="acronym">PHP</acronym> Datenbank
        Erweiterungen nutzen:
    </p>

    <ul class="itemizedlist">
        <li class="listitem">
            <p class="para">
                MySQL, mit der <a href="http://www.php.net/mysqli" class="link external">&raquo; mysqli</a>
                <acronym class="acronym">PHP</acronym> Erweiterung
            </p>
        </li>

        <li class="listitem">
            <p class="para">
                Oracle, mit der <a href="http://www.php.net/oci8" class="link external">&raquo; oci8</a>
                <acronym class="acronym">PHP</acronym> Erweiterung
            </p>
        </li>

        <li class="listitem">
            <p class="para">
                <acronym class="acronym">IBM</acronym> <acronym class="acronym">DB2</acronym> und <acronym class="acronym">DB2</acronym> I5, mit der
                <a href="http://www.php.net/ibm_db2" class="link external">&raquo; ibm_db2</a> <acronym class="acronym">PHP</acronym>
                Erweiterung
            </p>
        </li>

        <li class="listitem">
            <p class="para">
                Firebird (Interbase), mit der <a href="http://www.php.net/ibase" class="link external">&raquo; php_interbase</a> <acronym class="acronym">PHP</acronym>
                Erweiterung
            </p>
        </li>
    </ul>

    <blockquote><p><b class="note">Note</b>: 
        
            Jeder <span class="classname">Zend_Db</span> Adapter nutzt eine <acronym class="acronym">PHP</acronym>
            Erweiterung. Die entsprechend <acronym class="acronym">PHP</acronym> Erweiterung muss in der
            <acronym class="acronym">PHP</acronym> Umgebung aktiviert sein um den <span class="classname">Zend_Db</span>
            Adapter zu nutzen. Zum Beispiel muss bei der Nutzung eines <acronym class="acronym">PDO</acronym>
            <span class="classname">Zend_Db</span> Adapters sowohl die <acronym class="acronym">PDO</acronym> Erweiterung,
            als auch der <acronym class="acronym">PDO</acronym> Treiber für die jeweilige <acronym class="acronym">RDBMS</acronym>
            Marke geladen sein.
        <br />
    </p></blockquote>

    <div class="section" id="zend.db.adapter.connecting" name="zend.db.adapter.connecting"><div class="info"><h1 class="title">Anbindung einer Datenbank mit einem Adapter</h1></div>
        

        <p class="para">
            Dieser Abschnitt beschreibt wie eine Instanz eines Datenbankadapters erzeugt wird. Dies
            entspricht der Erzeugung einer Verbindung an ein <acronym class="acronym">RDBMS</acronym> Server in
            einer <acronym class="acronym">PHP</acronym> Anwendung.
        </p>

        <div class="section" id="zend.db.adapter.connecting.constructor" name="zend.db.adapter.connecting.constructor"><div class="info"><h1 class="title">Nutzung des Zend_Db Adapter Konstruktors</h1></div>
            

            <p class="para">
                Man kann eine Instanz eines Adapters erzeugen, indem man den Konstruktor verwendet.
                Ein Adapter Konstruktur benötigt ein Argument, wobei es sich um ein Array mit
                Parametern für die Verbindung handelt.
            </p>

            <div class="example"><div class="info"><p><b>Example #1 Nutzung eines Adapter Konstruktors</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$db</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Db_Adapter_Pdo_Mysql<span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'host'</span>&nbsp; &nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'127.0.0.1'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'username'</span> =&gt; <span style="color: #ff0000;">'webuser'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'password'</span> =&gt; <span style="color: #ff0000;">'xxxxxxxx'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'dbname'</span>&nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'test'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

            </div>
        </div>

        <div class="section" id="zend.db.adapter.connecting.factory" name="zend.db.adapter.connecting.factory"><div class="info"><h1 class="title">Nutzung der Zend_Db Factory</h1></div>
            

            <p class="para">
                Als Alternative zur direkten Nutzung des Konstruktors kann man auch eine Instanz des
                Adapters erzeugen indem man die statische Methode
                 <span class="methodname">Zend_Db::factory()</span> nutzt. Diese Methode lädt die
                Adapterklasse dynamisch bei Aufruf unter Nutzung von <a href="zend.loader.load.html#zend.loader.load.class" class="link">Zend_Loader::loadClass()</a>.
            </p>

            <p class="para">
                Das erste Argument ist ein String der den Namen der Adapterklasse enthält. Zum
                Beispiel entspricht der String &#039;<span class="classname">Pdo_Mysql</span>&#039; der Klasse
                <span class="classname">Zend_Db_Adapter_Pdo_Mysql</span>. Das zweite Argument ist das
                gleiche Array von Parametern wie bei der Verwendung des Adapter Konstruktors.
            </p>

            <div class="example"><div class="info"><p><b>Example #2 Nutzung der Adapter factory() Methode</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Wir benötigen das folgende Statement nicht da die</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Zend_Db_Adapter_Pdo_Mysql Datei für uns durch die Factory</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Methode von Zend_Db geladen wird</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// require_once 'Zend/Db/Adapter/Pdo/Mysql.php';</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Lädt automatisch die Klasse Zend_Db_Adapter_Pdo_Mysql</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// und erzeugt eine Instanz von Ihr.</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$db</span> = Zend_Db::<span style="color: #006600;">factory</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Pdo_Mysql'</span>, <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'host'</span>&nbsp; &nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'127.0.0.1'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'username'</span> =&gt; <span style="color: #ff0000;">'webuser'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'password'</span> =&gt; <span style="color: #ff0000;">'xxxxxxxx'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'dbname'</span>&nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'test'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

            </div>

            <p class="para">
                Wenn eine eigene Klasse geschrieben wird, die
                <span class="classname">Zend_Db_Adapter_Abstract</span> erweitert aber nicht mit
                dem Präfix &quot;<span class="classname">Zend_Db_Adapter</span>&quot; beginnt, kann die
                 <span class="methodname">factory()</span> Methode verwendet werden um den Adapter zu
                Laden wenn der führende Teil der Adapter Klasse mit dem &#039;adapterNamespace&#039;
                Schlüssel im Parameter Array spezifiziert wird.
            </p>

            <div class="example"><div class="info"><p><b>Example #3 Die factory Methode für eine eigene Adapter Klasse verwenden</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Wir müssen die Datei der Adapter Klasse nicht laden</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// weil Sie für uns durch die Factory Methode von Zend_Db geladen wird</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Die MyProject_Db_Adapter_Pdo_Mysql Klasse automatisch laden</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// und eine Instanz von Ihr erstellen.</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$db</span> = Zend_Db::<span style="color: #006600;">factory</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Pdo_Mysql'</span>, <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'host'</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'127.0.0.1'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'username'</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'webuser'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'password'</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'xxxxxxxx'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'dbname'</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'test'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'adapterNamespace'</span> =&gt; <span style="color: #ff0000;">'MyProject_Db_Adapter'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

            </div>
        </div>

        <div class="section" id="zend.db.adapter.connecting.factory-config" name="zend.db.adapter.connecting.factory-config"><div class="info"><h1 class="title">Zend_Config mit Zend_Db_Factory verwenden</h1></div>
            

            <p class="para">
                Optional kann jedes Argument der  <span class="methodname">factory()</span> Methode als
                Objekt des Typs <a href="zend.config.html" class="link">Zend_Config</a> spezifiziert werden.
            </p>

            <p class="para">
                Wenn das erste Argument ein Config Objekt ist, wird erwartet das es eine Eigenschaft
                enthält die <span class="property">adapter</span> heißt und einen String enthält der nach dem
                Adapter Basis Klassen Namen benannt ist. Optional kann das Objekt eine Eigenschaft
                genannt <span class="property">params</span> enthalten, mit Subeigenschaften korrespondierend
                zu den Parameter Namen des Adapters. Das wird nur verwendet wenn das zweite Argument
                für die  <span class="methodname">factory()</span> Methode nicht angegeben wird.
            </p>

            <div class="example"><div class="info"><p><b>Example #4 
                    Verwenden der Factory Methode des Adapters mit einem Zend_Config Objekt
                </b></p></div>
                

                <div class="example-contents"><p>
                    Im Beispiel anbei wird ein <span class="classname">Zend_Config</span> Objekt von einem
                    Array erstellt. Die Daten können auch aus einer externen Datei geladen werden
                    indem Klassen wie zum Beispiel <a href="zend.config.adapters.ini.html" class="link">Zend_Config_Ini</a> oder <a href="zend.config.adapters.xml.html" class="link">Zend_Config_Xml</a> verwendet werden.
                </p></div>

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$config</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Config<span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'database'</span> =&gt; <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'adapter'</span> =&gt; <span style="color: #ff0000;">'Mysqli'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'params'</span>&nbsp; =&gt; <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'host'</span>&nbsp; &nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'127.0.0.1'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'dbname'</span>&nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'test'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'username'</span> =&gt; <span style="color: #ff0000;">'webuser'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'password'</span> =&gt; <span style="color: #ff0000;">'secret'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#41;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#41;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #66cc66;">&#41;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$db</span> = Zend_Db::<span style="color: #006600;">factory</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$config</span>-&gt;<span style="color: #006600;">database</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

            </div>

            <p class="para">
                Das zweite Argument der  <span class="methodname">factory()</span> Methode kann ein
                assoziatives Array sein das Einträge enthält die den Parameters des Adapters
                entsprechen. Dieses Argument ist optional. Wenn das erste Argument vom Typ
                <span class="classname">Zend_Config</span> ist, wird angenommen das es alle Parameter
                enthält, und das zweite Argument wird ignoriert.
            </p>
        </div>

        <div class="section" id="zend.db.adapter.connecting.parameters" name="zend.db.adapter.connecting.parameters"><div class="info"><h1 class="title">Adapter Parameter</h1></div>
            

            <p class="para">
                Die folgende Liste erklärt die gemeinsamen Parameter die von
                <span class="classname">Zend_Db</span> Adapterklassen erkannt werden.
            </p>

            <ul class="itemizedlist">
                <li class="listitem">
                    <p class="para">
                        <em class="emphasis">host</em>: Ein String der den Hostname oder die Ip-Adresse
                        des Datenbankservers beinhaltet. Wenn die Datenbank auf dem gleichen Host
                        wie die <acronym class="acronym">PHP</acronym> Anwendung läuft wird &#039;localhost&#039; oder
                        &#039;127.0.0.1&#039; verwendet.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        <em class="emphasis">username</em>: Konto Kennung zur Authentisierung einer
                        Verbindung zum <acronym class="acronym">RDBMS</acronym> Server.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        <em class="emphasis">password</em>: Konto Passwort zur Authentisierung einer
                        Verbindung zum <acronym class="acronym">RDBMS</acronym> Server.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        <em class="emphasis">dbname</em>: Datenbank Name auf dem <acronym class="acronym">RDBMS</acronym>
                        Server.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        <em class="emphasis">port</em>: Einige <acronym class="acronym">RDBMS</acronym> Server können
                        Netzwerkverbindungen an vom Administrator spezifizierten Ports akzeptieren.
                        Der Port-Parameter gibt die Möglichkeit die Portnummer anzugeben, an welche
                        die <acronym class="acronym">PHP</acronym> Anwendung verbindet um der Port-Konfiguration des
                        <acronym class="acronym">RDBMS</acronym> Servers zu entsprechen.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        <em class="emphasis">charset</em>: Spezifiziert das Zeichenset das für diese
                        Verbindung verwendet werden soll.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        <em class="emphasis">options</em>: Dieser Parameter ist ein assoziatives Array
                        von Optionen die in allen <span class="classname">Zend_Db_Adapter</span> Klassen
                        enthalten sind.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        <em class="emphasis">driver_options</em>: Dieser Parameter ist ein assoziatives
                        Array von zusätzlichen Optionen die spezifisch für die angegebene
                        Datenbankerweiterung sind. Eine typische Anwendung dieses Parameters ist,
                        Attribute für einen <acronym class="acronym">PDO</acronym> Treiber zu setzen.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        <em class="emphasis">adapterNamespace</em>: Benennt den führenden Teil des
                        Klassen Namens für den Adapter statt
                        &#039;<span class="classname">Zend_Db_Adapter</span>&#039;. Dies kann verwendet werden wenn
                        man die  <span class="methodname">factory()</span>Methode verwenden muß um eine
                        nicht von Zend kommende Datenbank Adapter Klasse zu laden.
                    </p>
                </li>
            </ul>

            <div class="example"><div class="info"><p><b>Example #5 Übergeben der case-folding Option an die factory</b></p></div>
                

                <div class="example-contents"><p>
                    Diese Option kann über die Konstante
                    <b><tt>Zend_Db::CASE_FOLDING</tt></b> angegeben werden. Sie entspricht
                    dem <b><tt>ATTR_CASE</tt></b> Attribut in <acronym class="acronym">PDO</acronym> und
                    <acronym class="acronym">IBM</acronym> <acronym class="acronym">DB2</acronym> Datenbanktreibern und stellt die
                    Schreibweise von String Schlüsseln in Abfrageergebnissen ein. Die Option kann
                    den Wert <b><tt>Zend_Db::CASE_NATURAL</tt></b> (der Standard),
                    <b><tt>Zend_Db::CASE_UPPER</tt></b> oder
                    <b><tt>Zend_Db::CASE_LOWER</tt></b> annehmen.
                </p></div>

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$options</span> = <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; Zend_Db::<span style="color: #006600;">CASE_FOLDING</span> =&gt; Zend_Db::<span style="color: #006600;">CASE_UPPER</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$params</span> = <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'host'</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'127.0.0.1'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'username'</span>&nbsp; &nbsp; &nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'webuser'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'password'</span>&nbsp; &nbsp; &nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'xxxxxxxx'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'dbname'</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'test'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'options'</span>&nbsp; &nbsp; &nbsp; &nbsp; =&gt; <span style="color: #0000ff;">$options</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$db</span> = Zend_Db::<span style="color: #006600;">factory</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Db2'</span>, <span style="color: #0000ff;">$params</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

            </div>

            <div class="example"><div class="info"><p><b>Example #6 Übergeben der auto-quoting Option an die factory</b></p></div>
                

                <div class="example-contents"><p>
                    Diese Option kann über die Konstante
                    <b><tt>Zend_Db::AUTO_QUOTE_IDENTIFIERS</tt></b> angegeben werden. Wenn
                    der Wert <b><tt>TRUE</tt></b> (der Standard) ist, werden Bezeichner wie
                    Tabellennamen, Spaltennamen und auch Aliase in jeder <acronym class="acronym">SQL</acronym>
                    Syntax die vom Adapter Objekt generiert wurde begrenzt. Dies macht es einfach
                    Bezeichner zu verwenden, die <acronym class="acronym">SQL</acronym> Schlüsselwörter oder
                    spezielle Zeichen enthalten. Wenn der Wert <b><tt>FALSE</tt></b> ist,
                    werden Bezeichner nicht automatisch begrenzt. Wenn Bezeichner begrenzt werden
                    müssen, so kann dies über die  <span class="methodname">quoteIdentifier()</span> Methode
                    von Hand getan werden.
                </p></div>

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$options</span> = <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; Zend_Db::<span style="color: #006600;">AUTO_QUOTE_IDENTIFIERS</span> =&gt; <span style="color: #000000; font-weight: bold;">false</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$params</span> = <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'host'</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'127.0.0.1'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'username'</span>&nbsp; &nbsp; &nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'webuser'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'password'</span>&nbsp; &nbsp; &nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'xxxxxxxx'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'dbname'</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'test'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'options'</span>&nbsp; &nbsp; &nbsp; &nbsp; =&gt; <span style="color: #0000ff;">$options</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$db</span> = Zend_Db::<span style="color: #006600;">factory</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Pdo_Mysql'</span>, <span style="color: #0000ff;">$params</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

            </div>

            <div class="example"><div class="info"><p><b>Example #7 Übergeben von PDO Treiber Optionen an die factory</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$pdoParams</span> = <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; PDO::<span style="color: #006600;">MYSQL_ATTR_USE_BUFFERED_QUERY</span> =&gt; <span style="color: #000000; font-weight: bold;">true</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$params</span> = <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'host'</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'127.0.0.1'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'username'</span>&nbsp; &nbsp; &nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'webuser'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'password'</span>&nbsp; &nbsp; &nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'xxxxxxxx'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'dbname'</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'test'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'driver_options'</span> =&gt; <span style="color: #0000ff;">$pdoParams</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$db</span> = Zend_Db::<span style="color: #006600;">factory</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Pdo_Mysql'</span>, <span style="color: #0000ff;">$params</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #0000ff;">$db</span>-&gt;<span style="color: #006600;">getConnection</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; -&gt;<span style="color: #006600;">getAttribute</span><span style="color: #66cc66;">&#40;</span>PDO::<span style="color: #006600;">MYSQL_ATTR_USE_BUFFERED_QUERY</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

            </div>

            <div class="example"><div class="info"><p><b>Example #8 Übergabe einer Serialisierungs Option an die Factory</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$options</span> = <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; Zend_Db::<span style="color: #006600;">ALLOW_SERIALIZATION</span> =&gt; <span style="color: #000000; font-weight: bold;">false</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$params</span> = <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'host'</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'127.0.0.1'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'username'</span>&nbsp; &nbsp; &nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'webuser'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'password'</span>&nbsp; &nbsp; &nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'xxxxxxxx'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'dbname'</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'test'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'options'</span>&nbsp; &nbsp; &nbsp; &nbsp; =&gt; <span style="color: #0000ff;">$options</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$db</span> = Zend_Db::<span style="color: #006600;">factory</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Pdo_Mysql'</span>, <span style="color: #0000ff;">$params</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

            </div>
        </div>

        <div class="section" id="zend.db.adapter.connecting.getconnection" name="zend.db.adapter.connecting.getconnection"><div class="info"><h1 class="title">Verwalten von Lazy Connections</h1></div>
            

            <p class="para">
                Die Erzeugung einer Instanz der Adapterklasse stellt nicht gleichzeitig eine
                Verbindung zum <acronym class="acronym">RDBMS</acronym> her. Der Adapter speichert die
                Verbindungsparameter und stellt die tatsächliche Verbindung bei Bedarf her, wenn die
                erste Anfrage ausgeführt wird. Dies stellt sicher, dass die Erzeugung eines
                Adapterobjekts schnell und sparsam ist. Dadurch kann auch dann eine Instanz eines
                Adapters erzeugt werden, wenn nicht zwingend eine Datenbankanfrage für die aktuell
                gelieferte Darstellung der Anwendung benötigt wird.
            </p>

            <p class="para">
                Wenn der Adapter zwingend eine Verbindung zum <acronym class="acronym">RDBMS</acronym> herstellen
                soll, kann die  <span class="methodname">getConnection()</span> Methode verwendet werden.
                Diese liefert ein Objekt der Verbindung, welches eine Verbindung entsprechend der
                verwendeten <acronym class="acronym">PHP</acronym> Erweiterung repräsentiert. Wenn zum Beispiel
                irgendeine der <acronym class="acronym">PDO</acronym> Adapterklassen verwendet wird, dann liefert
                 <span class="methodname">getConnection()</span> das <acronym class="acronym">PDO</acronym> Object, nachdem
                es als eine live Verbindung zu der entsprechenden Datenbank initialisiert wurde.
            </p>

            <p class="para">
                Es kann nützlich sein eine Verbindung zu erzwingen um jegliche Exceptions
                abzufangen, die als Resultat falscher Konto Berechtigungen oder einem anderen Fehler
                bei der Verbindung zum <acronym class="acronym">RDBMS</acronym> auftreten. Diese Exceptions treten
                nicht auf, bis die tatsächliche Verbindung hergestellt ist, daher kann es den
                Anwendungs-Code vereinfachen, wenn diese Exceptions an einer Stelle bearbeitet
                werden, und nicht erst bei der ersten Anfrage.
            </p>

            <p class="para">
                Zusätzlich kann ein Adapter serialisiert werden um Ihn zu speichern, zum Beispiel in
                einer Session Variable. Das kann sehr nütlich sein, nicht nur für den Adapter
                selbst, sondern auch für andere Objekte die Ihn verwenden, wie ein
                <span class="classname">Zend_Db_Select</span> Objekt. Standardmäßig, ist es Adaptern erlaubt
                serialisiert zu werden. Wenn man das nicht will, sollte man die
                <b><tt>Zend_Db::ALLOW_SERIALIZATION</tt></b> Option mit
                <b><tt>FALSE</tt></b> übergeben, wie im
                Beispiel anbei gezeigt. Um das Prinzip von Lazy Connections zu erlauben, wird der
                Adapter sich selbst nicht wiederverbinden wenn er deserialisiert wird. Man muß
                 <span class="methodname">getConnection()</span> selbst aufrufen. Mann kann den Adapter
                dazu bringen sich automatisch wieder zu verbinden indem
                <b><tt>Zend_Db::AUTO_RECONNECT_ON_UNSERIALIZE</tt></b> als Option mit
                <b><tt>TRUE</tt></b> zum Adapter übergeben wird.
            </p>

            <div class="example"><div class="info"><p><b>Example #9 Umgang mit Verbindungs Exceptions</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">try <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #0000ff;">$db</span> = Zend_Db::<span style="color: #006600;">factory</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Pdo_Mysql'</span>, <span style="color: #0000ff;">$parameters</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #0000ff;">$db</span>-&gt;<span style="color: #006600;">getConnection</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span> catch <span style="color: #66cc66;">&#40;</span>Zend_Db_Adapter_Exception <span style="color: #0000ff;">$e</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #808080; font-style: italic;">// Möglicherweise ein fehlgeschlagener login,</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #808080; font-style: italic;">// oder die RDBMS läuft möglicherweise nicht</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span> catch <span style="color: #66cc66;">&#40;</span>Zend_Exception <span style="color: #0000ff;">$e</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #808080; font-style: italic;">// Möglicherweise kann factory() die definierte Adapter Klasse nicht laden</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li></ol></div></div></div>

            </div>
        </div>
    </div>

    <div class="section" id="zend.db.adapter.example-database" name="zend.db.adapter.example-database"><div class="info"><h1 class="title">Beispiel Datenbank</h1></div>
        

        <p class="para">
            In der Dokumentation für die <span class="classname">Zend_Db</span> Klassen verwenden wir einige
            einfache Tabellen um die Verwendung der Klassen und Methoden zu erläutern. Diese
            Beispieltabellen können Informationen für das Bugtracking in einem Softwareprojekt
            speichern. Die Datenbank enthält vier Tabellen:
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">
                    <em class="emphasis">accounts</em> speichert Informationen über jeden Benutzer des
                    Bugtracking Systems.
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis">products</em> speichert Informationen über jedes Produkt für das
                    ein Bug erfasst werden kann.
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis">bugs</em> speichert informationen über Bugs, dazu gehört der
                    derzeitige Status des Bugs, die Person die den Bug berichtet hat, die Person die
                    den Bug beheben soll und die Person welche die Fehlerbehebung verifizieren soll.
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <em class="emphasis">bugs_products</em> speichert Beziehungen zwischen Bugs und
                    Produkten. Dies enthält eine Viele-zu-Viele Beziehung, da ein Bug für mehrere
                    Produkte relevant sein kann. Und natürlich kann ein Produkt auch mehrere Bugs
                    enthalten.
                </p>
            </li>
        </ul>

        <p class="para">
            Der folgende <acronym class="acronym">SQL</acronym> Daten Definitions Sprache Pseudocode beschreibt die
            Tabellen in dieser Beispieldatenbank. Diese Beispieltabellen werden intensiv bei den
            automatisierten Unit-Tests für <span class="classname">Zend_Db</span> verwendet.
        </p>

        <div class="programlisting sql"><div class="sqlcode"><div class="sql" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #993333; font-weight: bold;">CREATE</span> <span style="color: #993333; font-weight: bold;">TABLE</span> accounts <span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">account_name&nbsp; &nbsp; &nbsp; VARCHAR<span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">100</span><span style="color: #66cc66;">&#41;</span> <span style="color: #993333; font-weight: bold;">NOT</span> <span style="color: #993333; font-weight: bold;">NULL</span> <span style="color: #993333; font-weight: bold;">PRIMARY</span> <span style="color: #993333; font-weight: bold;">KEY</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #993333; font-weight: bold;">CREATE</span> <span style="color: #993333; font-weight: bold;">TABLE</span> products <span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">product_id&nbsp; &nbsp; &nbsp; &nbsp; INTEGER <span style="color: #993333; font-weight: bold;">NOT</span> <span style="color: #993333; font-weight: bold;">NULL</span> <span style="color: #993333; font-weight: bold;">PRIMARY</span> <span style="color: #993333; font-weight: bold;">KEY</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">product_name&nbsp; &nbsp; &nbsp; VARCHAR<span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">100</span><span style="color: #66cc66;">&#41;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #993333; font-weight: bold;">CREATE</span> <span style="color: #993333; font-weight: bold;">TABLE</span> bugs <span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">bug_id&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; INTEGER <span style="color: #993333; font-weight: bold;">NOT</span> <span style="color: #993333; font-weight: bold;">NULL</span> <span style="color: #993333; font-weight: bold;">PRIMARY</span> <span style="color: #993333; font-weight: bold;">KEY</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">bug_description&nbsp; &nbsp;VARCHAR<span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">100</span><span style="color: #66cc66;">&#41;</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">bug_status&nbsp; &nbsp; &nbsp; &nbsp; VARCHAR<span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">20</span><span style="color: #66cc66;">&#41;</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">reported_by&nbsp; &nbsp; &nbsp; &nbsp;VARCHAR<span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">100</span><span style="color: #66cc66;">&#41;</span> <span style="color: #993333; font-weight: bold;">REFERENCES</span> accounts<span style="color: #66cc66;">&#40;</span>account_name<span style="color: #66cc66;">&#41;</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">assigned_to&nbsp; &nbsp; &nbsp; &nbsp;VARCHAR<span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">100</span><span style="color: #66cc66;">&#41;</span> <span style="color: #993333; font-weight: bold;">REFERENCES</span> accounts<span style="color: #66cc66;">&#40;</span>account_name<span style="color: #66cc66;">&#41;</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">verified_by&nbsp; &nbsp; &nbsp; &nbsp;VARCHAR<span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">100</span><span style="color: #66cc66;">&#41;</span> <span style="color: #993333; font-weight: bold;">REFERENCES</span> accounts<span style="color: #66cc66;">&#40;</span>account_name<span style="color: #66cc66;">&#41;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #993333; font-weight: bold;">CREATE</span> <span style="color: #993333; font-weight: bold;">TABLE</span> bugs_products <span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">bug_id&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; INTEGER <span style="color: #993333; font-weight: bold;">NOT</span> <span style="color: #993333; font-weight: bold;">NULL</span> <span style="color: #993333; font-weight: bold;">REFERENCES</span> bugs,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">product_id&nbsp; &nbsp; &nbsp; &nbsp; INTEGER <span style="color: #993333; font-weight: bold;">NOT</span> <span style="color: #993333; font-weight: bold;">NULL</span> <span style="color: #993333; font-weight: bold;">REFERENCES</span> products,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #993333; font-weight: bold;">PRIMARY</span> <span style="color: #993333; font-weight: bold;">KEY</span>&nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #66cc66;">&#40;</span>bug_id, product_id<span style="color: #66cc66;">&#41;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>


        <p class="para">
            Weiterhin zu beachten ist, dass die &#039;bugs&#039; Tabelle mehrere Foreign-Key
            References zu der &#039;accounts&#039; Tabelle enthält. Jeder dieser Foreign-Keys kann
            auf eine andere Zeile für einen angegebenen Bug in der &#039;accounts&#039; Tabelle
            verweisen.
        </p>

        <p class="para">
            Das unten stehende Diagramm illustriert das physische Datenmodell der Beispieldatenbank.
        </p>

        <p class="para">
            <div class="inlinemediaobject"><div class="imageobject"><img src="images/d481d625821a97b9a5eb2cec99dca50e-zend.db.adapter.example-database.png" alt="zend.db.adapter.example-database.png" width="387" height="302" /></div></div>
        </p>
    </div>

    <div class="section" id="zend.db.adapter.select" name="zend.db.adapter.select"><div class="info"><h1 class="title">Lesen von Abfrageergebnissen</h1></div>
        

        <p class="para">
            Dieser Abschnitt beschreibt Methoden der Adapterklasse mit denen
            <acronym class="acronym">SELECT</acronym> Abfragen ausgeführt werden können um Abfrageergebnisse
            abzurufen.
        </p>

        <div class="section" id="zend.db.adapter.select.fetchall" name="zend.db.adapter.select.fetchall"><div class="info"><h1 class="title">Holen des kompletten Ergebnisssatzes</h1></div>
            

            <p class="para">
                Man kann eine <acronym class="acronym">SQL</acronym> <acronym class="acronym">SELECT</acronym> Anfrage ausführen
                und alle Ergebnisse auf einmal mit der  <span class="methodname">fetchAll()</span> Methode
                abrufen.
            </p>

            <p class="para">
                Das erste Argument dieser Methode ist ein String der die <acronym class="acronym">SELECT</acronym>
                Anweisung enthält. Als Alternative kann das erste Argument auch ein Objekt der
                <a href="zend.db.select.html" class="link">Zend_Db_Select</a> Klasse sein. Der Adapter
                konvertiert dieses automatisch in einen String der die <acronym class="acronym">SELECT</acronym>
                Anweisung repräsentiert.
            </p>

            <p class="para">
                Das zweite Argument von  <span class="methodname">fetchAll()</span> ist ein Array von
                Werten die Parameterplatzhalter in der <acronym class="acronym">SQL</acronym> Anweisung ersetzen.
            </p>

            <div class="example"><div class="info"><p><b>Example #10 Nutzung von fetchAll()</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$sql</span> = <span style="color: #ff0000;">'SELECT * FROM bugs WHERE bug_id = ?'</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$result</span> = <span style="color: #0000ff;">$db</span>-&gt;<span style="color: #006600;">fetchAll</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$sql</span>, <span style="color: #cc66cc;">2</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

            </div>
        </div>

        <div class="section" id="zend.db.adapter.select.fetch-mode" name="zend.db.adapter.select.fetch-mode"><div class="info"><h1 class="title">Ändern des Fetch Modus</h1></div>
            

            <p class="para">
                Standardmäßig gibt  <span class="methodname">fetchAll()</span> ein Array von Zeilen, jede
                als assoziatives Array, zurück. Die Schlüssel von diesem assoziativem Array
                entsprechen den Spalten oder Spaltenaliasen wie sie in der SELECT Anfrage benannt
                sind.
            </p>

            <p class="para">
                Man kann einen anderen Stil für das Holen der Ergebnisse mit der
                 <span class="methodname">setFetchMode()</span> Methode angeben. Die unterstützten Modi
                werden mit folgenden Konstanten identifiziert:
            </p>

            <ul class="itemizedlist">
                <li class="listitem">
                    <p class="para">
                        <em class="emphasis"><b><tt>Zend_Db::FETCH_ASSOC</tt></b></em>: Gibt Daten
                        in einem assoziativem Array zurück. Die Array Schlüssel sind Strings der
                        Spaltennamen. Dies ist der Standardmodus für
                        <span class="classname">Zend_Db_Adapter</span> Klassen.
                    </p>

                    <p class="para">
                        Zu beachten ist, dass wenn die Select-Liste mehr als eine Spalte mit dem
                        selben Namen enthält, zum Beispiel wenn diese aus verschiedenen Tabellen
                        durch einem <acronym class="acronym">JOIN</acronym> bestehen, kann nur einer der Einträge
                        im assoziativem Array enthalten sein. Wenn der
                        <b><tt>FETCH_ASSOC</tt></b> Modus verwandt wird, sollten Spaltenaliase
                        in der <acronym class="acronym">SELECT</acronym> Anfrage angegeben werden um sicherzustellen
                        dass die Namen eindeutige Arrayschlüssel ergeben.
                    </p>

                    <p class="para">
                        Standardmäßig werden die Strings so zurück gegeben wie sie von dem
                        Datenbanktreiber geliefert werden. Dies entspricht der typischen
                        Schreibweise der Spaltennamen auf dem <acronym class="acronym">RDBMS</acronym> Server. Die
                        Schreibweise dieser Strings kann mit der
                        <b><tt>Zend_Db::CASE_FOLDING</tt></b> Option angegeben werden. Dies
                        muss bei der Instanziierung des Adapters angegeben werden. Beschreibung
                        unter <a href="zend.db.adapter.html#zend.db.adapter.connecting.parameters.example1" class="link">dieses
                            Beispiel</a>.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        <em class="emphasis"><b><tt>Zend_Db::FETCH_NUM</tt></b></em>: Gibt Daten in
                        einem Array von Arrays zurück. Die Arrays werden über Integer indiziert,
                        entsprechend der Position der betreffenden Felder in der Select-Liste der
                        Anfrage.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        <em class="emphasis"><b><tt>Zend_Db::FETCH_BOTH</tt></b></em>: Gibt ein
                        Array von Arrays zurück. Die Arrayschlüssel sind sowohl Strings wie beim
                        <b><tt>FETCH_ASSOC</tt></b> Modus, als auch Integer wie beim
                        <b><tt>FETCH_NUM</tt></b> modus. Zu beachten ist, dass die Anzahl der
                        Elemente in dem Array doppelt so groß ist, als wenn
                        <b><tt>FETCH_ASSOC</tt></b> oder <b><tt>FETCH_NUM</tt></b>
                        verwendet worden wäre.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        <em class="emphasis"><b><tt>Zend_Db::FETCH_COLUMN</tt></b></em>: Gibt Daten
                        in einem Array von Werten zurück. Die Werte in jedem Array sind die Werte
                        wie sie in einer Spalte des Ergebnisses zurück gegeben wurden. Standardmäßig
                        ist die erste Spalte mit 0 indiziert.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        <em class="emphasis"><b><tt>Zend_Db::FETCH_OBJ</tt></b></em>: Gibt Daten in
                        einem Array von Objekten zurück. Die Standardklasse ist die in
                        <acronym class="acronym">PHP</acronym> eingebaute Klasse stdClass. Spalten des Ergebnisses
                        sind als öffentliche Eigenschaften des Objekts verfügbar.
                    </p>
                </li>
            </ul>

            <div class="example"><div class="info"><p><b>Example #11 Nutzung von setFetchMode()</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$db</span>-&gt;<span style="color: #006600;">setFetchMode</span><span style="color: #66cc66;">&#40;</span>Zend_Db::<span style="color: #006600;">FETCH_OBJ</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$result</span> = <span style="color: #0000ff;">$db</span>-&gt;<span style="color: #006600;">fetchAll</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'SELECT * FROM bugs WHERE bug_id = ?'</span>, <span style="color: #cc66cc;">2</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// $result ist ein Array von Objekten</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #0000ff;">$result</span><span style="color: #66cc66;">&#91;</span><span style="color: #cc66cc;">0</span><span style="color: #66cc66;">&#93;</span>-&gt;<span style="color: #006600;">bug_description</span>;</div></li></ol></div></div></div>

            </div>
        </div>

        <div class="section" id="zend.db.adapter.select.fetchassoc" name="zend.db.adapter.select.fetchassoc"><div class="info"><h1 class="title">Holen eines Ergbnisssatzes als assoziatives Array</h1></div>
            

            <p class="para">
                Die  <span class="methodname">fetchAssoc()</span> Methode gibt Daten in einem Array von
                assoziativen Array zurück, egal welcher Wert für den fetch-Modus gesetzt wurde,
                indem die erste Spalte als Array Index verwendet wird.
            </p>

            <div class="example"><div class="info"><p><b>Example #12 Nutzung von fetchAssoc()</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$db</span>-&gt;<span style="color: #006600;">setFetchMode</span><span style="color: #66cc66;">&#40;</span>Zend_Db::<span style="color: #006600;">FETCH_OBJ</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$result</span> = <span style="color: #0000ff;">$db</span>-&gt;<span style="color: #006600;">fetchAssoc</span><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'SELECT bug_id, bug_description, bug_status FROM bugs'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// $result ist ein Array von assoziativen Arrays im Geist von fetch mode</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #0000ff;">$result</span><span style="color: #66cc66;">&#91;</span><span style="color: #cc66cc;">2</span><span style="color: #66cc66;">&#93;</span><span style="color: #66cc66;">&#91;</span><span style="color: #ff0000;">'bug_description'</span><span style="color: #66cc66;">&#93;</span>; <span style="color: #808080; font-style: italic;">// Beschreibung von Fehler #2</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #0000ff;">$result</span><span style="color: #66cc66;">&#91;</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">&#93;</span><span style="color: #66cc66;">&#91;</span><span style="color: #ff0000;">'bug_description'</span><span style="color: #66cc66;">&#93;</span>; <span style="color: #808080; font-style: italic;">// Beschreibung von Fehler #1</span></div></li></ol></div></div></div>

            </div>
        </div>

        <div class="section" id="zend.db.adapter.select.fetchcol" name="zend.db.adapter.select.fetchcol"><div class="info"><h1 class="title">Holen einer einzelnen Spalte eines Ergebnisssatzes</h1></div>
            

            <p class="para">
                Die  <span class="methodname">fetchCol()</span> Methode gibt Daten in einem Array von
                Werten zurück, egal welcher Wert für den fetch-Modus gesetzt wurde. Sie gibt nur
                die erste Spalte der Anfrage zurück. Alle weiteren Spalten der Anfrage werden
                verworfen. Wenn eine andere Spalte als die Erste benötigt wird sollte
                <a href="zend.db.statement.html#zend.db.statement.fetching.fetchcolumn" class="link">dieser Abschnitt</a>
                beachtet werden.
            </p>

            <div class="example"><div class="info"><p><b>Example #13 Nutzung von fetchCol()</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$db</span>-&gt;<span style="color: #006600;">setFetchMode</span><span style="color: #66cc66;">&#40;</span>Zend_Db::<span style="color: #006600;">FETCH_OBJ</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$result</span> = <span style="color: #0000ff;">$db</span>-&gt;<span style="color: #006600;">fetchCol</span><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'SELECT bug_description, bug_id FROM bugs WHERE bug_id = ?'</span>, <span style="color: #cc66cc;">2</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Enthält bug_description; bug_id wird nicht zurückgegeben</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #0000ff;">$result</span><span style="color: #66cc66;">&#91;</span><span style="color: #cc66cc;">0</span><span style="color: #66cc66;">&#93;</span>;</div></li></ol></div></div></div>

            </div>
        </div>

        <div class="section" id="zend.db.adapter.select.fetchpairs" name="zend.db.adapter.select.fetchpairs"><div class="info"><h1 class="title">Holen von Schlüssel-Wert Paaren eines Ergebnisssatzes</h1></div>
            

            <p class="para">
                Die  <span class="methodname">fetchPairs()</span> Methode gibt Daten in einem Array von
                Schlüssel-Wert Paaren zurück, einem assoziativen Array mit einem einzelnen Eintrag
                pro Zeile. Der Schlüssel dieses assoziativen Arrays wird von der ersten Spalte des
                SELECT Ergebnisses genommen. Der Wert wird aus der zweiten Spalte des SELECT
                Ergebnisses genommen. Alle weiteren Spalten des Ergebnisses werden verworfen.
            </p>

            <p class="para">
                Die <acronym class="acronym">SELECT</acronym> Anfrage sollte so gestaltet sein, dass die erste
                Spalte nur eindeutige Werte liefert. Wenn doppelte Werte in der ersten Spalte
                vorkommen, werden entsprechende Einträge in dem assoziativen Array überschrieben.
            </p>

            <div class="example"><div class="info"><p><b>Example #14 Nutzung von fetchPairs()</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$db</span>-&gt;<span style="color: #006600;">setFetchMode</span><span style="color: #66cc66;">&#40;</span>Zend_Db::<span style="color: #006600;">FETCH_OBJ</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$result</span> = <span style="color: #0000ff;">$db</span>-&gt;<span style="color: #006600;">fetchAssoc</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'SELECT bug_id, bug_status FROM bugs'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #0000ff;">$result</span><span style="color: #66cc66;">&#91;</span><span style="color: #cc66cc;">2</span><span style="color: #66cc66;">&#93;</span>;</div></li></ol></div></div></div>

            </div>
        </div>

        <div class="section" id="zend.db.adapter.select.fetchrow" name="zend.db.adapter.select.fetchrow"><div class="info"><h1 class="title">Holen einer einzelnen Zeile eines Ergebnisssatzes</h1></div>
            

            <p class="para">
                Die  <span class="methodname">fetchRow()</span> Methode gibt Daten entsprechend dem
                fetch-Modus zurück, jedoch nur die erste Zeile des Ergebnisssatzes.
            </p>

            <div class="example"><div class="info"><p><b>Example #15 Nutzung von fetchRow()</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$db</span>-&gt;<span style="color: #006600;">setFetchMode</span><span style="color: #66cc66;">&#40;</span>Zend_Db::<span style="color: #006600;">FETCH_OBJ</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$result</span> = <span style="color: #0000ff;">$db</span>-&gt;<span style="color: #006600;">fetchRow</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'SELECT * FROM bugs WHERE bug_id = 2'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Beachte das $result ein einzelnes Objekt ist, und kein Array von Objekten</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #0000ff;">$result</span>-&gt;<span style="color: #006600;">bug_description</span>;</div></li></ol></div></div></div>

            </div>
        </div>

        <div class="section" id="zend.db.adapter.select.fetchone" name="zend.db.adapter.select.fetchone"><div class="info"><h1 class="title">Holen eines einzelnen Scalars aus einem Ergebnisssatz</h1></div>
            

            <p class="para">
                Die  <span class="methodname">fetchOne()</span> Methode ist wie eine Kombination von
                 <span class="methodname">fetchRow()</span> mit  <span class="methodname">fetchCol()</span>, gibt
                also nur die erste Zeile des Ergebnisssatze zurück, und von dieser auch nur den
                Wert der ersten Spalte. Daher wird nur ein einziger scalarer Wert zurückgegeben,
                kein Array und auch kein Objekt.
            </p>

            <div class="example"><div class="info"><p><b>Example #16 Nutzung von fetchOne()</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$result</span> = <span style="color: #0000ff;">$db</span>-&gt;<span style="color: #006600;">fetchOne</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'SELECT bug_status FROM bugs WHERE bug_id = 2'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// this is a single string value</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #0000ff;">$result</span>;</div></li></ol></div></div></div>

            </div>
        </div>
    </div>

    <div class="section" id="zend.db.adapter.write" name="zend.db.adapter.write"><div class="info"><h1 class="title">Schreiben von Änderungen in die Datenbank</h1></div>
        

        <p class="para">
            Die Adapterklasse kann verwendet werden um neue Daten in die Datenbank zu schreiben oder
            bestehende Daten in der Datenbank zu ändern. Dieser Abschnitt beschreibt Methoden für
            diese Operationen.
        </p>

        <div class="section" id="zend.db.adapter.write.insert" name="zend.db.adapter.write.insert"><div class="info"><h1 class="title">Einfügen von Daten</h1></div>
            

            <p class="para">
                Neue Zeilen können in die Datenbank mit der  <span class="methodname">insert()</span>
                Methode eingefügt werden. Das erste Argument ist ein String der die Tabelle
                benennt, und das zweite Argument ist ein assoziatives Array das den Spaltennamen
                Datenwerte zuordnet.
            </p>

            <div class="example"><div class="info"><p><b>Example #17 Einfügen in eine Tabelle</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$data</span> = <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'created_on'</span>&nbsp; &nbsp; &nbsp; =&gt; <span style="color: #ff0000;">'2007-03-22'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'bug_description'</span> =&gt; <span style="color: #ff0000;">'Etwas falsch'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'bug_status'</span>&nbsp; &nbsp; &nbsp; =&gt; <span style="color: #ff0000;">'NEW'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$db</span>-&gt;<span style="color: #006600;">insert</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'bugs'</span>, <span style="color: #0000ff;">$data</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

            </div>

            <p class="para">
                Spalten die nicht in dem Array definiert sind, werden nicht an die Datenbank
                übergeben. Daher folgen sie den selben Regeln denen eine <acronym class="acronym">SQL</acronym>
                <acronym class="acronym">INSERT</acronym> Anweisung folgt: wenn die Spalte eine
                <acronym class="acronym">DEFAULT</acronym> Klausel hat, so bekommt die Spalte der neuen Zeile diesen
                Wert. Andernfalls behält sie den Status <b><tt>NULL</tt></b>.
            </p>

            <p class="para">
                Standardmäßig werden die Daten in dem Array mit Parametern eingefügt. Dies reduziert
                das Risiko einiger Typen von Sicherheitsproblemen. Die Werte in dem Array müssen
                daher nicht escaped oder quotiert übergeben werden.
            </p>

            <p class="para">
                Einige Werte in dem Array könnten als <acronym class="acronym">SQL</acronym> Expressions benötigt
                werden, in diesem Fall dürfen sie nicht in Anführungszeichen stehen. Standardmäßig
                werden alle übergebenen String-Werte als String-literale behandelt. Um anzugeben das
                ein Wert eine <acronym class="acronym">SQL</acronym> Expression ist, und daher nicht quotiert werden
                soll, muss der Wert als ein Objekt des Typs <span class="classname">Zend_Db_Expr</span>
                übergeben werden, und nicht als einfacher String.
            </p>

            <div class="example"><div class="info"><p><b>Example #18 Einfügen von Expressions in eine Tabelle</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$data</span> = <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'created_on'</span>&nbsp; &nbsp; &nbsp; =&gt; <span style="color: #000000; font-weight: bold;">new</span> Zend_Db_Expr<span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'CURDATE()'</span><span style="color: #66cc66;">&#41;</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'bug_description'</span> =&gt; <span style="color: #ff0000;">'Etwas falsch'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'bug_status'</span>&nbsp; &nbsp; &nbsp; =&gt; <span style="color: #ff0000;">'NEW'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$db</span>-&gt;<span style="color: #006600;">insert</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'bugs'</span>, <span style="color: #0000ff;">$data</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

            </div>
        </div>

        <div class="section" id="zend.db.adapter.write.lastinsertid" name="zend.db.adapter.write.lastinsertid"><div class="info"><h1 class="title">Abfragen von generierten Werten</h1></div>
            

            <p class="para">
                Einige <acronym class="acronym">RDBMS</acronym> Marken unterstützen Auto-Incrementierung von
                Primärschlüsseln. Eine Tabelle die so definiert ist generiert automatisch einen
                Primärschlüsselwert während des <acronym class="acronym">INSERT</acronym>&#039;s einer neuen Zeile. Der
                Rückgabewert der  <span class="methodname">insert()</span> Methode ist
                <em class="emphasis">nicht</em> die letzte eingefügte ID, weil die Tabelle keine
                Auto-Increment Spalte haben könnte. Statt dessen ist der Rückgabewert die Anzahl der
                betroffenen Zeilen (normalerweise 1).
            </p>

            <p class="para">
                Wenn die Tabelle mit einem Auto-Increment Primärschlüssel definiert ist, kann die
                 <span class="methodname">lastInsertId()</span> Methode nach dem INSERT aufgerufen werden.
                Diese Methode gibt den letzten generierten Wertim Rahmen der aktuellen
                Datenbankverbindung zurück.
            </p>

            <div class="example"><div class="info"><p><b>Example #19 Nutzung von lastInsertId() für einen Auto-Increment Schlüssel</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$db</span>-&gt;<span style="color: #006600;">insert</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'bugs'</span>, <span style="color: #0000ff;">$data</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Gib den letzten durch eine auto-inkrement Spalte erzeugten Wert zurück</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$id</span> = <span style="color: #0000ff;">$db</span>-&gt;<span style="color: #006600;">lastInsertId</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

            </div>

            <p class="para">
                Einige <acronym class="acronym">RDBMS</acronym> Marken unterstützen ein Sequenz-Objekt, welches
                eindeutige Werte generiert, die als Primärschlüsselwerte dienen. Um Sequenzen zu
                unterstützen, akzeptiert die  <span class="methodname">lastInsertId()</span> Method zwei
                optionale String Argumente. Diese Argumente benennen die Tabelle und die Spalte, in
                der Annahme das die Konvention beachtet wurde, dass eine Sequenz mit der Tabelle und
                der Spalte benannt wurde, für die sie Werte generiert plus dem Anhang &quot;_seq&quot;. Dies
                basiert auf der Konvention die von PostgreSQL verwendet wird, wenn Sequenzen für
                <acronym class="acronym">SERIAL</acronym> Spalten benannt werden. Zum Beispiel würde eine Tabelle
                &quot;bugs&quot; mit der Primärschlüsselspalte &quot;bug_id&quot; eine Sequenz als &quot;bugs_bug_id_seq&quot;
                benennen.
            </p>

            <div class="example"><div class="info"><p><b>Example #20 Nutzung von lastInsertId() für eine Sequenz</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$db</span>-&gt;<span style="color: #006600;">insert</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'bugs'</span>, <span style="color: #0000ff;">$data</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Gib den letzten durch die 'bugs_bug_id_seq' Sequenz erstellten Wert zurück</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$id</span> = <span style="color: #0000ff;">$db</span>-&gt;<span style="color: #006600;">lastInsertId</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'bugs'</span>, <span style="color: #ff0000;">'bug_id'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Gib, alternativ, den letzten durch die 'bugs_seq' Sequenz</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// erstellten Wert zurück</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$id</span> = <span style="color: #0000ff;">$db</span>-&gt;<span style="color: #006600;">lastInsertId</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'bugs'</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

            </div>

            <p class="para">
                Wenn der Name des Squenz-Objekts nicht dieser Konvention folgt muss die
                 <span class="methodname">lastSequenceId()</span> Methode an Stelle verwendet werden. Diese
                Methode benötigt ein String Argument, welches die Sequenz wörtlich benennt.
            </p>

            <div class="example"><div class="info"><p><b>Example #21 Nutzung von lastSequenceId()</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$db</span>-&gt;<span style="color: #006600;">insert</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'bugs'</span>, <span style="color: #0000ff;">$data</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Gib den letzten durch die 'bugs_id_gen' Sequenz erstellten Wert zurück.</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$id</span> = <span style="color: #0000ff;">$db</span>-&gt;<span style="color: #006600;">lastSequenceId</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'bugs_id_gen'</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

            </div>

            <p class="para">
                Bei <acronym class="acronym">RDBMS</acronym> Marken die keine Sequenzen unterstützen, dazu gehören
                MySQL, Microsoft <acronym class="acronym">SQL</acronym> Server und SQLite, werden die Argumente an
                die  <span class="methodname">lastInsertId()</span> Methode ignoriert, und der zurück
                gegebene Wert ist der zuletzt für eirgendeine Tabelle während einer
                <acronym class="acronym">INSERT</acronym> Operation generierte Wert innerhalb der aktuellen
                Verbindung. Für diese <acronym class="acronym">RDBMS</acronym> Marken gibt die
                 <span class="methodname">lastSequenceId()</span> Methode immer <b><tt>NULL</tt></b>
                zurück.
            </p>

            <blockquote><p><b class="note">Note</b>: <span class="info"><b>Weshalb sollte man nicht &quot;SELECT MAX(id) FROM table&quot; verwenden?</b><br /></span>
                

                
                    Manchmal gibt diese Anfrage den zuletzt eingefügten Primärschlüsselwert zurück.
                    Trotzdem ist diese Technik in einer Umgebung in der mehrere Clients Daten in die
                    Datenbank einfügen nicht sicher. Es ist möglich, und daher vorherbestimmt
                    eventuell aufzutreten, das ein anderer Client in dem Augenblick zwischen dem
                    INSERT deiner Client Anwendung und deiner Anfrage für den
                     <span class="methodname">MAX(id)</span> Wert, eine andere Zeile einfügt. Somit
                    identifiziert der zurück gegebene Wert nicht die von dir eingefügte Zeile,
                    sondern die eines anderen Clients. Man kann nie wissen wann dies passiert.
                <br />

                
                    Das Nutzen eines starken Transaktions Isolationsmodus wie &quot;repeatable read&quot; kann
                    das Risiko mindern, aber einige <acronym class="acronym">RDBMS</acronym> Marken unterstützen
                    nicht die Transaktions Isolation die hierfür benötigt wird, oder deine
                    Applikation könnte einen schwächeren Transaktions Isolationsmodus nutzen.
                <br />

                
                    Darüberhinaus ist das Nutzen eins Ausdrucks wie &quot;<strong class="command">MAX(id)+1</strong>&quot;
                    um einen neuen Wert für den Primärschlüssel zu generiern nict sicher, weil zwei
                    Clients diese Anfrage gleichzeitig ausführen könnten und damit beide den
                    gleichen Wert für ihre nächste <acronym class="acronym">INSERT</acronym> Operation bekommen
                    würden.
                <br />

                
                    Alle <acronym class="acronym">RDBMS</acronym> Marken bieten einen Mechanismus um eindeutige
                    Werte zu generieren, und um den zuletzt generierten Wert zurück zu geben. Diese
                    Machanismen funktionieren notwendigerweise außerhalb des Gültigkeitsbereichs
                    einer Transaktions Isolation, es besteht daher nicht die Möglichkeit das zwei
                    Clients den selben Wert generieren und es besteht nicht die Möglichkeit das der
                    Wert, der von einem anderen Client generiert wurde, an die Verbindung deines
                    Clients, als letzter generierter Wert, gesendet wird.
                <br />
            </p></blockquote>
        </div>

        <div class="section" id="zend.db.adapter.write.update" name="zend.db.adapter.write.update"><div class="info"><h1 class="title">Aktualisieren von Daten</h1></div>
            

            <p class="para">
                Zeilen in der Datenbank können mit der  <span class="methodname">update()</span> Methode
                eines Adapters aktualisiert werden. Diese Methode benötigt drei Argumente: Das
                Erste ist der Name der Tabelle und das Zweite ist ein assoziatives Array das den zu
                Ändernden Spalten neue Werte zuordnet.
            </p>

            <p class="para">
                Die Werte des Datenarrays werden als String Literale behandelt. Beachte
                <a href="zend.db.adapter.html#zend.db.adapter.write.insert" class="link">diesen Abschnitt</a> für
                Informationen zur Nutzung von <acronym class="acronym">SQL</acronym> Expressions in dem Datenarray.
            </p>

            <p class="para">
                Das dritte Argument ist ein String der aus einer <acronym class="acronym">SQL</acronym> Expression
                besteht, die genutzt wird um Kriterien für die Auswahl der zu ändernden Zeilen zu
                bestimmen. Die Werte und Bezeichner in diesem Argument werden nicht escaped oder
                quotiert. An dieser Stelle muss darauf geachtet werden das sichergestellt ist, das
                dynamischer Inhalt sicher in diesen String eingefügt wird. In
                <a href="zend.db.adapter.html#zend.db.adapter.quoting" class="link">diesem Abschnitt</a> sind Methoden
                beschrieben die dabei helfen können.
            </p>

            <p class="para">
                Der Rückgabewert ist die Anzahl der Betroffenen Zeilen der UPDATE Operation.
            </p>

            <div class="example"><div class="info"><p><b>Example #22 Aktualisieren von Zeilen</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$data</span> = <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'updated_on'</span>&nbsp; &nbsp; &nbsp; =&gt; <span style="color: #ff0000;">'2007-03-23'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'bug_status'</span>&nbsp; &nbsp; &nbsp; =&gt; <span style="color: #ff0000;">'FIXED'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$n</span> = <span style="color: #0000ff;">$db</span>-&gt;<span style="color: #006600;">update</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'bugs'</span>, <span style="color: #0000ff;">$data</span>, <span style="color: #ff0000;">'bug_id = 2'</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

            </div>

            <p class="para">
                Wenn das dritte Argument ausgelassen wird, werden alle Zeilen der Tabelle mit den
                Werten des Datenarrays aktualisiert.
            </p>

            <p class="para">
                Wenn ein Array mit Strings als drittes Argument übergeben wird, werden diese
                Strings als eine Expression von Ausdrücken, getrennt von <b><tt>AND</tt></b>
                Operatoren, zusammengefügt.
            </p>

            <p class="para">
                Wenn man ein Array von Arrays als drittes Argument anbietet, werden die Werte
                automatisch in die Schlüssel eingefügt. Diese werden dann zusammen zu Ausdrücken
                verbunden, getrennt von <b><tt>AND</tt></b> Operatoren.
            </p>

            <div class="example"><div class="info"><p><b>Example #23 Aktualisieren von Zeilen unter Nutzung eines Arrays von Expressions</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$data</span> = <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'updated_on'</span>&nbsp; &nbsp; &nbsp; =&gt; <span style="color: #ff0000;">'2007-03-23'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'bug_status'</span>&nbsp; &nbsp; &nbsp; =&gt; <span style="color: #ff0000;">'FIXED'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$where</span><span style="color: #66cc66;">&#91;</span><span style="color: #66cc66;">&#93;</span> = <span style="color: #ff0000;">&quot;reported_by = 'goofy'&quot;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$where</span><span style="color: #66cc66;">&#91;</span><span style="color: #66cc66;">&#93;</span> = <span style="color: #ff0000;">&quot;bug_status = 'OPEN'&quot;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$n</span> = <span style="color: #0000ff;">$db</span>-&gt;<span style="color: #006600;">update</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'bugs'</span>, <span style="color: #0000ff;">$data</span>, <span style="color: #0000ff;">$where</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Der erstellte SQL Syntax ist:</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">//&nbsp; UPDATE &quot;bugs&quot; SET &quot;update_on&quot; = '2007-03-23', &quot;bug_status&quot; = 'FIXED'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">//&nbsp; WHERE (&quot;reported_by&quot; = 'goofy') AND (&quot;bug_status&quot; = 'OPEN')</span></div></li></ol></div></div></div>

            </div>

            <div class="example"><div class="info"><p><b>Example #24 Zeilen aktualisieren durch Verwendung von einem Array von Arrays</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$data</span> = <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'updated_on'</span>&nbsp; &nbsp; &nbsp; =&gt; <span style="color: #ff0000;">'2007-03-23'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'bug_status'</span>&nbsp; &nbsp; &nbsp; =&gt; <span style="color: #ff0000;">'FIXED'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$where</span><span style="color: #66cc66;">&#91;</span><span style="color: #ff0000;">'reported_by = ?'</span><span style="color: #66cc66;">&#93;</span> = <span style="color: #ff0000;">'goofy'</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$where</span><span style="color: #66cc66;">&#91;</span><span style="color: #ff0000;">'bug_status = ?'</span><span style="color: #66cc66;">&#93;</span>&nbsp; = <span style="color: #ff0000;">'OPEN'</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$n</span> = <span style="color: #0000ff;">$db</span>-&gt;<span style="color: #006600;">update</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'bugs'</span>, <span style="color: #0000ff;">$data</span>, <span style="color: #0000ff;">$where</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Das resultierende SQL ist:</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">//&nbsp; UPDATE &quot;bugs&quot; SET &quot;update_on&quot; = '2007-03-23', &quot;bug_status&quot; = 'FIXED'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">//&nbsp; WHERE (&quot;reported_by&quot; = 'goofy') AND (&quot;bug_status&quot; = 'OPEN')</span></div></li></ol></div></div></div>

            </div>
        </div>

        <div class="section" id="zend.db.adapter.write.delete" name="zend.db.adapter.write.delete"><div class="info"><h1 class="title">Löschen von Daten</h1></div>
            

            <p class="para">
                Daten können aus einer Datenbanktabelle mit der  <span class="methodname">delete()</span>
                Methode gelöscht werden. Diese Methode benötigt zwei Argumente: Das erste ist ein
                String der die Tabelle benennt.
            </p>

            <p class="para">
                Das zweite Argument ist ein String der aus einer <acronym class="acronym">SQL</acronym> Expression
                besteht, welche Kriterien für die zu löschenden Zeilen enthält. Die Werte und
                Bezeichner in diesem Argument werden nicht escaped quotiert. An dieser Stelle muss
                darauf geachtet werden das sichergestellt ist, das dynamischer Inhalt sicher in
                diesen String eingefügt wird. In <a href="zend.db.adapter.html#zend.db.adapter.quoting" class="link">diesem
                    Abschnitt</a> sind Methoden beschrieben die dabei helfen können.
            </p>

            <p class="para">
                Der Rückgabewert ist die Anzahl der Betroffenen Zeilen der DELETE Operation.
            </p>

            <div class="example"><div class="info"><p><b>Example #25 Löschen von Zeilen</b></p></div>
                
                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$n</span> = <span style="color: #0000ff;">$db</span>-&gt;<span style="color: #006600;">delete</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'bugs'</span>, <span style="color: #ff0000;">'bug_id = 3'</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

            </div>

            <p class="para">
                Wenn das zweite Argument ausgelassen wird, werden alle Zeilen der Tabelle gelöscht.
            </p>

            <p class="para">
                Wenn ein Array mit Strings als zweites Argument übergeben wird, werden diese
                Strings als eine Expression von Ausdrücken, getrennt von <b><tt>AND</tt></b>
                Operatoren, zusammengefügt.
            </p>

            <p class="para">
                Wenn man ein Array von Arrays als zweites Argument übergibt, werden die Werte
                automatisch in die Schlüssel eingefügt. Diese werden dann zusammen zu Ausdrücken
                verbunden, getrennt durch <b><tt>AND</tt></b> Operatoren.
            </p>
        </div>
    </div>

    <div class="section" id="zend.db.adapter.quoting" name="zend.db.adapter.quoting"><div class="info"><h1 class="title">Quotierung von Werten und Bezeichnern</h1></div>
        

        <p class="para">
            Beim Erzeugen von <acronym class="acronym">SQL</acronym> Anfragen ist es häufig nötig
            <acronym class="acronym">PHP</acronym> Variablen in die <acronym class="acronym">SQL</acronym> Expression einzufügen.
            Dies ist riskant, weil der Wert eines <acronym class="acronym">PHP</acronym> Strings bestimmte Zeichen
            enthalten kann, wie das Anführungszeichen, was zu ungültiger <acronym class="acronym">SQL</acronym>
            Syntax führen kann. Zum Beispiel, zu beachten ist die ungerade Anzahl der
            Anführungszeichen in der folgenden Anfrage:
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$name</span> = <span style="color: #ff0000;">&quot;O'Reilly&quot;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$sql</span> = <span style="color: #ff0000;">&quot;SELECT * FROM bugs WHERE reported_by = '$name'&quot;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #0000ff;">$sql</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// SELECT * FROM bugs WHERE reported_by = 'O'Reilly'</span></div></li></ol></div></div></div>


        <p class="para">
            Noch schlimmer ist das Risiko, dass solche Code-Fehler von einer Person absichtlich
            ausgenutzt werden um die Funktion der Webanwendung zu manipulieren. Wenn der Wert einer
            <acronym class="acronym">PHP</acronym> Variablen über die Nutzung von <acronym class="acronym">HTTP</acronym> Parametern
            oder eines anderen Mechanismus gesetzt werden kann, könnte eine Person die
            <acronym class="acronym">SQL</acronym> Anfragen nutzen um Dinge zu tun, wozu sie nicht gedacht sind, wie
            Daten ausgeben, wozu die Person keine Zugangsberechtigung hat. Dies ist eine ernst zu
            nehmende und weit verbreitete Technik um die Sicherheit einer Anwendung zu verletzen,
            bekannt unter dem Namen &quot;SQL Injection&quot; (siehe <a href="http://en.wikipedia.org/wiki/SQL_Injection" class="link external">&raquo; http://en.wikipedia.org/wiki/SQL_Injection</a>).
        </p>

        <p class="para">
            Die <span class="classname">Zend_Db</span> Adapterklassen bieten bequeme Methoden, die helfen
            die Verletzbarkeit durch <acronym class="acronym">SQL</acronym> Injection Angriffe im
            <acronym class="acronym">PHP</acronym> Code zu reduzieren. Die Lösung ist bestimmte Zeichen, wie
            Anführungszeichen, in <acronym class="acronym">PHP</acronym> Werten zu ersetzen bevor sie in
            <acronym class="acronym">SQL</acronym> Strings eingefügt werden. Dies schützt sowohl vor versehentlicher
            als auch vor absichtlicher Manipulation von <acronym class="acronym">SQL</acronym> Strings durch
            <acronym class="acronym">PHP</acronym> Variablen, die spezielle Zeichen enthalten.
        </p>

        <div class="section" id="zend.db.adapter.quoting.quote" name="zend.db.adapter.quoting.quote"><div class="info"><h1 class="title">Nutzung von quote()</h1></div>
            

            <p class="para">
                Die  <span class="methodname">quote()</span> Methode benötigt ein Argument, einen skalaren
                String Wert. Sie gibt den Wert mit ersetzten speziellen Zeichen, passend zu dem
                eingesetzten <acronym class="acronym">RDBMS</acronym>, und umgeben von Stringwertbegrenzern zurück.
                Der Standard <acronym class="acronym">SQL</acronym> Stringwertbegrenzer ist das einfache
                Anführungszeichen (&#039;).
            </p>

            <div class="example"><div class="info"><p><b>Example #26 Nutzung von quote()</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$name</span> = <span style="color: #0000ff;">$db</span>-&gt;<span style="color: #006600;">quote</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">&quot;O'Reilly&quot;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #0000ff;">$name</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// 'O\'Reilly'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$sql</span> = <span style="color: #ff0000;">&quot;SELECT * FROM bugs WHERE reported_by = $name&quot;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #0000ff;">$sql</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// SELECT * FROM bugs WHERE reported_by = 'O\'Reilly'</span></div></li></ol></div></div></div>

            </div>

            <p class="para">
                Zu beachten ist, dass der Rückgabewert von  <span class="methodname">quote()</span> die
                Stringwertbegrenzer enthält. Dies ist ein Unterschied zu anderen Methoden die
                spezielle Zeichen ersetzen, aber keine Stringwertbegrenzer hinzufügen, wie z.B.
                <a href="http://www.php.net/mysqli_real_escape_string" class="link external">&raquo; mysql_real_escape_string()</a>.
            </p>

            <p class="para">
                Es kann notwendig sein Werte in Anführungszeichen zu setzen oder nicht je nach dem
                Kontext des <acronym class="acronym">SQL</acronym> Datentyps in dem diese verwendet werden. Zum
                Beispiel darf, in einigen <acronym class="acronym">RDBMS</acronym> Typen, ein Integer Wert nicht wie
                in String in Anführungszeichen gesetzt werden, wenn dieser mit einer Integer-Typ
                Spalte oder einem Ausdruck verglichen wird. Anders gesagt ist das folgende in
                einigen <acronym class="acronym">SQL</acronym> Implementationen ein Fehler, wenn angenommen wird
                dass <span class="property">intColumn</span> einen <acronym class="acronym">SQL</acronym> Datentyp von
                <b><tt>INTEGER</tt></b> besitzt
            </p>

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">SELECT * FROM atable WHERE intColumn = <span style="color: #ff0000;">'123'</span></div></li></ol></div></div></div>


            <p class="para">
                Es kann das optionale zweite Argument der  <span class="methodname">quote()</span> Methode
                verwendet werden um die Verwendung von Anführungszeichen selektiv für den
                spezifizierten <acronym class="acronym">SQL</acronym> Datentyp auszuwählen.
            </p>

            <div class="example"><div class="info"><p><b>Example #27 Verwenden von quote() mit einem SQL Typ</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$value</span> = <span style="color: #ff0000;">'1234'</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$sql</span> = <span style="color: #ff0000;">'SELECT * FROM atable WHERE intColumn = '</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp;. <span style="color: #0000ff;">$db</span>-&gt;<span style="color: #006600;">quote</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$value</span>, <span style="color: #ff0000;">'INTEGER'</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

            </div>

            <p class="para">
                Jede <span class="classname">Zend_Db_Adapter</span> Klasse hat den Namen des nummerischen
                <acronym class="acronym">SQL</acronym> Datentyps für die respektive Marke von
                <acronym class="acronym">RDBMS</acronym> codiert. Man kann genauso die Konstanten
                <b><tt>Zend_Db::INT_TYPE</tt></b>,
                <b><tt>Zend_Db::BIGINT_TYPE</tt></b>, und
                <b><tt>Zend_Db::FLOAT_TYPE</tt></b> verwenden um Code in einem mehr
                <acronym class="acronym">RDBMS</acronym>-unabhängigen Weg zu schreiben.
            </p>

            <p class="para">
                <span class="classname">Zend_Db_Table</span> definiert <acronym class="acronym">SQL</acronym> Typen zu
                 <span class="methodname">quote()</span> automatisch wenn <acronym class="acronym">SQL</acronym> Abfragen
                erstellt werden die einer Tabellen Schlüssel Spalte entsprechen.
            </p>
        </div>

        <div class="section" id="zend.db.adapter.quoting.quote-into" name="zend.db.adapter.quoting.quote-into"><div class="info"><h1 class="title">Nutzung von quoteInto()</h1></div>
            

            <p class="para">
                Die typischste Anwendung von Quotierung ist das Einfügen von <acronym class="acronym">PHP</acronym>
                Variablen in eine <acronym class="acronym">SQL</acronym> Expression oder Anweisung. Die
                 <span class="methodname">quoteInto()</span> Methode kann verwendet werden um dies in einem
                Schritt zu erledigen. Die Methode benötigt zwei Argumente: Das erste Argument ist
                ein String der ein Platzhaltersymbol (?) enthält, und das zweite
                Argument ist ein Wert oder eine <acronym class="acronym">PHP</acronym> Variable die den Platzhalter
                ersetzen soll.
            </p>

            <p class="para">
                Das Platzhaltersymbol ist das gleiche Symbol wie es von vielen
                <acronym class="acronym">RDBMS</acronym> Marken für Lage betreffende Parameter verwendet wird, aber
                die  <span class="methodname">quoteInto()</span> Methode bildet nur Abfrageparameter nach.
                Die Methode fügt den Wert in den String ein, ersetzt dabei spezielle
                Zeichen und fügt Stringwertbegrenzer ein. Echte Abfrageparameter sorgen für eine
                Trennung von <acronym class="acronym">SQL</acronym> String und Parametern wenn die Anweisung vom
                <acronym class="acronym">RDBMS</acronym> Server verarbeitet wird.
            </p>

            <div class="example"><div class="info"><p><b>Example #28 Nutzung von quoteInto()</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$sql</span> = <span style="color: #0000ff;">$db</span>-&gt;<span style="color: #006600;">quoteInto</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">&quot;SELECT * FROM bugs WHERE reported_by = ?&quot;</span>, <span style="color: #ff0000;">&quot;O'Reilly&quot;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #0000ff;">$sql</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// SELECT * FROM bugs WHERE reported_by = 'O\'Reilly'</span></div></li></ol></div></div></div>

            </div>

            <p class="para">
                Man kann den optionalen dritten Parameter von  <span class="methodname">quoteInto()</span>
                verwenden um den <acronym class="acronym">SQL</acronym> Datentyp zu spezifizieren. Nummerische
                Datentypen werden nicht in Anführungszeichen gesetzt und andere Typen werden in
                Anführungszeichen gesetzt.
            </p>

            <div class="example"><div class="info"><p><b>Example #29 Verwenden von quoteInto() mit einem SQL Typ</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$sql</span> = <span style="color: #0000ff;">$db</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; -&gt;<span style="color: #006600;">quoteInto</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">&quot;SELECT * FROM bugs WHERE bug_id = ?&quot;</span>, <span style="color: #ff0000;">'1234'</span>, <span style="color: #ff0000;">'INTEGER'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #0000ff;">$sql</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// SELECT * FROM bugs WHERE reported_by = 1234</span></div></li></ol></div></div></div>

            </div>
        </div>

        <div class="section" id="zend.db.adapter.quoting.quote-identifier" name="zend.db.adapter.quoting.quote-identifier"><div class="info"><h1 class="title">Nutzung von quoteIdentifier()</h1></div>
            

            <p class="para">
                Werte könnten nicht der einzige Teil der <acronym class="acronym">SQL</acronym> Syntax sein, der
                Variabel sein soll. Wenn <acronym class="acronym">PHP</acronym> Variablen genutzt werden um
                Tabellen, Spalten oder andere Bezeichner in den <acronym class="acronym">SQL</acronym> Anweisungen
                zu benennen, könnte es nötig sein das diese Strings ebenfalls quotiert werden
                müssen. Standardmäßig haben <acronym class="acronym">SQL</acronym> Bezeichner Syntaxregeln wie
                <acronym class="acronym">PHP</acronym> und die meißten anderen Programmiersprachen. Zum Beispiel
                dürfen Bezeichner keine Leerzeichen, bestimmte Punktierung, spezielle Zeichen oder
                Internationale Zeichen enthalten. Außerdem sind bestimmte Wörter für die
                <acronym class="acronym">SQL</acronym> Syntax reserviert und dürfen nicht als Bezeichner verwendet
                werden.
            </p>

            <p class="para">
                Dennoch hat <acronym class="acronym">SQL</acronym> ein Feature mit Namen
                <em class="emphasis">delimited identifiers (begrenzte Bezeichner)</em>, welches eine
                größere Auswahl bei der Schreibweise von Bezeichnern erlaubt. Wenn ein
                <acronym class="acronym">SQL</acronym> Bezeichner mit dem richtigen Typ von´ Quotierung
                eingeschlossen ist, können Schreibweisen für die Bezeichner verwendet werden, die
                ohne der Quotierung ungültig wären. Begrenzte Bezeichner können Leerzeichen,
                Punktierung oder internationale Zeichen enthalten. Desweiteren dürfen auch von der
                <acronym class="acronym">SQL</acronym> Syntax reservierte Wörter verwendet werden, wenn sie von
                Bezeichner Begrenzungszeichen eingeschlossen sind.
            </p>

            <p class="para">
                Die  <span class="methodname">quoteIdentifier()</span> Methode funktioniert wie
                 <span class="methodname">quote()</span>, aber sie wendet die Bezeichner Begrenzungszeichen
                entsprechend dem verwendeten Adapter an. Zum Beispiel nutzt Standard
                <acronym class="acronym">SQL</acronym> doppelte Anführungszeichen (&quot;) zum begrenzen von
                Bezeichnern und die meisten der <acronym class="acronym">RDBMS</acronym> Marken nutzen ebenfalls
                dieses Symbol. MySQL hingegen benutzt back-quotes (`) als
                Standardzeichen. Die  <span class="methodname">quoteIdentifier()</span> Methode ersetzt
                außerdem spezielle Zeichen im String Argument.
            </p>

            <div class="example"><div class="info"><p><b>Example #30 Nutzung von quoteIdentifier()</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Wir könnten einen Tabellennamen haben, der ein in SQL reserviertes Wort ist</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$tableName</span> = <span style="color: #0000ff;">$db</span>-&gt;<span style="color: #006600;">quoteIdentifier</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">&quot;order&quot;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$sql</span> = <span style="color: #ff0000;">&quot;SELECT * FROM $tableName&quot;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #0000ff;">$sql</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// SELECT * FROM &quot;order&quot;</span></div></li></ol></div></div></div>

            </div>

            <p class="para">
                <acronym class="acronym">SQL</acronym> begrenzte Bezeichner beachten die Groß- und Kleinschreibung,
                im Gegensatz zu nicht quotierten Bezeichnern. Daher muss, bei Verwendung von
                begrenztern Bezeichnern, die Schreibung der Bezeichner genau der Schreibung der
                Bezeichner im Tabellenschema entsprechen. Einschließlich der Groß- und
                Kleinschreibung.
            </p>

            <p class="para">
                In den meisten Fällen wo <acronym class="acronym">SQL</acronym> innerhalb der
                <span class="classname">Zend_Db</span> Klassen generiert wird, werden standardmäßig alle
                Bezeichner automatisch begrenzt. Dieses Verhalten kann mit der Option
                <b><tt>Zend_Db::AUTO_QUOTE_IDENTIFIERS</tt></b> geändert werden. Dies muss
                beim Instanziieren des Adapters wie in <a href="zend.db.adapter.html#zend.db.adapter.connecting.parameters.example2" class="link">diesem Beispiel</a>
                angegeben werden.
            </p>
        </div>
    </div>

    <div class="section" id="zend.db.adapter.transactions" name="zend.db.adapter.transactions"><div class="info"><h1 class="title">Kontrollieren von Datenbank Transaktionen</h1></div>
        

        <p class="para">
            Datenbanken definieren Transaktionen als logische Einheiten von Arbeit, die als einzelne
            Änderung übergeben oder rückgängig gemacht werden kann, selbst wenn sie auf
            verschiedenen Tabellen operiert. Alle Anfragen an einen Datenbank werden im Kontext
            einer Transaktion ausgeführt, selbst wenn der Datenbanktreiber sie implizit Verwaltet.
            Es wird <em class="emphasis">auto-commit</em> Modus genannt, wenn der Datenbanktreiber eine
            Transaktion für jede Anweisung erzeugt, und diese direkt nach dem Ausführen des
            <acronym class="acronym">SQL</acronym> Statements übergibt. Standardmäßig operieren alle
            <span class="classname">Zend_Db</span> Adapterklassen im auto-commit Modus.
        </p>

        <p class="para">
            Alternativ kann der Begin und das Ergebnis einer Transaktion selbst spezifiziert
            werden, und damit kann kontrolliert werden wieviele <acronym class="acronym">SQL</acronym> Anfragen in
            einer Gruppe enthalten sind, die entweder übergeben oder rückgängig gemacht wird, als
            eine einzelne Operation. Um eine Transaktion zu initiieren wird die
             <span class="methodname">beginTransaction()</span> Methode verwendet. Anschließend folgende
            <acronym class="acronym">SQL</acronym> Anweisungen werden im Kontext der selben Transaktion ausgeführt
            bis sie explizit aufgelöst wird.
        </p>

        <p class="para">
            Um eine Transaktion aufzulösen wird entweder die  <span class="methodname">commit()</span> oder
            die  <span class="methodname">rollBack()</span> Methode verwendet. Die
             <span class="methodname">commit()</span> Methode markiert die Änderungen die während der
            Transaktionen durchgeführt wurden als übergeben, was bedeutet das die Effekte dieser
            Änderungen in anderen Transaktionen angezeigt werden.
        </p>

        <p class="para">
            Die  <span class="methodname">rollBack()</span> Methode tut das Gegenteil: sie verwirft die
            Änderungen die während der Transaktionen durchgeführt wurden. Die Änderungen werden
            gewissermaßen ungeschehen gemacht, der Status der Daten ändert sich zurück auf jenen
            wie sie vor Beginn der Transaktion waren. Allerdings hat das rückgängig machen keinen
            Einfluss auf Änderungen die von anderen, gleichzeitig laufenden Transaktionen
            verursacht wurden.
        </p>

        <p class="para">
            Nach dem Auflösen der Transaktion befindet sich der
            <span class="classname">Zend_Db_Adapter</span> wieder im auto-commit Modus, bis
             <span class="methodname">beginTransaction()</span> wieder aufgerufen wird.
        </p>

        <div class="example"><div class="info"><p><b>Example #31 Verwalten einer Transaktion um Konsistenz sicher zu stellen</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Eine Transaktion explizit starten</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$db</span>-&gt;<span style="color: #006600;">beginTransaction</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">try <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #808080; font-style: italic;">// Versuchen einen oder mehrere Abfragen auszuführen</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #0000ff;">$db</span>-&gt;<span style="color: #006600;">query</span><span style="color: #66cc66;">&#40;</span>...<span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #0000ff;">$db</span>-&gt;<span style="color: #006600;">query</span><span style="color: #66cc66;">&#40;</span>...<span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #0000ff;">$db</span>-&gt;<span style="color: #006600;">query</span><span style="color: #66cc66;">&#40;</span>...<span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #808080; font-style: italic;">// Wenn alle erfolgreich waren, übertrage die Transaktion</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #808080; font-style: italic;">// und alle Änderungen werden auf einmal übermittelt</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #0000ff;">$db</span>-&gt;<span style="color: #006600;">commit</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span> catch <span style="color: #66cc66;">&#40;</span>Exception <span style="color: #0000ff;">$e</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #808080; font-style: italic;">// Wenn irgendeine der Abfragen fehlgeschlagen ist, wirf eine Ausnahme, wir</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #808080; font-style: italic;">// wollen die komplette Transaktion zurücknehmen, alle durch die</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #808080; font-style: italic;">// Transaktion gemachten Änderungen wieder entfernen, auch die erfolgreichen</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #808080; font-style: italic;">// So werden alle Änderungen auf einmal übermittelt oder keine</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #0000ff;">$db</span>-&gt;<span style="color: #006600;">rollBack</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #0000ff;">$e</span>-&gt;<span style="color: #006600;">getMessage</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li></ol></div></div></div>

        </div>
    </div>

    <div class="section" id="zend.db.adapter.list-describe" name="zend.db.adapter.list-describe"><div class="info"><h1 class="title">Auflistung und Beschreibung von Tabellen</h1></div>
        

        <p class="para">
            Die  <span class="methodname">listTables()</span> Methode gibt ein Array von Strings zurück,
            mit den Namen aller Tabellen in der aktuellen Datenbank.
        </p>

        <p class="para">
            Die  <span class="methodname">describeTable()</span> Methode gibt ein assoziatives Array von
            MetaDaten über die Tabelle zurück. Das erste Argument dieser Methode ist ein String der
            den Namen der Tabelle enthält. Das zweite Argument ist optional und benennt das Schema
            in dem die Tabelle besteht.
        </p>

        <p class="para">
            Die Schlüssel des assoziativen Arrays sind die Spaltennamen der Tabelle. Der zugehörige
            Wert jeder Spalte ist ebenfalls ein assoziatives Array mit den folgenden Schlüsseln und
            Werten:
        </p>

        <table class="doctable table"><div class="info"><caption><b>Metadata Felder die von describeTable() zurückgegeben werden</b></caption></div>
            

            
                <thead valign="middle">
                    <tr valign="middle">
                        <th>Schlüssel</th>
                        <th>Typ</th>
                        <th>Beschreibung</th>
                    </tr>

                </thead>


                <tbody valign="middle" class="tbody">
                    <tr valign="middle">
                        <td align="left"><b><tt>SCHEMA_NAME</tt></b></td>
                        <td align="left">(string)</td>
                        <td align="left">Name des Datenbankschemas in welchem diese Tabelle existiert.</td>
                    </tr>


                    <tr valign="middle">
                        <td align="left"><b><tt>TABLE_NAME</tt></b></td>
                        <td align="left">(string)</td>
                        <td align="left">Name der Tabelle zu welcher diese Spalte gehört.</td>
                    </tr>


                    <tr valign="middle">
                        <td align="left"><b><tt>COLUMN_NAME</tt></b></td>
                        <td align="left">(string)</td>
                        <td align="left">Name der Spalte.</td>
                    </tr>


                    <tr valign="middle">
                        <td align="left"><b><tt>COLUMN_POSITION</tt></b></td>
                        <td align="left">(integer)</td>
                        <td align="left">Ordinale Position der Spalte in der Tabelle.</td>
                    </tr>


                    <tr valign="middle">
                        <td align="left"><b><tt>DATA_TYPE</tt></b></td>
                        <td align="left">(string)</td>
                        <td align="left"><acronym class="acronym">RDBMS</acronym> Name des Datentyps der Spalte.</td>
                    </tr>


                    <tr valign="middle">
                        <td align="left"><b><tt>DEFAULT</tt></b></td>
                        <td align="left">(string)</td>
                        <td align="left">Standardwert der Spalte, wenn angegeben.</td>
                    </tr>


                    <tr valign="middle">
                        <td align="left"><b><tt>NULLABLE</tt></b></td>
                        <td align="left">(boolean)</td>

                        <td align="left">
                            <b><tt>TRUE</tt></b> wenn die Spalte <acronym class="acronym">SQL</acronym>
                            <b><tt>NULL</tt></b> akzeptiert, <b><tt>FALSE</tt></b> wenn
                            die Spalte eine <b><tt>NOT</tt></b> <b><tt>NULL</tt></b>
                            Bedingung hat.
                        </td>
                    </tr>


                    <tr valign="middle">
                        <td align="left"><b><tt>LENGTH</tt></b></td>
                        <td align="left">(integer)</td>

                        <td align="left">
                            Länge oder Größe der Spalte wie vom <acronym class="acronym">RDBMS</acronym> angegeben.
                        </td>
                    </tr>


                    <tr valign="middle">
                        <td align="left"><b><tt>SCALE</tt></b></td>
                        <td align="left">(integer)</td>

                        <td align="left">
                            Scalar vom Typ <acronym class="acronym">SQL</acronym> <b><tt>NUMERIC</tt></b> oder
                            <b><tt>DECIMAL</tt></b>.
                        </td>
                    </tr>


                    <tr valign="middle">
                        <td align="left"><b><tt>PRECISION</tt></b></td>
                        <td align="left">(integer)</td>

                        <td align="left">
                            Präzision des Typs <acronym class="acronym">SQL</acronym> <b><tt>NUMERIC</tt></b>
                            oder <b><tt>DECIMAL</tt></b>.
                        </td>
                    </tr>


                    <tr valign="middle">
                        <td align="left"><b><tt>UNSIGNED</tt></b></td>
                        <td align="left">(boolean)</td>

                        <td align="left">
                            <b><tt>TRUE</tt></b> wenn ein Integer-basierender Typ als
                            <b><tt>UNSIGNED</tt></b> angegeben wird.
                        </td>
                    </tr>


                    <tr valign="middle">
                        <td align="left"><b><tt>PRIMARY</tt></b></td>
                        <td align="left">(boolean)</td>

                        <td align="left">
                            <b><tt>TRUE</tt></b> wenn die Spalte Teil des Primärschlüsssels der
                            Tabelle ist.
                        </td>
                    </tr>


                    <tr valign="middle">
                        <td align="left"><b><tt>PRIMARY_POSITION</tt></b></td>
                        <td align="left">(integer)</td>

                        <td align="left">
                            Ordinale Position (1-basierend) der Spalte des Primärschlüssels.
                        </td>
                    </tr>


                    <tr valign="middle">
                        <td align="left"><b><tt>IDENTITY</tt></b></td>
                        <td align="left">(boolean)</td>

                        <td align="left">
                            <b><tt>TRUE</tt></b> wenn die Spalte einen auto-increment Wert
                            nutzt.
                        </td>
                    </tr>

                </tbody>
            
        </table>


        <blockquote><p><b class="note">Note</b>: <span class="info"><b>Wie das IDENTITY Metadata Feld zu speziellen RDBMS zuzuordnen ist</b><br /></span>
            

            
                Das <b><tt>IDENTITY</tt></b> Metadata Feld wurd gewählt als ein &#039;idiomatischer&#039;
                Ausdruck um eine Relation von Ersatzschlüsseln zu repräsentieren. Dieses Feld ist
                üblicherweise durch die folgenden Werte bekannt:
            <br />

            <ul class="itemizedlist">
                <li class="listitem">
                    <p class="para">
                        <b><tt>IDENTITY</tt></b> - <acronym class="acronym">DB2</acronym>,
                        <acronym class="acronym">MSSQL</acronym>
                    </p>
                </li>

                <li class="listitem"><p class="para"><b><tt>AUTO_INCREMENT</tt></b> - MySQL</p></li>
                <li class="listitem"><p class="para"><b><tt>SERIAL</tt></b> - PostgreSQL</p></li>

                <li class="listitem">
                    <p class="para"><b><tt>SEQUENCE</tt></b> - Oracle</p></li>
                </ul>
        </p></blockquote>

        <p class="para">
            Wenn keine Tabelle mit dem Tabellennamen und dem optional angegebenen Schemanamen
            existiert, gibt  <span class="methodname">describeTable()</span> ein leeres Array zurück.
        </p>
    </div>

    <div class="section" id="zend.db.adapter.closing" name="zend.db.adapter.closing"><div class="info"><h1 class="title">Schließen einer Verbindung</h1></div>
        

        <p class="para">
            Normalerweise ist es nicht nötig eine Datenbankverbindung zu schließen.
            <acronym class="acronym">PHP</acronym> räumt automatisch alle Ressourcen am Ende einer Anfrage auf und
            die Datenbankerweiterungen sind so designed das sie Verbindungen beenden wenn Referenzen
            zu ihren Objekten aufgeräumt werden.
        </p>

        <p class="para">
            Trotzdem könnte es sinnvoll sein, wenn ein lang andauerndes <acronym class="acronym">PHP</acronym>
            Script verwendet wird, das viele Datenbankverbindungen hat, diese zu schließen um zu
            vermeiden das die Kapazität des <acronym class="acronym">RDBMS</acronym> Servers überschritten wird. Die
             <span class="methodname">closeConnection()</span> Methode der Adapterklasse kann verwendet
            werden um die zugrundeliegende Datenbankverbindung explizit zu schließen.
        </p>

        <p class="para">
            Seit Release 1.7.2, kann man prüfen ob man mit der
             <span class="methodname">isConnected()</span> prüfen ob man aktuell mit dem
            <acronym class="acronym">RDBMS</acronym> Server verbunden ist. Das bedeutet das eine Verbindungs
            Ressource initialisiert und nicht geschlossen wurde. Diese Funktion ist aktuell nicht in
            der Lage zu prüfen ob zum Beispiel die Server Seite die Verbindung geschlossen hat. Das
            wird intern verwendet um die Verbindung zu schließen. Das erlaubt es die Verbindung ohne
            Fehler mehrere Male zu schließen. Das war bereits vor 1.7.2 der Fall für
            <acronym class="acronym">PDO</acronym> Adapter, aber nicht für die anderen.
        </p>

        <div class="example"><div class="info"><p><b>Example #32 Schließen einer Datenbankverbindung</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$db</span>-&gt;<span style="color: #006600;">closeConnection</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

        </div>

        <blockquote><p><b class="note">Note</b>: <span class="info"><b>Unterstützt Zend_Db persistente Verbindungen?</b><br /></span>
            

            
                Ja, Persistenz wird durch das Hinzufügen des <span class="property">persistent</span> Flags
                in der Konfiguration (nicht driver_configuration) und dessen Setzen auf
                <b><tt>TRUE</tt></b> bei einem Adapter in <span class="classname">Zend_Db</span>
                unterstützt.
            <br />

            <div class="example"><div class="info"><p><b>Example #33 Verwendung des Persistence Flags mit dem Oracle Adapter</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$db</span> = Zend_Db::<span style="color: #006600;">factory</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Oracle'</span>, <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'host'</span>&nbsp; &nbsp; &nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'127.0.0.1'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'username'</span>&nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'webuser'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'password'</span>&nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'xxxxxxxx'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'dbname'</span>&nbsp; &nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'test'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'persistent'</span> =&gt; <span style="color: #000000; font-weight: bold;">true</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

            </div>

            
                Es ist zu beachten das die Verwendung von persistenten Verbindungen einen Exzess
                an Idle Verbindungen auf dem <acronym class="acronym">RDBMS</acronym> Server verursachen kann, was
                mehr Probleme macht als jeder Performance Gewinn den man durch die Verminderung des
                Overheads eines Verbindungsaufbaues erhalten kann.
            <br />

            
                Datenbankverbindungen haben einen Status. Natürlich existieren einige Objekte auf
                dem <acronym class="acronym">RDBMS</acronym> Server im Gültigkeitsbereich einer Session. Beispiele
                dafür sind locks, user variablen, temporary tables und Informationen über die
                zuletzt ausgeführte Anfrage, sowie betroffene Zeilen und zuletzt generierte ID
                Werte. Wenn persistente Verbindungen genutzt werden könnte die Anwendung Zugriff auf
                ungültige oder privilegierte Daten erlangen, die in einem vorigen
                <acronym class="acronym">PHP</acronym> Request erzeugt wurden.
            <br />

            
                Aktuell unterstützen nur die Oracle, <acronym class="acronym">DB2</acronym> und
                <acronym class="acronym">PDO</acronym> Adapter (wo es von <acronym class="acronym">PHP</acronym> spezifiziert ist)
                Persistenz in <span class="classname">Zend_Db</span>.
            <br />
        </p></blockquote>
    </div>

    <div class="section" id="zend.db.adapter.other-statements" name="zend.db.adapter.other-statements"><div class="info"><h1 class="title">Ausführen anderer Datenbank Anweisungen</h1></div>
        

        <p class="para">
            Es könnte Fälle geben in denen direkter Zugriff auf das Verbindungsobjekt benötigt wird,
            wie es von der <acronym class="acronym">PHP</acronym> Erweiterung bereitgestellt wird. Einige der
            Erweiterungen könnten Features anbieten, welche nicht von Methoden der
            <span class="classname">Zend_Db_Adapter_Abstract</span> Klasse auftauchen..
        </p>

        <p class="para">
            Zum Beispiel werden alle <acronym class="acronym">SQL</acronym> Anweisungen von
            <span class="classname">Zend_Db</span> vorbereitet und dann ausgeführt. Trotzdem gibt es einige
            Features welche nicht kompatibel mit vorbereiteten Anweisungen sind.
            <b><tt>DDL</tt></b> Anweisungen wie <b><tt>CREATE</tt></b> und
            <b><tt>ALTER</tt></b> können in MySQL nicht vorbereitet werden. Auch können
            <acronym class="acronym">SQL</acronym> Anweisungen keinen Nutzen aus dem <a href="http://dev.mysql.com/doc/refman/5.1/en/query-cache-how.html" class="link external">&raquo; MySQL Query
                Cache</a> ziehen, bei einer geringeren MySQL Version als 5.1.17.
        </p>

        <p class="para">
            Die meisten <acronym class="acronym">PHP</acronym> Datenbankerweiterungen bieten eine Methode um
            <acronym class="acronym">SQL</acronym> Anweisung auszuführen ohne diese vorzubereiten. Zum Beispiel
            bietet <acronym class="acronym">PDO</acronym> die Methode  <span class="methodname">exec()</span>. Das
            Verbindungsobjekt der <acronym class="acronym">PHP</acronym> Erweiterung kann kann mit der Methode
             <span class="methodname">getConnection()</span> direkt verwendet werden.
        </p>

        <div class="example"><div class="info"><p><b>Example #34 Ausführen eines nicht-prepared Statements mit einem PDO Adapter</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$result</span> = <span style="color: #0000ff;">$db</span>-&gt;<span style="color: #006600;">getConnection</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>-&gt;<span style="color: #006600;">exec</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'DROP TABLE bugs'</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

        </div>

        <p class="para">
            So ähnlich können auch andere Methoden oder Eigenschaften der speziellen
            <acronym class="acronym">PHP</acronym> Datenbankerweiterung genutzt werden. Zu beachten dabei ist
            jedoch, dass dadurch möglicherweise die Anwendung auf das angegebene Interface,
            bereitgestellt von einer Erweiterung für ein bestimmtes <acronym class="acronym">RDBMS</acronym>,
            beschränkt wird.
        </p>

        <p class="para">
            In zukünftigen Versionen von <span class="classname">Zend_Db</span> werden Möglichkeiten gegeben
            sein, um Methoden Startpunkte hinzuzufügen, für Funktionalitäten die den unterstützten
            <acronym class="acronym">PHP</acronym> Datenbankerweiterungen gemein sind. Dies wird die
            Rückwärtskompatibilität nicht beeinträchtigen.
        </p>
    </div>

    <div class="section" id="zend.db.adapter.server-version" name="zend.db.adapter.server-version"><div class="info"><h1 class="title">Erhalten der Server Version</h1></div>
        

        <p class="para">
            Seit Release 1.7.2 kann man die Version des Servers in einem <acronym class="acronym">PHP</acronym>
            artigen Stil erhalten damit man es mit  <span class="methodname">version_compare()</span>
            verwenden kann. Wenn die Information nicht vorhanden ist erhält man
            <b><tt>NULL</tt></b> zurück.
        </p>

        <div class="example"><div class="info"><p><b>Example #35 Prüfen der Server Version bevor eine Abfrage gestartet wird</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$version</span> = <span style="color: #0000ff;">$db</span>-&gt;<span style="color: #006600;">getServerVersion</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #b1b100;">if</span> <span style="color: #66cc66;">&#40;</span>!<a href="http://www.php.net/is_null"><span style="color: #000066;">is_null</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$version</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #b1b100;">if</span> <span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/version_compare"><span style="color: #000066;">version_compare</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$version</span>, <span style="color: #ff0000;">'5.0.0'</span>, <span style="color: #ff0000;">'&gt;='</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080; font-style: italic;">// mach was</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #66cc66;">&#125;</span> <span style="color: #b1b100;">else</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080; font-style: italic;">// mach was anderes</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #66cc66;">&#125;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span> <span style="color: #b1b100;">else</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #808080; font-style: italic;">// Server Version ist unmöglich zu lesen</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li></ol></div></div></div>

        </div>
    </div>

    <div class="section" id="zend.db.adapter.adapter-notes" name="zend.db.adapter.adapter-notes"><div class="info"><h1 class="title">Anmerkungen zu bestimmten Adaptern</h1></div>
        

        <p class="para">
            Dieser Abschnitt beschreibt Unterschiede zwischen den verschieden Adapterklassen auf die
            man achtgeben sollte.
        </p>

        <div class="section" id="zend.db.adapter.adapter-notes.sqlsrv" name="zend.db.adapter.adapter-notes.sqlsrv"><div class="info"><h1 class="title">Microsoft SQL Server</h1></div>
            

            <ul class="itemizedlist">
                <li class="listitem">
                    <p class="para">
                        Dieser Adapter wird in der  <span class="methodname">factory()</span> Methode mit
                        dem Namen &#039;Sqlsrv&#039; angegeben.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        Dieser Adapter nutzt die <acronym class="acronym">PHP</acronym> Erweiterung sqlsrv.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        Es wird nur Microsoft <acronym class="acronym">SQL</acronym> Server 2005 oder höher
                        unterstützt.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        Microsoft <acronym class="acronym">SQL</acronym> Server unterstützt keine Sequenzen, daher
                        ignoriert  <span class="methodname">lastInsertId()</span> das Primary Key Argument
                        und gibt immer den letzten Wert zurück der für den auto-increment Schlüssel
                        generiert wurde wenn ein Tabellenname spezifiziert wurde oder die letzte
                        Insert Abfrage eine Id zurückgegeben hat. Die
                         <span class="methodname">lastSequenceId()</span> Methode gibt
                        <b><tt>NULL</tt></b> zurück.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        <span class="classname">Zend_Db_Adapter_Sqlsrv</span> setzt
                        <b><tt>QUOTED_IDENTIFIER</tt></b> ON unmittelbar nach der
                        Verbindung zu einer <acronym class="acronym">SQL</acronym> Server Datenbank. Dadurch
                        verwendet der Treiber das standardmäßige <acronym class="acronym">SQL</acronym> Trennzeichen
                        (<em class="emphasis">&quot;</em>) statt den propietären eckigen Klammern die der
                        <acronym class="acronym">SQL</acronym> Server für die Identifikatoren als Trennzeichen
                        verwendet.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        Man kann <span class="property">driver_options</span> als Schlüssel im Options Array
                        spezifizieren. Der Wert kann alles hieraus sein: <a href="http://msdn.microsoft.com/en-us/library/cc296161(SQL.90).aspx" class="link external">&raquo; http://msdn.microsoft.com/en-us/library/cc296161(SQL.90).aspx</a>.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        Man kann  <span class="methodname">setTransactionIsolationLevel()</span> verwenden
                        um einen Isolations Level für die aktuelle Verbindung zu setzen. Der Wert
                        kann wie folgt sein: <b><tt>SQLSRV_TXN_READ_UNCOMMITTED</tt></b>,
                        <b><tt>SQLSRV_TXN_READ_COMMITTED</tt></b>,
                        <b><tt>SQLSRV_TXN_REPEATABLE_READ</tt></b>,
                        <b><tt>SQLSRV_TXN_SNAPSHOT</tt></b> oder
                        <b><tt>SQLSRV_TXN_SERIALIZABLE</tt></b>.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        Mit <acronym class="acronym">ZF</acronym> 1.9 ist das mindestens unterstützte Build der
                        <acronym class="acronym">PHP</acronym> <acronym class="acronym">SQL</acronym> Server erweiterung von
                        Microsoft 1.0.1924.0 und die Version des <acronym class="acronym">MSSQL</acronym> Server
                        Native Clients 9.00.3042.00.
                    </p>
                </li>
            </ul>
        </div>

        <div class="section" id="zend.db.adapter.adapter-notes.ibm-db2" name="zend.db.adapter.adapter-notes.ibm-db2"><div class="info"><h1 class="title">IBM DB2</h1></div>
            

            <ul class="itemizedlist">
                <li class="listitem">
                    <p class="para">
                        Dieser Adapter wird in der  <span class="methodname">factory()</span> Methode mit
                        dem Namen &#039;Db2&#039; angegeben.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        Dieser Adapter nutzt die <acronym class="acronym">PHP</acronym> Erweiterung
                        <b><tt>IBM_DB2</tt></b>.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        <acronym class="acronym">IBM</acronym> <acronym class="acronym">DB2</acronym> unterstützt sowohl Sequenzen
                        als auch auto-increment Schlüssel. Daher sind die Argumente für
                         <span class="methodname">lastInsertId()</span> optional. Werden keine Argumente
                        angegeben, gibt der Adapter den letzten Wert der für den auto-increment Key
                        generiert wurde zurück. Werden Argumente angegeben, gibt der Adapter den
                        letzten Wert der für die Sequenz mit dem Namen, entsprechend der Konvention,
                        &#039;<em class="emphasis">table</em>_<em class="emphasis">column</em>_seq&#039; generiert
                        wurde zurück.
                    </p>
                </li>
            </ul>
        </div>

        <div class="section" id="zend.db.adapter.adapter-notes.mysqli" name="zend.db.adapter.adapter-notes.mysqli"><div class="info"><h1 class="title">MySQLi</h1></div>
            

            <ul class="itemizedlist">
                <li class="listitem">
                    <p class="para">
                        Dieser Adapter wird in der  <span class="methodname">factory()</span> Methode mit
                        dem Namen &#039;Mysqli&#039; angegeben.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        Dieser Adapter nutzt die <acronym class="acronym">PHP</acronym> Erweiterung mysqli.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        MySQL unterstützt keine Sequenzen, daher ignoriert
                         <span class="methodname">lastInsertId()</span> Argumente und gibt immer den
                        letzten Wert der für den auto-increment Schlüssel generiert wurde zurück.
                        Die  <span class="methodname">lastSequenceId()</span> Methode gibt
                        <b><tt>NULL</tt></b> zurück.
                    </p>
                </li>
            </ul>
        </div>

        <div class="section" id="zend.db.adapter.adapter-notes.oracle" name="zend.db.adapter.adapter-notes.oracle"><div class="info"><h1 class="title">Oracle</h1></div>
            

            <ul class="itemizedlist">
                <li class="listitem">
                    <p class="para">
                        Dieser Adapter wird in der  <span class="methodname">factory()</span> Methode mit
                        dem Namen &#039;Oracle&#039; angegeben.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        Dieser Adapter nutzt die <acronym class="acronym">PHP</acronym> Erweiterung oci8.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        Oracle unterstützt keine auto-increment Schlüssel, daher sollte der Name
                        einer Sequenz an  <span class="methodname">lastInsertId()</span> oder
                         <span class="methodname">lastSequenceId()</span> übergeben werden.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        Die Oracle Erweiterung unterstützt keine positionierten Parameter. Es müssen
                        benannte Parameter verwendet werden.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        Aktuell wird die <b><tt>Zend_Db::CASE_FOLDING</tt></b> Option vom
                        Oracle Adapter nicht unterstützt. Um diese Option mit Oracle zu nutzen muss
                        der <acronym class="acronym">PDO</acronym> <acronym class="acronym">OCI</acronym> Adapter verwendet werden.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        Standardmäßig werden <acronym class="acronym">LOB</acronym> Felder als
                        <acronym class="acronym">OCI</acronym>-Log Objekte zurückgegeben. Man kann Sie für alle
                        Anfragen als String empfangen indem die Treiberoption
                        &#039;<span class="property">lob_as_string</span>&#039; verwendet wird, oder für spezielle
                        Anfragen durch Verwendung von
                         <span class="methodname">setLobAsString(boolean)</span> auf dem Adapter oder dem
                        Statement.
                    </p>
                </li>
            </ul>
        </div>

        <div class="section" id="zend.db.adapter.adapter-notes.pdo-ibm" name="zend.db.adapter.adapter-notes.pdo-ibm"><div class="info"><h1 class="title">PDO Adapter für IBM DB2 und für Informix Dynamic Server (IDS)</h1></div>
            

            <ul class="itemizedlist">
                <li class="listitem">
                    <p class="para">
                        Dieser Adapter wird in der  <span class="methodname">factory()</span> Methode mit
                        dem Namen &#039;<span class="classname">Pdo_Ibm</span>&#039; spezifiziert.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        Dieser Adapter nutzt die <acronym class="acronym">PHP</acronym> Erweiterungen
                        <acronym class="acronym">PDO</acronym> und <acronym class="acronym">PDO_IBM</acronym>.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        Es muß mindestens die <acronym class="acronym">PDO_IBM</acronym> Erweiterung mit der Version
                        1.2.2 verwendet werden. Wenn eine ältere Version verwendet wird, muß die
                        <acronym class="acronym">PDO_IBM</acronym> Erweiterung über <acronym class="acronym">PECL</acronym>
                        hochgerüstet werden.
                    </p>
                </li>
            </ul>
        </div>

        <div class="section" id="zend.db.adapter.adapter-notes.pdo-mssql" name="zend.db.adapter.adapter-notes.pdo-mssql"><div class="info"><h1 class="title">PDO Microsoft SQL Server</h1></div>
            

            <ul class="itemizedlist">
                <li class="listitem">
                    <p class="para">
                        Dieser Adapter wird in der  <span class="methodname">factory()</span> Methode mit
                        dem Namen &#039;<span class="classname">Pdo_Mssql</span>&#039; angegeben.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        Dieser Adapter nutzt die <acronym class="acronym">PHP</acronym> Erweiterungen pdo und
                        pdo_dblib.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        Microsoft <acronym class="acronym">SQL</acronym> Server unterstützt keine Sequenzen, daher
                        ignoriert  <span class="methodname">lastInsertId()</span> Argumente und gibt immer
                        den letzten Wert der für den auto-increment Schlüssel generiert wurde
                        zurück. Die  <span class="methodname">lastSequenceId()</span> Methode gibt
                        <b><tt>NULL</tt></b> zurück.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        Wenn man mit Unicode Strings in einer anderen Codierung als
                        <acronym class="acronym">UCS</acronym>-2 (wie <acronym class="acronym">UTF</acronym>-8) arbeitet, kann es
                        sein das man eine Konvertierung im eigenen Anwendungscode durchführen, oder
                        die Daten in einer Binären Spalte speichern muß. Referieren Sie bitte auf
                        <a href="http://support.microsoft.com/kb/232580" class="link external">&raquo; Microsoft&#039;s Knowledge
                            Base</a> für weitere Informationen.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        <span class="classname">Zend_Db_Adapter_Pdo_Mssql</span> setzt
                        <b><tt>QUOTED_IDENTIFIER</tt></b> ON direkt nach dem Verbinden zu
                        einer <acronym class="acronym">SQL</acronym> Server Datenbank. Dadurch verwendet der Treiber
                        das Standard <acronym class="acronym">SQL</acronym> Bezeichner Begrenzungssymbol
                        (&quot;) an Stelle der proprietären Eckige-Klammer Syntax die der
                        <acronym class="acronym">SQL</acronym> Server standradmäßig nutzt.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        Es kann <span class="property">pdoType</span> als ein Schlüssel im Optionsarray
                        gesetzt werden. Der Wert kann &quot;mssql&quot; (der Standard), &quot;dblib&quot;, &quot;freetds&quot;,
                        oder &quot;sybase&quot; sein. Diese Option beeinflusst den <acronym class="acronym">DNS</acronym>
                        Prefix, welchen der Adapter beim Konstruieren des <acronym class="acronym">DNS</acronym>
                        Strings benutzt. Sowohl &quot;freetds&quot; als auch &quot;sybase&quot; implementieren einen
                        Prefix von &quot;sybase:&quot;, welcher für den <a href="http://www.freetds.org/" class="link external">&raquo; FreeTDS</a> Satz von Libraries
                        verwendet wird. Siehe auch <a href="http://www.php.net/manual/de/ref.pdo-dblib.connection.php" class="link external">&raquo; http://www.php.net/manual/de/ref.pdo-dblib.connection.php</a>
                        für weitere Informationen über die <acronym class="acronym">DNS</acronym> Prefixe die von
                        diesem Treiber verwendet werden.
                    </p>
                </li>
            </ul>
        </div>

        <div class="section" id="zend.db.adapter.adapter-notes.pdo-mysql" name="zend.db.adapter.adapter-notes.pdo-mysql"><div class="info"><h1 class="title">PDO MySQL</h1></div>
            

            <ul class="itemizedlist">
                <li class="listitem">
                    <p class="para">
                        Dieser Adapter wird in der  <span class="methodname">factory()</span> Methode mit
                        dem Namen &#039;<span class="classname">Pdo_Mysql</span>&#039; angegeben.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        Dieser Adapter nutzt die <acronym class="acronym">PHP</acronym> Erweiterungen pdo und
                        pdo_mysql.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        MySQL unterstützt keine Sequenzen, daher ignoriert
                         <span class="methodname">lastInsertId()</span> Argumente und gibt immer den
                        letzten Wert der für den auto-increment Schlüssel generiert wurde zurück.
                        Die  <span class="methodname">lastSequenceId()</span> Methode gibt
                        <b><tt>NULL</tt></b> zurück.
                    </p>
                </li>
            </ul>
        </div>

        <div class="section" id="zend.db.adapter.adapter-notes.pdo-oci" name="zend.db.adapter.adapter-notes.pdo-oci"><div class="info"><h1 class="title">PDO Oracle</h1></div>
            

            <ul class="itemizedlist">
                <li class="listitem">
                    <p class="para">
                        Dieser Adapter wird in der  <span class="methodname">factory()</span> Methode mit
                        dem Namen &#039;<span class="classname">Pdo_Oci</span>&#039; angegeben.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        Dieser Adapter nutzt die <acronym class="acronym">PHP</acronym> Erweiterungen pdo und
                        pdo_oci.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        Oracle unterstützt keine auto-increment Schlüssel, daher sollte der Name
                        einer Sequenz an  <span class="methodname">lastInsertId()</span> oder
                         <span class="methodname">lastSequenceId()</span> übergeben werden.
                    </p>
                </li>
            </ul>
        </div>

        <div class="section" id="zend.db.adapter.adapter-notes.pdo-pgsql" name="zend.db.adapter.adapter-notes.pdo-pgsql"><div class="info"><h1 class="title">PDO PostgreSQL</h1></div>
            

            <ul class="itemizedlist">
                <li class="listitem">
                    <p class="para">
                        Dieser Adapter wird in der  <span class="methodname">factory()</span> Methode mit
                        dem Namen &#039;<span class="classname">Pdo_Pgsql</span>&#039; angegeben.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        Dieser Adapter nutzt die <acronym class="acronym">PHP</acronym> Erweiterungen pdo und
                        pdo_pgsql.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        PostgreSQL unterstützt sowohl Sequenzen als auch auto-increment Schlüssel.
                        Daher sind die Argumente für  <span class="methodname">lastInsertId()</span>
                        optional. Werden keine Argumente angegeben, gibt der Adapter den letzten
                        Wert der für den auto-increment Key generiert wurde zurück. Werden
                        Argumente angegeben, gibt der Adapter den letzten Wert der für die Sequenz
                        mit dem Namen, entsprechend der Konvention,
                        &#039;<em class="emphasis">table</em>_<em class="emphasis">column</em>_seq&#039; generiert
                        wurde zurück.
                    </p>
                </li>
            </ul>
        </div>

        <div class="section" id="zend.db.adapter.adapter-notes.pdo-sqlite" name="zend.db.adapter.adapter-notes.pdo-sqlite"><div class="info"><h1 class="title">PDO SQLite</h1></div>
            

            <ul class="itemizedlist">
                <li class="listitem">
                    <p class="para">
                        Dieser Adapter wird in der  <span class="methodname">factory()</span> Methode mit
                        dem Namen &#039;<span class="classname">Pdo_Sqlite</span>&#039; angegeben.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        Dieser Adapter nutzt die <acronym class="acronym">PHP</acronym> Erweiterungen pdo und
                        pdo_sqlite.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        SQLite unterstützt keine Sequenzen, daher ignoriert
                         <span class="methodname">lastInsertId()</span> Argumente und gibt immer den
                        letzten Wert der für den auto-increment Schlüssel generiert wurde zurück.
                        Die  <span class="methodname">lastSequenceId()</span> Methode gibt
                        <b><tt>NULL</tt></b> zurück.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        Um mit einer SQLite2 Datenbank zu Verbinden muss
                        <strong class="command">&#039;sqlite2&#039; =&gt; true</strong> in dem Array von Parametern beim
                        Erzeugen einer Instanz des <span class="classname">Pdo_Sqlite</span> Adapters
                        angegeben werden.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        Um mit einer in-memory SQLite Datenbank zu verbinden muss
                        <strong class="command">&#039;dbname&#039; =&gt; &#039;:memory:&#039;</strong> in dem Array von Parametern beim
                        Erzeugen einer Instanz des <span class="classname">Pdo_Sqlite</span> Adapters
                        angegeben werden.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        Ältere Versionen des SQLite Treibers in <acronym class="acronym">PHP</acronym> scheinen die
                        <acronym class="acronym">PRAGMA</acronym> Kommandos nicht zu unterstützen, die benötigt
                        werden um sicherzustellen, dass kurze Spaltennamen in Ergebnissätzen
                        verwendet werden. Wenn in den Ergebnissätzen Schlüssel der Art
                        &quot;tabellenname.spaltenname&quot; bei Nutzung von JOIN Abfragen auftreten, sollte
                        die aktuellste <acronym class="acronym">PHP</acronym> Version installiert werden.
                    </p>
                </li>
            </ul>
        </div>

        <div class="section" id="zend.db.adapter.adapter-notes.firebird" name="zend.db.adapter.adapter-notes.firebird"><div class="info"><h1 class="title">Firebird (Interbase)</h1></div>
            

            <ul class="itemizedlist">
                <li class="listitem">
                    <p class="para">
                        Dieser Adapter verwendet die <acronym class="acronym">PHP</acronym> Erweiterung
                        php_interbase.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        Firebird (Interbase) unterstützt keine auto-increment Schlüssel, deswegen
                        sollte der Name einer Sequenz bei  <span class="methodname">lastInsertId()</span>
                        oder  <span class="methodname">lastSequenceId()</span> spezifiziert werden.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        Aktuell wird die <b><tt>Zend_Db::CASE_FOLDING</tt></b> Option vom
                        Firebird (Interbase) Adapter nicht unterstützt. Nicht gequotete Identifizierer
                        werden automatisch in Großschreibweise zurückgegeben.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        Der Name des Adapters ist <span class="classname">ZendX_Db_Adapter_Firebird</span>.
                    </p>
                    <p class="para">
                        Beachte das der Parameter adapterNamespace mit dem Wert
                        <span class="classname">ZendX_Db_Adapter</span> zu verwenden ist.
                    </p>
                    <p class="para">
                        Wir empfehlen die <var class="filename">gds32.dll</var> (oder Ihr Linux Äquivalent)
                        welche mit <acronym class="acronym">PHP</acronym> ausgeliefert wird, auf die gleiche Version
                        wie am Server hochzurüsten. Für Firebird ist das Äquivalent zu
                        <var class="filename">gds32.dll</var> die <var class="filename">fbclient.dll</var>.
                    </p>
                    <p class="para">
                        Standardmäßig werden alle Identifikatoren (Tabellennamen, Felder) in
                        Großschreibweise zurückgegeben.
                    </p>
                </li>
            </ul>
        </div>
    </div>
</div>
        <hr />

            <table width="100%">
                <tr>
                    <td width="25%" style="text-align: left;">
                    <a href="zend.db.html">Zend_Db</a>
                    </td>

                    <td width="50%" style="text-align: center;">
                        <div class="up"><span class="up"><a href="zend.db.html">Zend_Db</a></span><br />
                        <span class="home"><a href="manual.html">Programmer's Reference Guide</a></span></div>
                    </td>

                    <td width="25%" style="text-align: right;">
                        <div class="next" style="text-align: right; float: right;"><a href="zend.db.statement.html">Zend_Db_Statement</a></div>
                    </td>
                </tr>
            </table>
</td>
        <td style="font-size: smaller;" width="15%"> <style type="text/css">
#leftbar {
	float: left;
	width: 186px;
	padding: 5px;
	font-size: smaller;
}
ul.toc {
	margin: 0px 5px 5px 5px;
	padding: 0px;
}
ul.toc li {
	font-size: 85%;
	margin: 1px 0 1px 1px;
	padding: 1px 0 1px 11px;
	list-style-type: none;
	background-repeat: no-repeat;
	background-position: center left;
}
ul.toc li.header {
	font-size: 115%;
	padding: 5px 0px 5px 11px;
	border-bottom: 1px solid #cccccc;
	margin-bottom: 5px;
}
ul.toc li.active {
	font-weight: bold;
}
ul.toc li a {
	text-decoration: none;
}
ul.toc li a:hover {
	text-decoration: underline;
}
</style>
 <ul class="toc">
  <li class="header home"><a href="manual.html">Programmer's Reference Guide</a></li>
  <li class="header up"><a href="manual.html">Programmer's Reference Guide</a></li>
  <li class="header up"><a href="reference.html">Zend Framework Reference</a></li>
  <li class="header up"><a href="zend.db.html">Zend_Db</a></li>
  <li class="active"><a href="zend.db.adapter.html">Zend_Db_Adapter</a></li>
  <li><a href="zend.db.statement.html">Zend_Db_Statement</a></li>
  <li><a href="zend.db.profiler.html">Zend_Db_Profiler</a></li>
  <li><a href="zend.db.select.html">Zend_Db_Select</a></li>
  <li><a href="zend.db.table.html">Zend_Db_Table</a></li>
  <li><a href="zend.db.table.row.html">Zend_Db_Table_Row</a></li>
  <li><a href="zend.db.table.rowset.html">Zend_Db_Table_Rowset</a></li>
  <li><a href="zend.db.table.relationships.html">Zend_Db_Table Relationships</a></li>
  <li><a href="zend.db.table.definition.html">Zend_Db_Table_Definition</a></li>
 </ul>
 </td>
    </tr>
</table>
</body>
</html>