<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>Zend_Currency verwenden - Zend Framework Manual</title>

</head>
<body>
<table width="100%">
    <tr valign="top">
        <td width="85%">
            <table width="100%">
                <tr>
                    <td width="25%" style="text-align: left;">
                    <a href="zend.currency.introduction.html">Einf&uuml;hrung in Zend_Currency</a>
                    </td>

                    <td width="50%" style="text-align: center;">
                        <div class="up"><span class="up"><a href="zend.currency.html">Zend_Currency</a></span><br />
                        <span class="home"><a href="manual.html">Programmer's Reference Guide</a></span></div>
                    </td>

                    <td width="25%" style="text-align: right;">
                        <div class="next" style="text-align: right; float: right;"><a href="zend.currency.options.html">Optionen f&uuml;r W&auml;hrungen</a></div>
                    </td>
                </tr>
            </table>
<hr />
<div id="zend.currency.usage" class="section"><div class="info"><h1 class="title">Zend_Currency verwenden</h1></div>
    

    <div class="section" id="zend.currency.usage.generic" name="zend.currency.usage.generic"><div class="info"><h1 class="title">Generelle Verwendung</h1></div>
        

        <p class="para">
            Der einfachste Anwendungsfall in einer Anwendung ist die Verwendung des Gebietsschemas
            des Clients. Wenn man eine Instanz von <span class="classname">Zend_Currency</span> erstellt
            ohne eine Option anzugeben, wird das Gebietsschema des Clients verwendet um die richtige
            Währung zu setzen.
        </p>

        <div class="example"><div class="info"><p><b>Example #1 Erstellung einer Währung mit Client Einstellungen</b></p></div>
            

            <div class="example-contents"><p>
                Angenommen unser Client hat &quot;en_US&quot; als gewünschte Sprache in seinem Browser
                gesetzt. In diesem Fall wird <span class="classname">Zend_Currency</span> die Währung welche
                zu verwenden automatisch erkannt.
            </p></div>

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$currency</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Currency<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Siehe die Standardwerte welche vom Client abhängen</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// var_dump($currency);</span></div></li></ol></div></div></div>


            <div class="example-contents"><p>
                Das erstellte Objekt würde jetzt die Währung &quot;US Dollar&quot; enthalten da dies die
                aktuell zugeordnete Währung für US (Vereinigte Staaten) ist. Es wurden auch andere
                Optionen gesetzt wie &quot;$&quot; für das Währungszeichen oder &quot;USD&quot; für die Abkürzung.
            </p></div>
        </div>

        <blockquote><p><b class="note">Note</b>: <span class="info"><b>Die automatische Erkennung des Gebietsschemas funktioniert nicht immer</b><br /></span>
            

            
                Es ist zu beachten das die automatische Erkennung des Gebietsschemas nicht immer
                richtig funktioniert. Der Grund für dieses Verhalten liegt darin das
                <span class="classname">Zend_Currency</span> ein Gebietsschema benötigt welches eine Region
                enthält. Wenn der Client nur &quot;en&quot; als Gebietsschema setzt würde
                <span class="classname">Zend_Currency</span> nicht mehr wissen welches der mehr als 30
                Länder gemeint ist. In diesem Fall wird eine Exception geworfen.
            <br />

            
                Ein Client könnte die Einstellungen des Gebietsschemas in seinem Browser auch
                unterdrücken. Das würde zum Problem führen dass die Einstellungen der eigenen
                Umgebung als Fallback verwendet werden und dies könnte auch zu einer Exception
                führen.
            <br />
        </p></blockquote>
    </div>

    <div class="section" id="zend.currency.usage.locale" name="zend.currency.usage.locale"><div class="info"><h1 class="title">Erstellung einer Währung basierend auf einem Gebietsschema</h1></div>
        

        <p class="para">
            Um diese Probleme mit dem Client zu vermeiden kann man das gewünschte Gebietsschema
            einfach manuell setzen.
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$currency</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Currency<span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'en_US'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Man könnte auch die 'locale' Option verwenden</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// $currency = new Zend_Currency(array('locale' =&gt; 'en_US'));</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Siehe die aktuellen Einstellungen welche auf 'en_US' fixiert sind</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// var_dump($currency);</span></div></li></ol></div></div></div>


        <p class="para">
            Wie in unserem ersten Beispiel ist die verwendete Währung &quot;US Dollar&quot;. Aber jetzt sind
            wir nicht mehr von den Einstellungen des Clients abhängig.
        </p>

        <p class="para">
            <span class="classname">Zend_Currency</span> unterstützt auch die Verwendung eines
            Anwendungsweiten Gebietsschemas. Man kann eine Instanz von
            <span class="classname">Zend_Locale</span> wie anbei gezeigt in der Registry setzen. Mit dieser
            Schreibweise vermeidet man das manuelle Setzen des Gebietsschemas für jede Instanz, wenn
            man das selbe Gebietsschema in der gesamten Anwendung verwenden will.
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// In der Bootstrap Datei</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$locale</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Locale<span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'de_AT'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">Zend_Registry::<span style="color: #006600;">set</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Zend_Locale'</span>, <span style="color: #0000ff;">$locale</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Irgendwo in der Anwendung</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$currency</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Currency<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

    </div>

    <div class="section" id="zend.currency.usage.territory" name="zend.currency.usage.territory"><div class="info"><h1 class="title">Erstellung einer Währung basierend auf einem Land</h1></div>
        

        <p class="para">
            <span class="classname">Zend_Currency</span> ist auch in der Lage basierend auf einem
            angegebenen Land zu arbeiten indem intern <span class="classname">Zend_Locale</span> verwendet
            wird.
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$currency</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Currency<span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'US'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// See the actual settings which are fixed to 'en_US'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// var_dump($currency);</span></div></li></ol></div></div></div>


        <blockquote><p><b class="note">Note</b>: <span class="info"><b>Uppercase territories</b><br /></span>
            

            
                When you know that you are using a territory, then you should uppercase it.
                Otherwise you could get an in your eyes false locale in return. For example,
                when you give &quot;om&quot; then you could expect &quot;ar_OM&quot; to be returned. But in fact it
                returns &quot;om&quot;, as it&#039;s also a language.
            <br />

            
                Therefor always uppercase the input when you know that a territory is meant.
            <br />
        </p></blockquote>
    </div>
</div>
        <hr />

            <table width="100%">
                <tr>
                    <td width="25%" style="text-align: left;">
                    <a href="zend.currency.introduction.html">Einf&uuml;hrung in Zend_Currency</a>
                    </td>

                    <td width="50%" style="text-align: center;">
                        <div class="up"><span class="up"><a href="zend.currency.html">Zend_Currency</a></span><br />
                        <span class="home"><a href="manual.html">Programmer's Reference Guide</a></span></div>
                    </td>

                    <td width="25%" style="text-align: right;">
                        <div class="next" style="text-align: right; float: right;"><a href="zend.currency.options.html">Optionen f&uuml;r W&auml;hrungen</a></div>
                    </td>
                </tr>
            </table>
</td>
        <td style="font-size: smaller;" width="15%"> <style type="text/css">
#leftbar {
	float: left;
	width: 186px;
	padding: 5px;
	font-size: smaller;
}
ul.toc {
	margin: 0px 5px 5px 5px;
	padding: 0px;
}
ul.toc li {
	font-size: 85%;
	margin: 1px 0 1px 1px;
	padding: 1px 0 1px 11px;
	list-style-type: none;
	background-repeat: no-repeat;
	background-position: center left;
}
ul.toc li.header {
	font-size: 115%;
	padding: 5px 0px 5px 11px;
	border-bottom: 1px solid #cccccc;
	margin-bottom: 5px;
}
ul.toc li.active {
	font-weight: bold;
}
ul.toc li a {
	text-decoration: none;
}
ul.toc li a:hover {
	text-decoration: underline;
}
</style>
 <ul class="toc">
  <li class="header home"><a href="manual.html">Programmer's Reference Guide</a></li>
  <li class="header up"><a href="manual.html">Programmer's Reference Guide</a></li>
  <li class="header up"><a href="reference.html">Zend Framework Reference</a></li>
  <li class="header up"><a href="zend.currency.html">Zend_Currency</a></li>
  <li><a href="zend.currency.introduction.html">Einf&uuml;hrung in Zend_Currency</a></li>
  <li class="active"><a href="zend.currency.usage.html">Zend_Currency verwenden</a></li>
  <li><a href="zend.currency.options.html">Optionen f&uuml;r W&auml;hrungen</a></li>
  <li><a href="zend.currency.description.html">Was macht eine W&auml;hrung aus?</a></li>
  <li><a href="zend.currency.position.html">Wo ist die W&auml;hrung?</a></li>
  <li><a href="zend.currency.number.html">Wie sieht die W&auml;hrung aus?</a></li>
  <li><a href="zend.currency.value.html">Wie viel W&auml;hrung habe ich?</a></li>
  <li><a href="zend.currency.calculation.html">Rechnen mit W&auml;hrungen</a></li>
  <li><a href="zend.currency.exchange.html">W&auml;hrungen wechseln</a></li>
  <li><a href="zend.currency.additional.html">Zus&auml;tzliche Informationen f&uuml;r Zend_Currency</a></li>
 </ul>
 </td>
    </tr>
</table>
</body>
</html>