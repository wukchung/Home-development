<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>Zend_Service_WindowsAzure_Storage_Table - Zend Framework Manual</title>

</head>
<body>
<table width="100%">
    <tr valign="top">
        <td width="85%">
            <table width="100%">
                <tr>
                    <td width="25%" style="text-align: left;">
                    <a href="zend.service.windowsazure.storage.queue.html">Zend_Service_WindowsAzure_Storage_Queue</a>
                    </td>

                    <td width="50%" style="text-align: center;">
                        <div class="up"><span class="up"><a href="zend.service.html">Zend_Service</a></span><br />
                        <span class="home"><a href="manual.html">Programmer's Reference Guide</a></span></div>
                    </td>

                    <td width="25%" style="text-align: right;">
                        <div class="next" style="text-align: right; float: right;"><a href="zend.service.yahoo.html">Zend_Service_Yahoo</a></div>
                    </td>
                </tr>
            </table>
<hr />
<div id="zend.service.windowsazure.storage.table" class="section"><div class="info"><h1 class="title">Zend_Service_WindowsAzure_Storage_Table</h1></div>
    

    <p class="para">
        Der Table Service bietet einen strukturierten Speicher in der Form von Tabellen.
    </p>

    <p class="para">
        Tabellen Speicher wird von Windows Azure als REST <acronym class="acronym">API</acronym> angeboten die von
        der Klasse <span class="classname">Zend_Service_WindowsAzure_Storage_Table</span> umhüllt ist um ein
        natives <acronym class="acronym">PHP</acronym> Interface zum Speicher Konto zu bieten.
    </p>

    <p class="para">
        Dieses Thema zeigt einige Beispiele der Verwendung der Klasse
        <span class="classname">Zend_Service_WindowsAzure_Storage_Table</span>. Andere Features sind im
        Download Paket enthalten sowie in den detailierten <acronym class="acronym">API</acronym> Dokumentationen
        dieser Features.
    </p>

    <p class="para">
        Es ist zu beachten das bei der Entwicklung der Tabellen Speicher (in der
        <acronym class="acronym">SDK</acronym> von Windows Azure) nicht alle Features unterstützt welche von dieser
        <acronym class="acronym">API</acronym> angeboten werden. Deshalb sind die Beispiele welche auf dieser Seite
        aufgeführt sind, dazu gedacht auf Windows Azure Produktions Tabellen Speichern verwendet zu
        werden.
    </p>

    <div class="section" id="zend.service.windowsazure.storage.table.api" name="zend.service.windowsazure.storage.table.api"><div class="info"><h1 class="title">Operationen auf Tabellen</h1></div>
        

        <p class="para">
            Dieses Thema zeigt einige Beispiele für Operationen welche auf Tabellen ausgeführt
            werden können.
        </p>

        <div class="section" id="zend.service.windowsazure.storage.table.api.create" name="zend.service.windowsazure.storage.table.api.create"><div class="info"><h1 class="title">Erstellung einer Tabelle</h1></div>
            

            <p class="para">
                Bei Verwendung des folgenden Codes, kann eine Tabelle auf dem Windows Azure
                Produktions Tabellen Speicher erstellt werden.
            </p>

            <div class="example"><div class="info"><p><b>Example #1 Erstellen einer Tabelle</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$storageClient</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_WindowsAzure_Storage_Table<span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'table.core.windows.net'</span>, <span style="color: #ff0000;">'myaccount'</span>, <span style="color: #ff0000;">'myauthkey'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$result</span> = <span style="color: #0000ff;">$storageClient</span>-&gt;<span style="color: #006600;">createTable</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'testtable'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #ff0000;">'Der neue Name der Tabelle ist: '</span> . <span style="color: #0000ff;">$result</span>-&gt;<span style="color: #006600;">Name</span>;</div></li></ol></div></div></div>

            </div>
        </div>

        <div class="section" id="zend.service.windowsazure.storage.table.api.list" name="zend.service.windowsazure.storage.table.api.list"><div class="info"><h1 class="title">Ausgeben aller Tabellen</h1></div>
            

            <p class="para">
                Bei Verwendung des folgendes Codes, kann eine Liste alle Tabellen im Windows Azure
                Produktions Tabellen Speicher abgefragt werden.
            </p>

            <div class="example"><div class="info"><p><b>Example #2 Ausgeben aller Tabellen</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$storageClient</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_WindowsAzure_Storage_Table<span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'table.core.windows.net'</span>, <span style="color: #ff0000;">'myaccount'</span>, <span style="color: #ff0000;">'myauthkey'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$result</span> = <span style="color: #0000ff;">$storageClient</span>-&gt;<span style="color: #006600;">listTables</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #b1b100;">foreach</span> <span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$result</span> <span style="color: #b1b100;">as</span> <span style="color: #0000ff;">$table</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #ff0000;">'Der Name der Tabelle ist: '</span> . <span style="color: #0000ff;">$table</span>-&gt;<span style="color: #006600;">Name</span> . <span style="color: #ff0000;">&quot;<span style="color: #000099; font-weight: bold;">\r</span><span style="color: #000099; font-weight: bold;">\n</span>&quot;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li></ol></div></div></div>

            </div>
        </div>
    </div>

    <div class="section" id="zend.service.windowsazure.storage.table.entities" name="zend.service.windowsazure.storage.table.entities"><div class="info"><h1 class="title">Operationen auf Entitäten</h1></div>
        

        <p class="para">
            Tabellen speichern Daten als Sammlung von Entitäten. Entitäten sind so ähnlich wie
            Zeilen. Eine Entität hat einen primären Schlüssel und ein Set von Eigenschaften. Eine
            Eigenschaft ist ein benanntes, Typ-Werte Paar, ähnlich einer Spalte.
        </p>

        <p class="para">
            Der Tabellen Service erzwingt kein Schema für Tabellen, deshalb können zwei Entitäten in
            der selben Tabelle unterschiedliche Sets von Eigenschaften haben. Entwickler können
            auswählen das ein Schema auf Seite des Clients erzwungen wird. Eine Tabelle kann eine
            beliebige Anzahl an Entitäten enthalten.
        </p>

        <p class="para">
            <span class="classname">Zend_Service_WindowsAzure_Storage_Table</span> bietet 2 Wege um mit
            Entitäten zu arbeiten:
        </p>

        <ul class="itemizedlist">
            <li class="listitem"><p class="para">Erzwungenes Schema</p></li>
            <li class="listitem"><p class="para">Nicht erzwungenes Schema</p></li>
        </ul>

        <p class="para">
            Alle Beispiel verwenden die folgende erwzungene Schema Klasse.
        </p>

        <div class="example"><div class="info"><p><b>Example #3 Erzwungenes Schema welches in Beispielen verwendet wird</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #000000; font-weight: bold;">class</span> SampleEntity <span style="color: #000000; font-weight: bold;">extends</span> Zend_Service_WindowsAzure_Storage_TableEntity</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #808080; font-style: italic;">/**</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">&nbsp; &nbsp; * @azure Name</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">&nbsp; &nbsp; */</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">public</span> <span style="color: #0000ff;">$Name</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #808080; font-style: italic;">/**</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">&nbsp; &nbsp; * @azure Age Edm.Int64</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">&nbsp; &nbsp; */</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">public</span> <span style="color: #0000ff;">$Age</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #808080; font-style: italic;">/**</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">&nbsp; &nbsp; * @azure Visible Edm.Boolean</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">&nbsp; &nbsp; */</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">public</span> <span style="color: #0000ff;">$Visible</span> = <span style="color: #000000; font-weight: bold;">false</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li></ol></div></div></div>

        </div>

        <p class="para">
            Es ist zu beachten das <span class="classname">Zend_Service_WindowsAzure_Storage_Table</span>,
            wenn keine Schema Klasse an die Tabellen Speicher Methoden übergeben, automatisch mit
            <span class="classname">Zend_Service_WindowsAzure_Storage_DynamicTableEntity</span> arbeitet.
        </p>

        <div class="section" id="zend.service.windowsazure.storage.table.entities.enforced" name="zend.service.windowsazure.storage.table.entities.enforced"><div class="info"><h1 class="title">Erzwungene Schema Entitäten</h1></div>
            

            <p class="para">
                Um ein Schema auf der Seite des Clients bei Verwendung der Klasse
                <span class="classname">Zend_Service_WindowsAzure_Storage_Table</span> zu erzwingen muss
                eine Klasse erstellt werden welche sich von
                <span class="classname">Zend_Service_WindowsAzure_Storage_TableEntity</span> ableitet. Diese
                Klasse bietet einige grundsätzliche Funktionalitäten damit die Klasse
                <span class="classname">Zend_Service_WindowsAzure_Storage_Table</span> mit einem
                client-seitigen Schema arbeitet.
            </p>

            <p class="para">
                Grundsätzliche Eigenschaften welche von
                <span class="classname">Zend_Service_WindowsAzure_Storage_TableEntity</span> angeboten
                werden sind:
            </p>

            <ul class="itemizedlist">
                <li class="listitem">
                    <p class="para">
                        PartitionKey (durch  <span class="methodname">getPartitionKey()</span> und
                         <span class="methodname">setPartitionKey()</span> bekanntgemacht)
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        RowKey (durch  <span class="methodname">getRowKey()</span> und
                         <span class="methodname">setRowKey()</span> bekanntgemacht)
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        Timestamp (durch  <span class="methodname">getTimestamp()</span> und
                         <span class="methodname">setTimestamp()</span> bekantgemacht)
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        Etag Wert (durch  <span class="methodname">getEtag()</span> und
                         <span class="methodname">setEtag()</span> bekanntgemacht)
                    </p>
                </li>
            </ul>

            <p class="para">
                Hier ist eine Beispielklasse welche sich von
                <span class="classname">Zend_Service_WindowsAzure_Storage_TableEntity</span> ableitet:
            </p>

            <div class="example"><div class="info"><p><b>Example #4 Beispiel einer erzwungenen Schema Klasse</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #000000; font-weight: bold;">class</span> SampleEntity <span style="color: #000000; font-weight: bold;">extends</span> Zend_Service_WindowsAzure_Storage_TableEntity</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #808080; font-style: italic;">/**</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;* @azure Name</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;*/</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">public</span> <span style="color: #0000ff;">$Name</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #808080; font-style: italic;">/**</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;* @azure Age Edm.Int64</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;*/</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">public</span> <span style="color: #0000ff;">$Age</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #808080; font-style: italic;">/**</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;* @azure Visible Edm.Boolean</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">&nbsp; &nbsp; &nbsp;*/</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">public</span> <span style="color: #0000ff;">$Visible</span> = <span style="color: #000000; font-weight: bold;">false</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li></ol></div></div></div>

            </div>

            <p class="para">
                Die Klasse <span class="classname">Zend_Service_WindowsAzure_Storage_Table</span> mappt jede
                Klasse welche sich von
                <span class="classname">Zend_Service_WindowsAzure_Storage_TableEntity</span> ableitet auf
                Windows Azure Tabellen Speicher Entitäten mit dem richtigen Datentyp und dem Namen
                der Eigenschaft. Alles dort dient dem Speichern einer Eigenschaft in Windows Azure
                indem ein Docblock Kommentar zu einer öffentlichen Eigenschaft oder einem
                öffentlichen Getter oder Setter, im folgenden Format hinzugefügt wird:
            </p>

            <div class="example"><div class="info"><p><b>Example #5 Erzwungene Eigenschaft</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">/**</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;"> * @azure &lt;Name der Eigenschaft in Windows Azure&gt; &lt;optionaler Typ der Eigenschaft&gt;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;"> */</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #000000; font-weight: bold;">public</span> $&lt;Name der Eigenschaft in PHP&gt;;</div></li></ol></div></div></div>

            </div>

            <p class="para">
                Sehen wir uns an wie eine Eigenschaft &quot;Ago&quot; als Integerwert eines Windows Azure
                Tabellen Speichers definiert wird:
            </p>

            <div class="example"><div class="info"><p><b>Example #6 Beispiel einer erzwungenen Eigenschaft</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">/**</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;"> * @azure Age Edm.Int64</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;"> */</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #000000; font-weight: bold;">public</span> <span style="color: #0000ff;">$Age</span>;</div></li></ol></div></div></div>

            </div>

            <p class="para">
                Es ist zu beachten das die Eigenschaft im Windows Azure Tabellen Speicher nicht
                notwendigerweise gleich benannt werden muss. Der Name der Windows Azure Tabellen
                Speicher Eigenschaft kann genauso definiert werden wie der Typ.
            </p>

            <p class="para">
                Die folgenden Datentypen werden unterstützt:
            </p>

            <ul class="itemizedlist">
                <li class="listitem">
                    <p class="para">
                        <b><tt>Edm.Binary</tt></b> - Ein Array von Types welche bis zu 64 KB
                        Größe.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        <b><tt>Edm.Boolean</tt></b> - Ein boolscher Wert.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        <b><tt>Edm.DateTime</tt></b> - Ein 64-bit Wert welcher als koordinierte
                        universelle Zeit (UTC) ausgedrückt wird. Der unterstützte DateTime Bereich
                        beginnt an 1. Jänner 1601 A.D. (C.E.), koordinierter Universeller Zeit
                        (UTC). Der Bereich endet am 31. Dezember 9999.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para"><b><tt>Edm.Double</tt></b> - Eine 64-bit Gleitkommazahl.</p>
                </li>

                <li class="listitem">
                    <p class="para">
                        <b><tt>Edm.Guid</tt></b> - Ein 128-bit großer globaler eindeutiger
                        Identifikator.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para"><b><tt>Edm.Int32</tt></b> - Ein 32-bit Integerwert.</p>
                </li>

                <li class="listitem">
                    <p class="para"><b><tt>Edm.Int64</tt></b> - Ein 64-bit Integerwert.</p>
                </li>

                <li class="listitem">
                    <p class="para">
                        <b><tt>Edm.String</tt></b> - Ein UTF-16-kodierter Wert. Stringwerte
                        können bis zu 64 KB groß sein.
                    </p>
                </li>
            </ul>
        </div>

        <div class="section" id="zend.service.windowsazure.storage.table.entities.dynamic" name="zend.service.windowsazure.storage.table.entities.dynamic"><div class="info"><h1 class="title">Entitäten ohne erzwungenes Schema (a.k.a. DynamicEntity)</h1></div>
            

            <p class="para">
                Um die Klasse <span class="classname">Zend_Service_WindowsAzure_Storage_Table</span> ohne
                Definition eines Schemas zu verwenden kann die Klasse
                <span class="classname">Zend_Service_WindowsAzure_Storage_DynamicTableEntity</span>
                verwendet werden. Diese Klasse erweitert
                <span class="classname">Zend_Service_WindowsAzure_Storage_TableEntity</span> wie es eine
                Klasse für ein erzwungenes Schema machen würde, enthält aber zusätzliche Logik um
                Sie dynamisch zu machen und nicht an ein Schema zu binden.
            </p>

            <p class="para">
                Die grundsätzlichen Eigenschaften welche von
                <span class="classname">Zend_Service_WindowsAzure_Storage_DynamicTableEntity</span>
                angeboten werden sind:
            </p>

            <ul class="itemizedlist">
                <li class="listitem">
                    <p class="para">
                        PartitionKey (durch  <span class="methodname">getPartitionKey()</span> und
                         <span class="methodname">setPartitionKey()</span> bekanntgemacht)
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        RowKey (durch  <span class="methodname">getRowKey()</span> und
                         <span class="methodname">setRowKey()</span> bekanntgemacht)
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        Timestamp (durch  <span class="methodname">getTimestamp()</span> und
                         <span class="methodname">setTimestamp()</span> bekanntgemacht)
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        Etag Wert (durch  <span class="methodname">getEtag()</span> und
                         <span class="methodname">setEtag()</span> bekanntgemacht)
                    </p>
                </li>
            </ul>

            <p class="para">
                Andere Eigenschaften können on the Fly hinzugefügt werden. Ihre Windows Azure
                Tabellen Speicher Typen werden auch on the Fly ermittelt:
            </p>

            <div class="example"><div class="info"><p><b>Example #7 
                    Eigenschaften zu Zend_Service_WindowsAzure_Storage_DynamicTableEntity dynamisch
                    hinzufügen
                </b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$target</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_WindowsAzure_Storage_DynamicTableEntity<span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'partition1'</span>, <span style="color: #ff0000;">'000001'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$target</span>-&gt;<span style="color: #006600;">Name</span> = <span style="color: #ff0000;">'Name'</span>; <span style="color: #808080; font-style: italic;">// Fügt die Eigenschaft &quot;Name&quot; vom Typ &quot;Edm.String&quot; hinzu</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$target</span>-&gt;<span style="color: #006600;">Age</span>&nbsp; = <span style="color: #cc66cc;">25</span>;&nbsp; &nbsp; &nbsp;<span style="color: #808080; font-style: italic;">// Fügt die Eigenschaft &quot;Age&quot; vom Typ &quot;Edm.Int32&quot; hinzu</span></div></li></ol></div></div></div>

            </div>

            <p class="para">
                Optional kann der Typ einer Eigenschaft erzwungen werden:
            </p>

            <div class="example"><div class="info"><p><b>Example #8 
                    Erzwingen von Eigenschaftstypen auf
                    Zend_Service_WindowsAzure_Storage_DynamicTableEntity
                </b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$target</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_WindowsAzure_Storage_DynamicTableEntity<span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'partition1'</span>, <span style="color: #ff0000;">'000001'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$target</span>-&gt;<span style="color: #006600;">Name</span> = <span style="color: #ff0000;">'Name'</span>; <span style="color: #808080; font-style: italic;">// Fügt die Eigenschaft &quot;Name&quot; vom Typ &quot;Edm.String&quot; hinzu</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$target</span>-&gt;<span style="color: #006600;">Age</span>&nbsp; = <span style="color: #cc66cc;">25</span>;&nbsp; &nbsp; &nbsp;<span style="color: #808080; font-style: italic;">// Fügt die Eigenschaft &quot;Age&quot; vom Typ &quot;Edm.Int32&quot; hinzu</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Ändert den Typ der Eigenschaft &quot;Age&quot; auf &quot;Edm.Int32&quot;:</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$target</span>-&gt;<span style="color: #006600;">setAzurePropertyType</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Age'</span>, <span style="color: #ff0000;">'Edm.Int64'</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

            </div>

            <p class="para">
                Die Klasse <span class="classname">Zend_Service_WindowsAzure_Storage_Table</span> arbeitet
                automatisch mit <span class="classname">Zend_Service_WindowsAzure_Storage_TableEntity</span>
                wenn an die Tabellen Speicher Methoden keine spezielle Klasse übergeben wurde.
            </p>
        </div>

        <div class="section" id="zend.service.windowsazure.storage.table.entities.api" name="zend.service.windowsazure.storage.table.entities.api"><div class="info"><h1 class="title">API Beispiele für Entitäten</h1></div>
            

            <div class="section" id="zend.service.windowsazure.storage.table.entities.api.insert" name="zend.service.windowsazure.storage.table.entities.api.insert"><div class="info"><h1 class="title">Eine Entität hinzufügen</h1></div>
                

                <p class="para">
                    Bei Verwendung des folgenden Codes kann eine Entität in eine Tabelle hinzugefügt
                    werden welche &quot;testtable&quot; heißt. Es ist zu beachten das die Tabelle vorher schon
                    erstellt worden sein muss.
                </p>

                <div class="example"><div class="info"><p><b>Example #9 Eine Entität einfügen</b></p></div>
                    

                    <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$entity</span> = <span style="color: #000000; font-weight: bold;">new</span> SampleEntity <span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'partition1'</span>, <span style="color: #ff0000;">'row1'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$entity</span>-&gt;<span style="color: #006600;">FullName</span> = <span style="color: #ff0000;">&quot;Maarten&quot;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$entity</span>-&gt;<span style="color: #006600;">Age</span> = <span style="color: #cc66cc;">25</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$entity</span>-&gt;<span style="color: #006600;">Visible</span> = <span style="color: #000000; font-weight: bold;">true</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$storageClient</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_WindowsAzure_Storage_Table<span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'table.core.windows.net'</span>, <span style="color: #ff0000;">'myaccount'</span>, <span style="color: #ff0000;">'myauthkey'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$result</span> = <span style="color: #0000ff;">$storageClient</span>-&gt;<span style="color: #006600;">insertEntity</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'testtable'</span>, <span style="color: #0000ff;">$entity</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Prüfen des Zeitpunktes und von Etag der neu erstellten Entität</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #ff0000;">'Zeitpunkt: '</span> . <span style="color: #0000ff;">$result</span>-&gt;<span style="color: #006600;">getTimestamp</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span> . <span style="color: #ff0000;">&quot;<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #ff0000;">'Etag: '</span> . <span style="color: #0000ff;">$result</span>-&gt;<span style="color: #006600;">getEtag</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span> . <span style="color: #ff0000;">&quot;<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span>;</div></li></ol></div></div></div>

                </div>
            </div>

            <div class="section" id="zend.service.windowsazure.storage.table.entities.api.retrieve-by-id" name="zend.service.windowsazure.storage.table.entities.api.retrieve-by-id"><div class="info"><h1 class="title">Empfangen einer Entität durch Partitionsschlüssel und Zeilenschlüssel</h1></div>
                

                <p class="para">
                    Durch Verwendung des folgenden Codes kann eine Entität durch seinen
                    Partitions- und Zeilenschlüssel. Es ist zu beachten das die Tabelle und die
                    Entität bereits vorher erstellt worden sein müssen.
                </p>

                <div class="example"><div class="info"><p><b>Example #10 
                        Empfangen einer Entität durch dessen Partitions- und Zeilenschlüssel
                    </b></p></div>
                    

                    <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$storageClient</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_WindowsAzure_Storage_Table<span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'table.core.windows.net'</span>, <span style="color: #ff0000;">'myaccount'</span>, <span style="color: #ff0000;">'myauthkey'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$entity</span>= <span style="color: #0000ff;">$storageClient</span>-&gt;<span style="color: #006600;">retrieveEntityById</span><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'testtable'</span>, <span style="color: #ff0000;">'partition1'</span>, <span style="color: #ff0000;">'row1'</span>, <span style="color: #ff0000;">'SampleEntity'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

                </div>
            </div>

            <div class="section" id="zend.service.windowsazure.storage.table.entities.api.updating" name="zend.service.windowsazure.storage.table.entities.api.updating"><div class="info"><h1 class="title">Eine Entität aktualisieren</h1></div>
                

                <p class="para">
                    Bei Verwendung des folgenden Codes kann eine Entität aktualisiert werden. Es ist
                    zu beachten das die Tabelle und die Entität hierfür bereits vorher erstellt
                    worden sein muss.
                </p>

                <div class="example"><div class="info"><p><b>Example #11 Aktualisieren einer Entität</b></p></div>
                    

                    <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$storageClient</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_WindowsAzure_Storage_Table<span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'table.core.windows.net'</span>, <span style="color: #ff0000;">'myaccount'</span>, <span style="color: #ff0000;">'myauthkey'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$entity</span> = <span style="color: #0000ff;">$storageClient</span>-&gt;<span style="color: #006600;">retrieveEntityById</span><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'testtable'</span>, <span style="color: #ff0000;">'partition1'</span>, <span style="color: #ff0000;">'row1'</span>, <span style="color: #ff0000;">'SampleEntity'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$entity</span>-&gt;<span style="color: #006600;">Name</span> = <span style="color: #ff0000;">'Neuer Name'</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$result</span> = <span style="color: #0000ff;">$storageClient</span>-&gt;<span style="color: #006600;">updateEntity</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'testtable'</span>, <span style="color: #0000ff;">$entity</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

                </div>

                <p class="para">
                    Wenn man sicherstellen will das die Entität vorher noch nicht aktualisiert wurde
                    kann man prüfen ob das <acronym class="acronym">Etag</acronym> der Entität angehakt ist. Wenn
                    die Entität bereits aktualisiert wurde, schlägt das Update fehl um
                    sicherzustellen das neuere Daten nicht überschrieben werden.
                </p>

                <div class="example"><div class="info"><p><b>Example #12 Aktualisieren einer Entität (mit Etag Prüfung)</b></p></div>
                    

                    <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$storageClient</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_WindowsAzure_Storage_Table<span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'table.core.windows.net'</span>, <span style="color: #ff0000;">'myaccount'</span>, <span style="color: #ff0000;">'myauthkey'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$entity</span> = <span style="color: #0000ff;">$storageClient</span>-&gt;<span style="color: #006600;">retrieveEntityById</span><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'testtable'</span>, <span style="color: #ff0000;">'partition1'</span>, <span style="color: #ff0000;">'row1'</span>, <span style="color: #ff0000;">'SampleEntity'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$entity</span>-&gt;<span style="color: #006600;">Name</span> = <span style="color: #ff0000;">'Neuer Name'</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Der letzte Parameter instruiert den Etag Check:</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$result</span> = <span style="color: #0000ff;">$storageClient</span>-&gt;<span style="color: #006600;">updateEntity</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'testtable'</span>, <span style="color: #0000ff;">$entity</span>, <span style="color: #000000; font-weight: bold;">true</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

                </div>
            </div>

            <div class="section" id="zend.service.windowsazure.storage.table.entities.api.delete" name="zend.service.windowsazure.storage.table.entities.api.delete"><div class="info"><h1 class="title">Löschen einer Entität</h1></div>
                

                <p class="para">
                    Bei Verwendung des folgenden Codes kann eine Entität gelöscht werden. Es ist zu
                    beachten das die Tabelle und die Entität hierfür bereits erstellt worden sein
                    müssen.
                </p>

                <div class="example"><div class="info"><p><b>Example #13 Löschen einer Entität</b></p></div>
                    

                    <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$storageClient</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_WindowsAzure_Storage_Table<span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'table.core.windows.net'</span>, <span style="color: #ff0000;">'myaccount'</span>, <span style="color: #ff0000;">'myauthkey'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$entity</span> = <span style="color: #0000ff;">$storageClient</span>-&gt;<span style="color: #006600;">retrieveEntityById</span><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'testtable'</span>, <span style="color: #ff0000;">'partition1'</span>, <span style="color: #ff0000;">'row1'</span>, <span style="color: #ff0000;">'SampleEntity'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$result</span> = <span style="color: #0000ff;">$storageClient</span>-&gt;<span style="color: #006600;">deleteEntity</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'testtable'</span>, <span style="color: #0000ff;">$entity</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

                </div>
            </div>
        </div>

        <div class="section" id="zend.service.windowsazure.storage.table.entities.querying" name="zend.service.windowsazure.storage.table.entities.querying"><div class="info"><h1 class="title">Durchführen von Abfragen</h1></div>
            

            <p class="para">
                Abfragen im <span class="classname">Zend_Service_WindowsAzure_Storage_Table</span> Tabellen
                Speicher können auf zwei Wegen durchgeführt werden:
            </p>

            <ul class="itemizedlist">
                <li class="listitem">
                    <p class="para">
                        Durch manuelles Erstellen einer Filter Kondition (was das Lernen einer neuen
                        Abfrage Sprache beinhaltet)
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        Durch Verwendung des fluent Interfaces welches von
                        <span class="classname">Zend_Service_WindowsAzure_Storage_Table</span> angeboten
                        wird.
                    </p>
                </li>
            </ul>

            <p class="para">
                Bei Verwendung des folgenden Codes kann eine Tabelle abgefragt werden indem eine
                Filter Kondition verwendet wird. Es ist zu beachten das die Tabelle und die
                Entitäten hierfür vorher bereits erstellt worden sein müssen.
            </p>

            <div class="example"><div class="info"><p><b>Example #14 Durchführen einer Abfrage bei Verwendung einer Filter Kondition</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$storageClient</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_WindowsAzure_Storage_Table<span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'table.core.windows.net'</span>, <span style="color: #ff0000;">'myaccount'</span>, <span style="color: #ff0000;">'myauthkey'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$entities</span> = <span style="color: #0000ff;">$storageClient</span>-&gt;<span style="color: #006600;">storageClient</span>-&gt;<span style="color: #006600;">retrieveEntities</span><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'testtable'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'Name eq <span style="color: #000099; font-weight: bold;">\'</span>Maarten<span style="color: #000099; font-weight: bold;">\'</span> and PartitionKey eq <span style="color: #000099; font-weight: bold;">\'</span>partition1<span style="color: #000099; font-weight: bold;">\'</span>'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'SampleEntity'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #b1b100;">foreach</span> <span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$entities</span> <span style="color: #b1b100;">as</span> <span style="color: #0000ff;">$entity</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #ff0000;">'Name: '</span> . <span style="color: #0000ff;">$entity</span>-&gt;<span style="color: #006600;">Name</span> . <span style="color: #ff0000;">&quot;<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li></ol></div></div></div>

            </div>

            <p class="para">
                Durch Verwendung des folgenden Codes kann eine tabelle abgefragt werden indem ein
                fluid Interface verwendet wird. Es ist zu beachten das die Tabelle und die
                Entität hierfür bereits vorher erstellt worden sein müssen.
            </p>

            <div class="example"><div class="info"><p><b>Example #15 Durchführen einer Abfrage bei Verwendung eines Fluid Interfaces</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$storageClient</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_WindowsAzure_Storage_Table<span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'table.core.windows.net'</span>, <span style="color: #ff0000;">'myaccount'</span>, <span style="color: #ff0000;">'myauthkey'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$entities</span> = <span style="color: #0000ff;">$storageClient</span>-&gt;<span style="color: #006600;">storageClient</span>-&gt;<span style="color: #006600;">retrieveEntities</span><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'testtable'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #0000ff;">$storageClient</span>-&gt;<span style="color: #006600;">select</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -&gt;<span style="color: #006600;">from</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$tableName</span><span style="color: #66cc66;">&#41;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -&gt;<span style="color: #006600;">where</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Name eq ?'</span>, <span style="color: #ff0000;">'Maarten'</span><span style="color: #66cc66;">&#41;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -&gt;<span style="color: #006600;">andWhere</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'PartitionKey eq ?'</span>, <span style="color: #ff0000;">'partition1'</span><span style="color: #66cc66;">&#41;</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'SampleEntity'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #b1b100;">foreach</span> <span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$entities</span> <span style="color: #b1b100;">as</span> <span style="color: #0000ff;">$entity</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #ff0000;">'Name: '</span> . <span style="color: #0000ff;">$entity</span>-&gt;<span style="color: #006600;">Name</span> . <span style="color: #ff0000;">&quot;<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li></ol></div></div></div>

            </div>
        </div>

        <div class="section" id="zend.service.windowsazure.storage.table.entities.batch" name="zend.service.windowsazure.storage.table.entities.batch"><div class="info"><h1 class="title">Batch Operationen</h1></div>
            

            <p class="para">
                Dieser Abschnitt demonstriert wie die Tabellen Entitäts Gruppen Transaktions
                Features verwendet werden können welche vom Windows Azure Tabellen Speicher
                angeboten werden. Der Windows Azure Tabellen Speicher unterstützt Batch
                Transaktionen auf Entitäten welche in der gleichen Tabelle sind und der gleichen
                Partitionsgruppe angehören. Eine Transaktion kann bis zu 100 Entitäten enthalten.
            </p>

            <p class="para">
                Das folgende Beispiel verwendet eine Batch Operation (Transaktion) um ein Set von
                Entitäten in die Tabelle &quot;testtable&quot; einzufügen. Es ist zu beachten das die Tabelle
                hierfür bereits vorher erstellt worden sein muss.
            </p>

            <div class="example"><div class="info"><p><b>Example #16 Ausführen einer Batch Operation</b></p></div>
                

                <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$storageClient</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_WindowsAzure_Storage_Table<span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'table.core.windows.net'</span>, <span style="color: #ff0000;">'myaccount'</span>, <span style="color: #ff0000;">'myauthkey'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Batch starten</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$batch</span> = <span style="color: #0000ff;">$storageClient</span>-&gt;<span style="color: #006600;">startBatch</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Entitäten mit Batch einfügen</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$entities</span> = generateEntities<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #b1b100;">foreach</span> <span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$entities</span> <span style="color: #b1b100;">as</span> <span style="color: #0000ff;">$entity</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #0000ff;">$storageClient</span>-&gt;<span style="color: #006600;">insertEntity</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$tableName</span>, <span style="color: #0000ff;">$entity</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Übermitteln</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$batch</span>-&gt;<span style="color: #006600;">commit</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

            </div>
        </div>
    </div>

    <div class="section" id="zend.service.windowsazure.storage.table.sessionhandler" name="zend.service.windowsazure.storage.table.sessionhandler"><div class="info"><h1 class="title">Session Handler für Tabellen Speicher</h1></div>
        

        <p class="para">
            Wenn eine <acronym class="acronym">PHP</acronym> Anwendung auf der Windows Azure Plattform in einem
            Load-Balanced Modus läuft (wenn 2 oder mehr Web Rollen Instanzen laufen), ist es
            wichtig dass <acronym class="acronym">PHP</acronym> Session Daten zwischen mehreren Web Rollen Instanzen
            verwendet werden können. Die Windows Azure <acronym class="acronym">SDK</acronym> von
            <acronym class="acronym">PHP</acronym> bietet die Klasse
            <span class="classname">Zend_Service_WindowsAzure_SessionHandler</span> an welche den Windows
            Azure Tabellen Speicher als Session Handler für <acronym class="acronym">PHP</acronym> Anwendungen
            verwendet.
        </p>

        <p class="para">
            Um den <span class="classname">Zend_Service_WindowsAzure_SessionHandler</span> Session Handler
            zu verwenden sollte er als Default Session Handler für die <acronym class="acronym">PHP</acronym>
            Anwendung registriert sein:
        </p>

        <div class="example"><div class="info"><p><b>Example #17 Registrierung des Tabellen Speicher Session Handlers</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$storageClient</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_WindowsAzure_Storage_Table<span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'table.core.windows.net'</span>, <span style="color: #ff0000;">'myaccount'</span>, <span style="color: #ff0000;">'myauthkey'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$sessionHandler</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_WindowsAzure_SessionHandler<span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #0000ff;">$storageClient</span> , <span style="color: #ff0000;">'sessionstable'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$sessionHandler</span>-&gt;<span style="color: #006600;">register</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

        </div>

        <p class="para">
            Der obenstehende Klassenname registriert den
            <span class="classname">Zend_Service_WindowsAzure_SessionHandler</span> Session Handler und
            speichert Sessions in einer Tabelle die &quot;sessionstable&quot; genannt wird.
        </p>

        <p class="para">
            Nach der Registrierung des
            <span class="classname">Zend_Service_WindowsAzure_SessionHandler</span> Session Handlers
            können Session gestartet und auf dem gleichen Weg wie normale <acronym class="acronym">PHP</acronym>
            Sessions verwendet werden:
        </p>

        <div class="example"><div class="info"><p><b>Example #18 Verwendung des Tabellen Speicher Session Handlers</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$storageClient</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_WindowsAzure_Storage_Table<span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'table.core.windows.net'</span>, <span style="color: #ff0000;">'myaccount'</span>, <span style="color: #ff0000;">'myauthkey'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$sessionHandler</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_WindowsAzure_SessionHandler<span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #0000ff;">$storageClient</span> , <span style="color: #ff0000;">'sessionstable'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$sessionHandler</span>-&gt;<span style="color: #006600;">register</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/session_start"><span style="color: #000066;">session_start</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #b1b100;">if</span> <span style="color: #66cc66;">&#40;</span>!<a href="http://www.php.net/isset"><span style="color: #000066;">isset</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$_SESSION</span><span style="color: #66cc66;">&#91;</span><span style="color: #ff0000;">'firstVisit'</span><span style="color: #66cc66;">&#93;</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #0000ff;">$_SESSION</span><span style="color: #66cc66;">&#91;</span><span style="color: #ff0000;">'firstVisit'</span><span style="color: #66cc66;">&#93;</span> = <a href="http://www.php.net/time"><span style="color: #000066;">time</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// ...</span></div></li></ol></div></div></div>

        </div>

        <div class="warning"><b class="warning">Warning</b>
            <p class="para">
                Der <span class="classname">Zend_Service_WindowsAzure_SessionHandler</span> Session Handler
                sollte registriert werden bevor ein Aufruf zu
                 <span class="methodname">session_start()</span> durchgeführt wird!
            </p>
        </div>
    </div>
</div>
        <hr />

            <table width="100%">
                <tr>
                    <td width="25%" style="text-align: left;">
                    <a href="zend.service.windowsazure.storage.queue.html">Zend_Service_WindowsAzure_Storage_Queue</a>
                    </td>

                    <td width="50%" style="text-align: center;">
                        <div class="up"><span class="up"><a href="zend.service.html">Zend_Service</a></span><br />
                        <span class="home"><a href="manual.html">Programmer's Reference Guide</a></span></div>
                    </td>

                    <td width="25%" style="text-align: right;">
                        <div class="next" style="text-align: right; float: right;"><a href="zend.service.yahoo.html">Zend_Service_Yahoo</a></div>
                    </td>
                </tr>
            </table>
</td>
        <td style="font-size: smaller;" width="15%"> <style type="text/css">
#leftbar {
	float: left;
	width: 186px;
	padding: 5px;
	font-size: smaller;
}
ul.toc {
	margin: 0px 5px 5px 5px;
	padding: 0px;
}
ul.toc li {
	font-size: 85%;
	margin: 1px 0 1px 1px;
	padding: 1px 0 1px 11px;
	list-style-type: none;
	background-repeat: no-repeat;
	background-position: center left;
}
ul.toc li.header {
	font-size: 115%;
	padding: 5px 0px 5px 11px;
	border-bottom: 1px solid #cccccc;
	margin-bottom: 5px;
}
ul.toc li.active {
	font-weight: bold;
}
ul.toc li a {
	text-decoration: none;
}
ul.toc li a:hover {
	text-decoration: underline;
}
</style>
 <ul class="toc">
  <li class="header home"><a href="manual.html">Programmer's Reference Guide</a></li>
  <li class="header up"><a href="manual.html">Programmer's Reference Guide</a></li>
  <li class="header up"><a href="reference.html">Zend Framework Reference</a></li>
  <li class="header up"><a href="zend.service.html">Zend_Service</a></li>
  <li><a href="zend.service.introduction.html">Einf&uuml;hrung</a></li>
  <li><a href="zend.service.akismet.html">Zend_Service_Akismet</a></li>
  <li><a href="zend.service.amazon.html">Zend_Service_Amazon</a></li>
  <li><a href="zend.service.amazon.ec2.html">Zend_Service_Amazon_Ec2</a></li>
  <li><a href="zend.service.amazon.ec2.instance.html">Zend_Service_Amazon_Ec2: Instanzen</a></li>
  <li><a href="zend.service.amazon.ec2.windows.instance.html">Zend_Service_Amazon_Ec2: Windows Instanzen</a></li>
  <li><a href="zend.service.amazon.ec2.reserved.instance.html">Zend_Service_Amazon_Ec2: Reservierte Instanzen</a></li>
  <li><a href="zend.service.amazon.ec2.cloudwatch.html">Zend_Service_Amazon_Ec2: CloudWatch Monitoring</a></li>
  <li><a href="zend.service.amazon.ec2.images.html">Zend_Service_Amazon_Ec2: Amazon Maschinen Images (AMI)</a></li>
  <li><a href="zend.service.amazon.ec2.ebs.html">Zend_Service_Amazon_Ec2: Elastischer Block Speicher (EBS)</a></li>
  <li><a href="zend.service.amazon.ec2.elasticip.html">Zend_Service_Amazon_Ec2: Elastische IP Adressen</a></li>
  <li><a href="zend.service.amazon.ec2.keypairs.html">Zend_Service_Amazon_Ec2: Schl&uuml;sselpaare</a></li>
  <li><a href="zend.service.amazon.ec2.zones.html">Zend_Service_Amazon_Ec2: Regionen und Availability Zones</a></li>
  <li><a href="zend.service.amazon.ec2.securitygroups.html">Zend_Service_Amazon_Ec2: Sicherheitsgruppen</a></li>
  <li><a href="zend.service.amazon.s3.html">Zend_Service_Amazon_S3</a></li>
  <li><a href="zend.service.amazon.sqs.html">Zend_Service_Amazon_Sqs</a></li>
  <li><a href="zend.service.audioscrobbler.html">Zend_Service_Audioscrobbler</a></li>
  <li><a href="zend.service.delicious.html">Zend_Service_Delicious</a></li>
  <li><a href="zend.service.developergarden.html">Zend_Service_DeveloperGarden</a></li>
  <li><a href="zend.service.ebay.html">Zend_Service_Ebay</a></li>
  <li><a href="zend.service.ebay.finding.html">Zend_Service_Ebay_Finding</a></li>
  <li><a href="zend.service.flickr.html">Zend_Service_Flickr</a></li>
  <li><a href="zend.service.livedocx.html">Zend_Service_LiveDocx</a></li>
  <li><a href="zend.service.nirvanix.html">Zend_Service_Nirvanix</a></li>
  <li><a href="zend.service.recaptcha.html">Zend_Service_ReCaptcha</a></li>
  <li><a href="zend.service.short-url.html">Zend_Service_ShortUrl</a></li>
  <li><a href="zend.service.simpy.html">Zend_Service_Simpy</a></li>
  <li><a href="zend.service.slideshare.html">Zend_Service_SlideShare</a></li>
  <li><a href="zend.service.strikeiron.html">Zend_Service_StrikeIron</a></li>
  <li><a href="zend.service.strikeiron.bundled-services.html">Zend_Service_StrikeIron: Mitgelieferte Services</a></li>
  <li><a href="zend.service.strikeiron.advanced-uses.html">Zend_Service_StrikeIron: Erweiterte Verwendung</a></li>
  <li><a href="zend.service.technorati.html">Zend_Service_Technorati</a></li>
  <li><a href="zend.service.twitter.html">Zend_Service_Twitter</a></li>
  <li><a href="zend.service.windowsazure.html">Zend_Service_WindowsAzure</a></li>
  <li><a href="zend.service.windowsazure.storage.blob.html">Zend_Service_WindowsAzure_Storage_Blob</a></li>
  <li><a href="zend.service.windowsazure.diagnostics.manager.html">Zend_Service_WindowsAzure_Diagnostics_Manager</a></li>
  <li><a href="zend.service.windowsazure.storage.queue.html">Zend_Service_WindowsAzure_Storage_Queue</a></li>
  <li class="active"><a href="zend.service.windowsazure.storage.table.html">Zend_Service_WindowsAzure_Storage_Table</a></li>
  <li><a href="zend.service.yahoo.html">Zend_Service_Yahoo</a></li>
 </ul>
 </td>
    </tr>
</table>
</body>
</html>