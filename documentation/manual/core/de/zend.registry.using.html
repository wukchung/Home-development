<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>Die Registry verwenden - Zend Framework Manual</title>

</head>
<body>
<table width="100%">
    <tr valign="top">
        <td width="85%">
            <table width="100%">
                <tr>
                    <td width="25%" style="text-align: left;">
                    <a href="zend.registry.html">Zend_Registry</a>
                    </td>

                    <td width="50%" style="text-align: center;">
                        <div class="up"><span class="up"><a href="zend.registry.html">Zend_Registry</a></span><br />
                        <span class="home"><a href="manual.html">Programmer's Reference Guide</a></span></div>
                    </td>

                    <td width="25%" style="text-align: right;">
                        <div class="next" style="text-align: right; float: right;"><a href="zend.rest.html">Zend_Rest</a></div>
                    </td>
                </tr>
            </table>
<hr />
<div id="zend.registry.using" class="section"><div class="info"><h1 class="title">Die Registry verwenden</h1></div>
    

    <p class="para">
        Eine Registry ist ein Container für das Speichern von Objekten und Werten im
        Raum der Anwendung. Durch das Speichern der Werte in einer Registry steht das
        selbe Objekt immer innerhalb der kompletten Anwendung zur Verfügung.
        Dieser Mechanismus ist eine Alernative zur Verwendung eines Globalen Speichers.
    </p>

    <p class="para">
        Die typische Methode um Registries mit dem Zend Framework zu verwenden ist durch die
        statischen Methoden in der <span class="classname">Zend_Registry</span> Klasse. Alternativ kann die
        Registry als Arrayobjekt verwendet werden, und so können Elemente welche darin gespeichert
        wurden durch ein gewöhnliches Array-artiges Interface verwendet werden.
    </p>

    <div class="section" id="zend.registry.using.storing" name="zend.registry.using.storing"><div class="info"><h1 class="title">Werte in die Registry speichern</h1></div>
        

        <p class="para">
            Verwende die statische Methode  <span class="methodname">set()</span> um einen Eintrag in der
            Registry zu Speichern.
        </p>

        <div class="example"><div class="info"><p><b>Example #1 Beispiel der Verwendung der set() Methode</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">Zend_Registry::<span style="color: #006600;">set</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'index'</span>, <span style="color: #0000ff;">$value</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

        </div>

        <p class="para">
            Der zurückgegebene Wert kann ein Objekt, ein Array oder ein Skalar sein.
            Der gespeicherte Wert in einem speziellen Eintrag der Registry
            kann durch den Aufruf der  <span class="methodname">set()</span> Methode verändert werden um
            den Eintrag auf einen neuen Wert zu setzen.
        </p>

        <p class="para">
            Der Index kann ein Skalar (<b><tt>NULL</tt></b>, String oder Nummer),
            sowie ein gewöhnliches Array sein.
        </p>
    </div>

    <div class="section" id="zend.registry.using.retrieving" name="zend.registry.using.retrieving"><div class="info"><h1 class="title">Werte aus der Registry lesen</h1></div>
        

        <p class="para">
            Um einen Eintrag von der Registry zu erhalten, kann die statische
             <span class="methodname">get()</span> Methode verwendet werden.
        </p>

        <div class="example"><div class="info"><p><b>Example #2 Beispiel der Verwendung der get() Methode</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$value</span> = Zend_Registry::<span style="color: #006600;">get</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'index'</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

        </div>

        <p class="para">
            Die  <span class="methodname">getInstance()</span> Methode gibt ein Singleton Registry Objekt
            zurück. Dieses Registry Objekt ist durchsuchbar, und erlaubt es auf alle in der Registry
            gespeicherten Werte einfach zuzugreifen.
        </p>

        <div class="example"><div class="info"><p><b>Example #3 Beispiel des Durchsuchens der Registry</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$registry</span> = Zend_Registry::<span style="color: #006600;">getInstance</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #b1b100;">foreach</span> <span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$registry</span> <span style="color: #b1b100;">as</span> <span style="color: #0000ff;">$index</span> =&gt; <span style="color: #0000ff;">$value</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #ff0000;">&quot;Registry Index $index enthält:<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <a href="http://www.php.net/var_dump"><span style="color: #000066;">var_dump</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$value</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li></ol></div></div></div>

        </div>
    </div>

    <div class="section" id="zend.registry.using.constructing" name="zend.registry.using.constructing"><div class="info"><h1 class="title">Erstellen eines Registry Objektes</h1></div>
        

        <p class="para">
            Zusätzlich zur Verwendung der statischen Registry über die statischen Methoden,
            kann eine Instanz direkt erzeugt werden und als Objekt verwendet werden.
        </p>

        <p class="para">
            Die Registry Instanz die durch die statischen Methoden verwendet wird,
            ist einfach eine solche Instanz. Es ist eine Vereinfachung die statisch
            gespeichert ist damit Sie von überall innerhalb einer Anwendung verwendet
            werden kann.
        </p>

        <p class="para">
            Der traditionelle <em class="emphasis">new</em> Operator kann verwendet werden um
            <span class="classname">Zend_Registry</span> zu initiieren. Das Initiieren von
            <span class="classname">Zend_Registry</span> mit seinem Konstruktor initiiert auch die Einträge
            in der Registry einfach durch die Verwendung eines assoziativen Arrays als Argument.
        </p>

        <div class="example"><div class="info"><p><b>Example #4 Beispiel für das Erstellen einer Registry</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$registry</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Registry<span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'index'</span> =&gt; <span style="color: #0000ff;">$value</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

        </div>

        <p class="para">
            Sobald so ein <span class="classname">Zend_Registry</span> Objekt initiiert wurde, kann es durch
            den Aufruf irgendeiner Array Objektmethode verwendet werden, oder indem es als
            Singleton Instanz für <span class="classname">Zend_Registry</span> mit der statischen Methode
             <span class="methodname">setInstance()</span> gesetzt wird.
        </p>

        <div class="example"><div class="info"><p><b>Example #5 Beispiel der Initialisierung der Singleton Registry</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$registry</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Registry<span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'index'</span> =&gt; <span style="color: #0000ff;">$value</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">Zend_Registry::<span style="color: #006600;">setInstance</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$registry</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

        </div>

        <p class="para">
            Die  <span class="methodname">setInstance()</span> Methode wirft eine
            <span class="classname">Zend_Exception</span> wenn die statische Registry bereits initialisiert
            wurde.
        </p>
    </div>

    <div class="section" id="zend.registry.using.array-access" name="zend.registry.using.array-access"><div class="info"><h1 class="title">Auf die Registry als Array zugreifen</h1></div>
        

        <p class="para">
            Wenn mehrere Werte gesetzt oder gelesen werden sollen, kann es einfacher
            sein auf die Registry in Array Schreibweise zuzugreifen.
        </p>

        <div class="example"><div class="info"><p><b>Example #6 Beispiel eines Array-zugriffs</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$registry</span> = Zend_Registry::<span style="color: #006600;">getInstance</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$registry</span><span style="color: #66cc66;">&#91;</span><span style="color: #ff0000;">'index'</span><span style="color: #66cc66;">&#93;</span> = <span style="color: #0000ff;">$value</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/var_dump"><span style="color: #000066;">var_dump</span></a><span style="color: #66cc66;">&#40;</span> <span style="color: #0000ff;">$registry</span><span style="color: #66cc66;">&#91;</span><span style="color: #ff0000;">'index'</span><span style="color: #66cc66;">&#93;</span> <span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

        </div>
    </div>

    <div class="section" id="zend.registry.using.array-object" name="zend.registry.using.array-object"><div class="info"><h1 class="title">Zugriff auf die Registry als Objekt</h1></div>
        

        <p class="para">
            Manchmal ist es einfacher auf die Registry in einer Objekt-Orientierten
            Art und Weise zuzugreifen, durch Verwendung von Indexnamen als Objekt Eigenschaften.
            Man muß das Registry Objekt mit der <b><tt>ArrayObject::ARRAY_AS_PROPS</tt></b>
            Option erstellen und die statische Instanz initialisieren um diese Funktionalität
            einzuschalten.

            <blockquote><p><b class="note">Note</b>: 
                
                    Man muß die <b><tt>ArrayObject::ARRAY_AS_PROPS</tt></b> Option setzen
                    <em class="emphasis">bevor</em> auf die statische Registry das erste Mal
                    zugegriffen wird.
                <br />
            </p></blockquote>
        </p>

        <div class="warning"><b class="warning">Warning</b><div class="info"><h1 class="title">Bekannte Probleme mit der ArrayObject::ARRAY_AS_PROPS Option</h1></div>
            

            <p class="para">
                Einige Versionen von <acronym class="acronym">PHP</acronym> sind bekanntermaßen sehr fehlerhaft wenn
                die Registry mit der <b><tt>ArrayObject::ARRAY_AS_PROPS</tt></b> Option
                verwendet wird.
            </p>
        </div>

        <div class="example"><div class="info"><p><b>Example #7 Beispiel eines Objektzugriffs</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// In der Anwendungs Bootstrap Datei:</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$registry</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Registry<span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>, ArrayObject::<span style="color: #006600;">ARRAY_AS_PROPS</span><span style="color: #66cc66;">&#41;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">Zend_Registry::<span style="color: #006600;">setInstance</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$registry</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$registry</span>-&gt;<span style="color: #006600;">tree</span> = <span style="color: #ff0000;">'Apfel'</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">.</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">.</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">.</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// In einer anderen Funktion, irgendwo in der Anwendung:</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$registry</span> = Zend_Registry::<span style="color: #006600;">getInstance</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #0000ff;">$registry</span>-&gt;<span style="color: #006600;">tree</span>; <span style="color: #808080; font-style: italic;">// Gibt &quot;Apfel&quot; aus</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$registry</span>-&gt;<span style="color: #006600;">index</span> = <span style="color: #0000ff;">$value</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/var_dump"><span style="color: #000066;">var_dump</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$registry</span>-&gt;<span style="color: #006600;">index</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

        </div>
    </div>

    <div class="section" id="zend.registry.using.isset" name="zend.registry.using.isset"><div class="info"><h1 class="title">Abfragen ob ein Index existiert</h1></div>
        

        <p class="para">
            Um herauszufinden ob ein bestimmter Index in der Registry gesetzt wurde,
            kann die statische Methode  <span class="methodname">isRegistered()</span> verwendet werden.
        </p>

        <div class="example"><div class="info"><p><b>Example #8 Beispiel der Verwendung der isRegistered() Methode</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #b1b100;">if</span> <span style="color: #66cc66;">&#40;</span>Zend_Registry::<span style="color: #006600;">isRegistered</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$index</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #0000ff;">$value</span> = Zend_Registry::<span style="color: #006600;">get</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$index</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li></ol></div></div></div>

        </div>

        <p class="para">
            Um herauszufinden ob ein bestimmter Index in einem Registry Array oder Objekt
            einen Wert hat kann die  <span class="methodname">isset()</span> Methode verwendet werden, wie
            bei einem gewöhnlichen Array.
        </p>

        <div class="example"><div class="info"><p><b>Example #9 Beispiel der Verwendung der isset() Methode</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$registry</span> = Zend_Registry::<span style="color: #006600;">getInstance</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Verwendung der Array Syntax</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #b1b100;">if</span> <span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/isset"><span style="color: #000066;">isset</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$registry</span><span style="color: #66cc66;">&#91;</span><span style="color: #ff0000;">'index'</span><span style="color: #66cc66;">&#93;</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <a href="http://www.php.net/var_dump"><span style="color: #000066;">var_dump</span></a><span style="color: #66cc66;">&#40;</span> <span style="color: #0000ff;">$registry</span><span style="color: #66cc66;">&#91;</span><span style="color: #ff0000;">'index'</span><span style="color: #66cc66;">&#93;</span> <span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Verwendung der Objekt Syntax</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #b1b100;">if</span> <span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/isset"><span style="color: #000066;">isset</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$registry</span>-&gt;<span style="color: #006600;">index</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <a href="http://www.php.net/var_dump"><span style="color: #000066;">var_dump</span></a><span style="color: #66cc66;">&#40;</span> <span style="color: #0000ff;">$registry</span>-&gt;<span style="color: #006600;">index</span> <span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li></ol></div></div></div>

        </div>
    </div>

    <div class="section" id="zend.registry.using.subclassing" name="zend.registry.using.subclassing"><div class="info"><h1 class="title">Erweitern der Registry</h1></div>
        

        <p class="para">
            Die statische Registry ist eine Instanz der Klasse <span class="classname">Zend_Registry</span>.
            Wenn Funktionalität zur Registry hinzugefügt werden soll, sollte eine Klasse
            erstellt werden die <span class="classname">Zend_Registry</span> erweitert und dann kann diese
            spezielle Klasse definiert werden um das Singleton in der statische Registry zu
            initiieren. Die statische Methode  <span class="methodname">setClassName()</span> kann verwendet
            werden um die Klasse zu definieren.

            <blockquote><p><b class="note">Note</b>: 
                
                    Diese Klasse muß eine Unterklasse von <span class="classname">Zend_Registry</span> sein.
                <br />
            </p></blockquote>
        </p>

        <div class="example"><div class="info"><p><b>Example #10 Beispiel des Definierens des Singleton Registry Klassennamens</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">Zend_Registry::<span style="color: #006600;">setClassName</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Meine_Registry'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">Zend_Registry::<span style="color: #006600;">set</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'index'</span>, <span style="color: #0000ff;">$value</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

        </div>

        <p class="para">
            Die Registry wirft eine <span class="classname">Zend_Exception</span> wenn man versucht den
            Klassennamen zu setzen nachdem die Registry das erste Mal verwendet wurde. Es ist
            deshalb notwendig den Klassennamen für die statische Registry in der Bootstrap
            Datei der Anwendung zu definieren.
        </p>
    </div>

    <div class="section" id="zend.registry.using.unsetting" name="zend.registry.using.unsetting"><div class="info"><h1 class="title">Entfernen der statischen Registry</h1></div>
        

        <p class="para">
            Obwohl es normalerweise nicht notwendig ist, kann die Singleton Instanz
            der Registry entfernt werden. Die statische Methode
             <span class="methodname">_unsetInstance()</span> verwendet werden, um das zu tun.
        </p>

        <div class="warning"><b class="warning">Warning</b><div class="info"><h1 class="title">Risiko des Datenverlustes</h1></div>
            

            <p class="para">
                Wenn  <span class="methodname">_unsetInstance()</span> verwendet wird,
                werden alle Daten in der statischen Registry verworfen und können
                nicht wiederhergestellt werden.
            </p>
        </div>

        <p class="para">
            Diese Methode kann zum Beispiel verwendet werden, wenn
             <span class="methodname">setInstance()</span> oder  <span class="methodname">setClassName()</span> nach
            der Initialisierung des Singleton Registry Objektes verwendet werden soll.
            Entfernen der Singleton Instanz erlaubt die Benutzung dieser Methoden
            selbst nachdem das Singleton Registry Objekt gesetzt wurde. Die Verwendung
            von <span class="classname">Zend_Registry</span> auf diese Weise ist für typische Anwendungen
            und Umgebungen nicht empfohlen.
        </p>

        <div class="example"><div class="info"><p><b>Example #11 Beispiel der Verwendung der _unsetInstance() Methode</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">Zend_Registry::<span style="color: #006600;">set</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'index'</span>, <span style="color: #0000ff;">$value</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">Zend_Registry::_unsetInstance<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Ändern der Klasse</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">Zend_Registry::<span style="color: #006600;">setClassName</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Meine_Registry'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">Zend_Registry::<span style="color: #006600;">set</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'index'</span>, <span style="color: #0000ff;">$value</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

        </div>
    </div>
</div>
        <hr />

            <table width="100%">
                <tr>
                    <td width="25%" style="text-align: left;">
                    <a href="zend.registry.html">Zend_Registry</a>
                    </td>

                    <td width="50%" style="text-align: center;">
                        <div class="up"><span class="up"><a href="zend.registry.html">Zend_Registry</a></span><br />
                        <span class="home"><a href="manual.html">Programmer's Reference Guide</a></span></div>
                    </td>

                    <td width="25%" style="text-align: right;">
                        <div class="next" style="text-align: right; float: right;"><a href="zend.rest.html">Zend_Rest</a></div>
                    </td>
                </tr>
            </table>
</td>
        <td style="font-size: smaller;" width="15%"> <style type="text/css">
#leftbar {
	float: left;
	width: 186px;
	padding: 5px;
	font-size: smaller;
}
ul.toc {
	margin: 0px 5px 5px 5px;
	padding: 0px;
}
ul.toc li {
	font-size: 85%;
	margin: 1px 0 1px 1px;
	padding: 1px 0 1px 11px;
	list-style-type: none;
	background-repeat: no-repeat;
	background-position: center left;
}
ul.toc li.header {
	font-size: 115%;
	padding: 5px 0px 5px 11px;
	border-bottom: 1px solid #cccccc;
	margin-bottom: 5px;
}
ul.toc li.active {
	font-weight: bold;
}
ul.toc li a {
	text-decoration: none;
}
ul.toc li a:hover {
	text-decoration: underline;
}
</style>
 <ul class="toc">
  <li class="header home"><a href="manual.html">Programmer's Reference Guide</a></li>
  <li class="header up"><a href="manual.html">Programmer's Reference Guide</a></li>
  <li class="header up"><a href="reference.html">Zend Framework Reference</a></li>
  <li class="header up"><a href="zend.registry.html">Zend_Registry</a></li>
  <li class="active"><a href="zend.registry.using.html">Die Registry verwenden</a></li>
 </ul>
 </td>
    </tr>
</table>
</body>
</html>