<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>Erstellung einer Ma&szlig;einheit - Zend Framework Manual</title>

</head>
<body>
<table width="100%">
    <tr valign="top">
        <td width="85%">
            <table width="100%">
                <tr>
                    <td width="25%" style="text-align: left;">
                    <a href="zend.measure.introduction.html">Einf&uuml;hrung</a>
                    </td>

                    <td width="50%" style="text-align: center;">
                        <div class="up"><span class="up"><a href="zend.measure.html">Zend_Measure</a></span><br />
                        <span class="home"><a href="manual.html">Programmer's Reference Guide</a></span></div>
                    </td>

                    <td width="25%" style="text-align: right;">
                        <div class="next" style="text-align: right; float: right;"><a href="zend.measure.output.html">Ausgabe von Ma&szlig;einheiten</a></div>
                    </td>
                </tr>
            </table>
<hr />
<div id="zend.measure.creation" class="section"><div class="info"><h1 class="title">Erstellung einer Maßeinheit</h1></div>
    

    <p class="para">
        Bei der Erstellung einer Maßeinheit erwarten die <span class="classname">Zend_Measure_*</span>
        Methoden den Eingabe-/den Originalwert als ersten Parameter. Dieser kann ein
        <a href="zend.measure.creation.html#zend.measure.creation.number" class="link">nummerisches Argument</a>, einen
        <a href="zend.measure.creation.html#zend.measure.creation.string" class="link"> <span class="type">String</span> </a> oder Einheit, oder
        eine <a href="zend.measure.creation.html#zend.measure.creation.localized" class="link">lokalisierte Zeichenkette mit
            definierter Einheit</a> sein. Der zweite Parameter definiert die Art der Maßeinheit.
        Beide Parameter sind zwingend erforderlich. Die Sprache kann als optionaler dritter
        Parameter definiert werden.
    </p>

    <div class="section" id="zend.measure.creation.number" name="zend.measure.creation.number"><div class="info"><h1 class="title">Eine Maßeinheit von einer Integer oder Floatzahl erstellen</h1></div>
        

        <p class="para">
            Zusätzlich zu Integerwerten können Floatwerte benutzt werden, aber
            <a href="http://www.php.net/float" class="link external">&raquo; &quot;einfache Dezimalbrüche wie 0.1 or 0.7 können
            nicht in Ihre binäre Entsprechung konvertiert werden ohne den Verlust von
            Genauigkeit,&quot;</a> was zeitweise zu erstaunlichen Ergebnissen führt. Genauso sollten
            zwei Floatzahlen nicht auf Gleichheit geprüft werden.
        </p>

        <div class="example"><div class="info"><p><b>Example #1 Erstellung einer Maßeinheit durch Integer oder Floatwerte</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$measurement</span> = <span style="color: #cc66cc;">1234.7</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$unit</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Measure_Length<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#40;</span>integer<span style="color: #66cc66;">&#41;</span><span style="color: #0000ff;">$measurement</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Zend_Measure_Length::<span style="color: #006600;">STANDARD</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #0000ff;">$unit</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Ausgabe '1234 m' (Meter)</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$unit</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Measure_Length<span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$measurement</span>, Zend_Measure_Length::<span style="color: #006600;">STANDARD</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #0000ff;">$unit</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Ausgabe '1234.7 m' (Meter)</span></div></li></ol></div></div></div>

        </div>
    </div>

    <div class="section" id="zend.measure.creation.string" name="zend.measure.creation.string"><div class="info"><h1 class="title">Erstellen einer Maßeinheit aus Zeichenketten</h1></div>
        

        <p class="para">
            Viele Maßeinheiten die als Eingabe einer Zend Framework Anwendung empfangen werden
            können nur als Zeichenketten den Klassen von <span class="classname">Zend_Measure_*</span>
            übergeben werden, wie z.B. Zahlen die in <a href="http://en.wikipedia.org/wiki/Roman_numerals" class="link external">&raquo; Römischer Schreibweise</a>
            geschrieben werden, oder extrem lange Binärwerte welche die Genauigkeit von
            <acronym class="acronym">PHP</acronym>&#039;s natürlichen Integer und Floattypen übersteigen würden. Da
            Integer auch als Zeichenketten geschrieben werden können sollten, sobald die Gefahr
            eines Genauigkeitverlustes durch die Limits von <acronym class="acronym">PHP</acronym>&#039;s Integer und
            Floatwerten besteht, stattdessen Zeichenketten verwendet werden.
            <span class="classname">Zend_Measure_Number</span> benutzt die BCMath Erweiterung um
            aussergewöhnliche Genauigkeit zu unterstützen, wie im gezeigen Beispiel, um die
            Beschränkungen von vielen <acronym class="acronym">PHP</acronym> Funktionen wie <a href="http://php.net/bin2dec" class="link external">&raquo;  <span class="methodname">bin2dec()</span></a> zu umgehen.
        </p>

        <div class="example"><div class="info"><p><b>Example #2 Erstellung einer Maßeinheit durch Strings</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$mystring</span> = <span style="color: #ff0000;">&quot;10010100111010111010100001011011101010001&quot;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$unit</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Measure_Number<span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$mystring</span>, Zend_Measure_Number::<span style="color: #006600;">BINARY</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #0000ff;">$unit</span>;</div></li></ol></div></div></div>

        </div>
    </div>

    <div class="section" id="zend.measure.creation.localized" name="zend.measure.creation.localized"><div class="info"><h1 class="title">Maßeinheiten von lokalisierten Zeichenketten</h1></div>
        

        <p class="para">
            Wenn eine Zeichenkette in lokalisierter Schreibweise eingegeben wurde, kann die richtige
            Interpretation nicht herausgefunden werden ohne dass das gewünschte Gebietsschema
            bekannt ist. Die Teilung der Dezimalziffern mit &quot;.&quot; und die Gruppierung der Tausender
            mit &quot;,&quot; ist in der Englischen Sprache üblich, aber nur in anderen Sprachen. Um mit
            solchen Problemen umgehen zu können, besteht bei den lokalisierten Klassen der
            <span class="classname">Zend_Measure_*</span> Familie die Möglichkeit eine Sprache oder Region
            anzugeben, um einen Eingabewert eindeutig zu machen und die erwartete semantische
            Eingabe richtig zu interpretieren.
        </p>

        <div class="example"><div class="info"><p><b>Example #3 Lokalisierte Zeichenketten</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$locale</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Locale<span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'de'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$mystring</span> = <span style="color: #ff0000;">&quot;1,234.50&quot;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$unit</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Measure_Length<span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$mystring</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Zend_Measure_Length::<span style="color: #006600;">STANDARD</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">$locale</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #0000ff;">$unit</span>; <span style="color: #808080; font-style: italic;">// Ausgabe &quot;1.234 m&quot;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$mystring</span> = <span style="color: #ff0000;">&quot;1,234.50&quot;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$unit</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Measure_Length<span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$mystring</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Zend_Measure_Length::<span style="color: #006600;">STANDARD</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'en_US'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #0000ff;">$unit</span>; <span style="color: #808080; font-style: italic;">// Ausgabe &quot;1234.50 m&quot;</span></div></li></ol></div></div></div>

        </div>

        <p class="para">
            Seit Zend Framework 1.7.0 unterstützt <span class="classname">Zend_Measure</span> auch die
            Verwendung eines Anwendungsweiten Gebietsschemas. Man kann ganz einfach eine
            <span class="classname">Zend_Locale</span> Instanz in der Registry setzen wie anbei gezeigt. Mit
            dieser Schreibweise kann man das manuelle Setzen eines Gebietsschemas für jede Instanz
            vergessen wenn man das selbe Gebietsschema mehrere Male verwenden will.
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// In der Bootstrap Datei</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$locale</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Locale<span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'de_AT'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">Zend_Registry::<span style="color: #006600;">set</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Zend_Locale'</span>, <span style="color: #0000ff;">$locale</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Irgendwo in der eigenen Anwendung</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$length</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Measure_Length<span style="color: #66cc66;">&#40;</span>Zend_Measure_Length::<span style="color: #006600;">METER</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

    </div>
</div>
        <hr />

            <table width="100%">
                <tr>
                    <td width="25%" style="text-align: left;">
                    <a href="zend.measure.introduction.html">Einf&uuml;hrung</a>
                    </td>

                    <td width="50%" style="text-align: center;">
                        <div class="up"><span class="up"><a href="zend.measure.html">Zend_Measure</a></span><br />
                        <span class="home"><a href="manual.html">Programmer's Reference Guide</a></span></div>
                    </td>

                    <td width="25%" style="text-align: right;">
                        <div class="next" style="text-align: right; float: right;"><a href="zend.measure.output.html">Ausgabe von Ma&szlig;einheiten</a></div>
                    </td>
                </tr>
            </table>
</td>
        <td style="font-size: smaller;" width="15%"> <style type="text/css">
#leftbar {
	float: left;
	width: 186px;
	padding: 5px;
	font-size: smaller;
}
ul.toc {
	margin: 0px 5px 5px 5px;
	padding: 0px;
}
ul.toc li {
	font-size: 85%;
	margin: 1px 0 1px 1px;
	padding: 1px 0 1px 11px;
	list-style-type: none;
	background-repeat: no-repeat;
	background-position: center left;
}
ul.toc li.header {
	font-size: 115%;
	padding: 5px 0px 5px 11px;
	border-bottom: 1px solid #cccccc;
	margin-bottom: 5px;
}
ul.toc li.active {
	font-weight: bold;
}
ul.toc li a {
	text-decoration: none;
}
ul.toc li a:hover {
	text-decoration: underline;
}
</style>
 <ul class="toc">
  <li class="header home"><a href="manual.html">Programmer's Reference Guide</a></li>
  <li class="header up"><a href="manual.html">Programmer's Reference Guide</a></li>
  <li class="header up"><a href="reference.html">Zend Framework Reference</a></li>
  <li class="header up"><a href="zend.measure.html">Zend_Measure</a></li>
  <li><a href="zend.measure.introduction.html">Einf&uuml;hrung</a></li>
  <li class="active"><a href="zend.measure.creation.html">Erstellung einer Ma&szlig;einheit</a></li>
  <li><a href="zend.measure.output.html">Ausgabe von Ma&szlig;einheiten</a></li>
  <li><a href="zend.measure.edit.html">Manipulation von Ma&szlig;einheiten</a></li>
  <li><a href="zend.measure.types.html">Arten von Ma&szlig;einheiten</a></li>
 </ul>
 </td>
    </tr>
</table>
</body>
</html>