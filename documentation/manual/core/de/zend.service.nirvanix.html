<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>Zend_Service_Nirvanix - Zend Framework Manual</title>

</head>
<body>
<table width="100%">
    <tr valign="top">
        <td width="85%">
            <table width="100%">
                <tr>
                    <td width="25%" style="text-align: left;">
                    <a href="zend.service.livedocx.html">Zend_Service_LiveDocx</a>
                    </td>

                    <td width="50%" style="text-align: center;">
                        <div class="up"><span class="up"><a href="zend.service.html">Zend_Service</a></span><br />
                        <span class="home"><a href="manual.html">Programmer's Reference Guide</a></span></div>
                    </td>

                    <td width="25%" style="text-align: right;">
                        <div class="next" style="text-align: right; float: right;"><a href="zend.service.recaptcha.html">Zend_Service_ReCaptcha</a></div>
                    </td>
                </tr>
            </table>
<hr />
<div id="zend.service.nirvanix" class="section"><div class="info"><h1 class="title">Zend_Service_Nirvanix</h1></div>
    

    <div class="section" id="zend.service.nirvanix.introduction" name="zend.service.nirvanix.introduction"><div class="info"><h1 class="title">Einführung</h1></div>
        

        <p class="para">
            Nirvanix bietet ein Internet Media File System (IMFS), einen Internet Speicher Service
            der es Anwendungen erlaubt Dateien hochzuladen, zu speichern, zu organisieren und
            nachhaltig auf Sie zuzugreifen durch Verwendung eines Standard Web Service Interfaces.
            Ein IMFS ist ein verteiltes geclustertes Dateisystem, auf das über das Internet
            zugegriffen wird, und das für die Handhabung mit Mediendateien (Audio, Video, usw.)
            optimiert ist. Das Ziel eines IMFA ist es massive Skalarität zu bieten um den
            Problemen des Wachstums der Medienspeicher Herr zu werden, mit garantiertem Zugriff und
            Erreichbarkeit unabhängig von Zeit und Ort. Letztendlich, gibt eine IMFS Anwendung die
            Möglichkeit auf Daten sicher zuzugreifen, ohne die großen Fixkosten die mit der
            Beschaffung und Einrichtung von physikalischen Speicherbänken verbunden sind.
        </p>
    </div>

    <div class="section" id="zend.service.nirvanix.registering" name="zend.service.nirvanix.registering"><div class="info"><h1 class="title">Registrierung bei Nirvanix</h1></div>
        

        <p class="para">
            Bevor man mit <span class="classname">Zend_Service_Nirvanix</span> beginnt, muß man sich zuerst
            für einen Account anmelden. Bitte sehen Sie auf die
            <a href="http://www.nirvanix.com/gettingStarted.aspx" class="link external">&raquo; Wie man anfängt</a> Seite
            auf der Nirvanix Webseite für weitere Informationen.
        </p>

        <p class="para">
            Nach der Registrierung erhält man einen Benutzernamen, ein Passwort und einen
            Anwendungsschlüssel. Alle drei werden benötigt um
            <span class="classname">Zend_Service_Nirvanix</span> zu verwenden.
        </p>
    </div>

    <div class="section" id="zend.service.nirvanix.apiDocumentation" name="zend.service.nirvanix.apiDocumentation"><div class="info"><h1 class="title">API Dokumentation</h1></div>
        

        <p class="para">
            Der Zugriff auf Nirvanix IMFS ist durch beide, sowohl ein <acronym class="acronym">SOAP</acronym> als
            auch ein schnelleres REST Service möglich. <span class="classname">Zend_Service_Nirvanix</span>
            bietet einen relativ dünnen <acronym class="acronym">PHP</acronym> 5 Wrapper um das REST Service.
        </p>

        <p class="para">
            <span class="classname">Zend_Service_Nirvanix</span> zielt darauf ab das Nirvanix REST Service
            einfacher zu verwenden aber zu verstehen dass das Service selbst trotzdem noch
            essentiell ist um mit Nirvanix erfolgreich zu sein.
        </p>

        <p class="para">
            Die <a href="http://developer.nirvanix.com/sitefiles/1000/API.html" class="link external">&raquo; Nirvanix
                <acronym class="acronym">API</acronym> Dokumentation</a> bietet eine Übersicht sowie detailierte
            Informationen über die Verwendung des Services. Bitte machen Sie sich mit diesem
            Dokument vertraut und referieren Sie darauf wenn Sie
            <span class="classname">Zend_Service_Nirvanix</span> verwenden.
        </p>
    </div>

    <div class="section" id="zend.service.nirvanix.features" name="zend.service.nirvanix.features"><div class="info"><h1 class="title">Features</h1></div>
        

        <p class="para">
            Nirvanix&#039;s REST Service kann mit <acronym class="acronym">PHP</acronym> effektiv verwendet werden
            alleine mit Hilfe der <a href="http://www.php.net/simplexml" class="link external">&raquo; SimpleXML</a>
            Erweiterung und <span class="classname">Zend_Http_Client</span>. Trotzdem ist deren Verwendung
            auf diesem Weg irgendwie unbequem wegen der wiederholenden Operationen, wie die Übergabe
            des Session Tokens bei jeder Anfrage und der wiederholten Prüfung des Antwort Bodys nach
            Fehlercodes.
        </p>

        <p class="para">
            <span class="classname">Zend_Service_Nirvanix</span> bietet die folgenden Funktionalitäten:

            <ul class="itemizedlist">
                <li class="listitem">
                    <p class="para">
                        Einen einzelnen Punkt für die Konfiguration der Nirvanix Authentifizierungs
                        Daten die mit den Nirvanix Namespaces verwendet werden können.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        Ein Proxy Objekt das viel bequemer ist als ein <acronym class="acronym">HTTP</acronym>
                        Client alleine, hauptsächlich wird die Notwendigkeit entfernt die
                        <acronym class="acronym">HTTP</acronym> POST Anfrage manuell zu erstellen um auf das REST
                        Service zugreifen zu können.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        Ein verantwortlicher Wrapper der jeden Antwortbody parst und eine Ausnahme
                        wirft wenn ein Fehler aufgetreten ist, was die Notwendigkeit mildert
                        widerholt den Erfolg der vielen Kommandos zu prüfen.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        Zusätzliche bequeme Methoden für einige oder die meisten üblichen
                        Operationen.
                    </p>
                </li>
            </ul>
        </p>
    </div>

    <div class="section" id="zend.service.nirvanix.storing-your-first" name="zend.service.nirvanix.storing-your-first"><div class="info"><h1 class="title">Der Anfang</h1></div>
        

        <p class="para">
            Sobald man in Nirvanix registriert ist, ist man bereit die ersten Datein am IMFS zu
            speichern. Die üblichste Operation die man am IMFS benötigt ist der Erstellung einer
            neuen Datei, das Herunterladen bestehender Dateien, und das Löschen einer Datei.
            <span class="classname">Zend_Service_Nirvanix</span> bietet bequeme Methoden für diese drei
            Operationen.
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$auth</span> = <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'username'</span> =&gt; <span style="color: #ff0000;">'Dein-Benutzername'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'password'</span> =&gt; <span style="color: #ff0000;">'Dein-Passwort'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'appKey'</span>&nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'Dein-App-Schlüssel'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$nirvanix</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_Nirvanix<span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$auth</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$imfs</span> = <span style="color: #0000ff;">$nirvanix</span>-&gt;<span style="color: #006600;">getService</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'IMFS'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$imfs</span>-&gt;<span style="color: #006600;">putContents</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'/foo.txt'</span>, <span style="color: #ff0000;">'zu speichernder Inhalt'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/echo"><span style="color: #000066;">echo</span></a> <span style="color: #0000ff;">$imfs</span>-&gt;<span style="color: #006600;">getContents</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'/foo.txt'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$imfs</span>-&gt;<span style="color: #006600;">unlink</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'/foo.txt'</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>


        <p class="para">
            Der erste Schritt um <span class="classname">Zend_Service_Nirvanix</span> zu verwenden ist immer
            sich gegenüber dem Service zu authentifizieren. Das wird durch die Übergabe der
            Anmeldedaten an den Kontruktor von <span class="classname">Zend_Service_Nirvanix</span>, wie
            oben, gemacht. Das assoziative Array wurd direkt an Nirvanix als POST Parameter
            übergeben.
        </p>

        <p class="para">
            Nirvanix teilt seine WebService in <a href="http://developer.nirvanix.com/sitefiles/1000/API.html#_Toc175999879" class="link external">&raquo; Namespaces</a>
            auf. Jeder Namespace kapselt eine Gruppe von zusammengehörenden Operationen. Nachdem
            man eine Instanz von <span class="classname">Zend_Service_Nirvanix</span> erhalten hat, muß die
             <span class="methodname">getService()</span> Methode aufgerufen werden um einen Proxy für den
            Namespace zu erhalten den man verwenden will. Oben wird ein Proxy für den
            <b><tt>IMFS</tt></b> Namespace erstellt.
        </p>

        <p class="para">
            Nachdem man den Proxy für den Namespace hat den man verwenden will, muß die Methode auf
            Ihm aufgerufen werden. Der Proxy erlaubt es jedes Kommando zu verwenden das in der
            REST <acronym class="acronym">API</acronym> vorhanden ist. Der Proxy kann auch bequeme Methoden
            verfügbar machen, welche Kommandos des Web Services wrappen. Das obige Beispiel zeigt
            die Verwendung der bequemen IMFS Methoden um eine neue Datei zu erstellen, sie zu
            empfangen, diese Datei anzuzeigen und letztendlich die Datei zu löschen.
        </p>
    </div>

    <div class="section" id="zend.service.nirvanix.understanding-proxy" name="zend.service.nirvanix.understanding-proxy"><div class="info"><h1 class="title">Den Proxy verstehen</h1></div>
        

        <p class="para">
            Im vorherigen Beispiel wurde die  <span class="methodname">getService()</span> Methode verwendet
            um ein Proxy Objekt zum <b><tt>IMFS</tt></b> Namespace zurückzugeben. Das Proxy
            Objekt erlaubt es das Nirvanix REST Service in einer Art zu verwenden die näher daran
            ist wie normalerweise ein <acronym class="acronym">PHP</acronym> Methodenaufruf durchgeführt wird,
            gegenüber der Erstellung von eigenen <acronym class="acronym">HTTP</acronym> Anfrage Objekten.
        </p>

        <p class="para">
            Ein Proxy Objekt kann bequeme Methoden enthalten. Das sind Methoden die
            <span class="classname">Zend_Service_Nirvanix</span> bietet um die Verwendung der Nirvanix Web
            Services zu vereinfachen. Im vorigen Beispiel haben die Methoden
             <span class="methodname">putContents()</span>,  <span class="methodname">getContents()</span>, und
             <span class="methodname">unlink()</span> keine direkte Entsprechungen in der REST
            <acronym class="acronym">API</acronym>. Das sind bequeme Methoden die von
            <span class="classname">Zend_Service_Nirvanix</span> angeboten werden um viel komplexere
            Operationen der REST <acronym class="acronym">API</acronym> zu abstrahieren.
        </p>

        <p class="para">
            Für alle anderen Methodenaufrufe zum Proxy Objekt konvertiert der Proxy dynamisch den
            Methodenaufruf in die entsprechende <acronym class="acronym">HTTP</acronym> POST Anfrage zur REST
            <acronym class="acronym">API</acronym>. Hierbei wird der Name der Methode als <acronym class="acronym">API</acronym>
            Kommando verwendet, und ein assoziatives Array im ersten Argument als POST Parameter.
        </p>

        <p class="para">
            Nehmen wir an das wir die REST <acronym class="acronym">API</acronym> Methode <a href="http://developer.nirvanix.com/sitefiles/1000/API.html#_Toc175999923" class="link external">&raquo; RenameFile</a>
            aufrufen wollen welche keine bequeme Methode in
            <span class="classname">Zend_Service_Nirvanix</span> besitzen:
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$auth</span> = <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'username'</span> =&gt; <span style="color: #ff0000;">'Dein-Benutzername'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'password'</span> =&gt; <span style="color: #ff0000;">'Dein-Passwort'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'appKey'</span>&nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'Dein-App-Schlüssel'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$nirvanix</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_Nirvanix<span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$auth</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$imfs</span> = <span style="color: #0000ff;">$nirvanix</span>-&gt;<span style="color: #006600;">getService</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'IMFS'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$result</span> = <span style="color: #0000ff;">$imfs</span>-&gt;<span style="color: #006600;">renameFile</span><span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'filePath'</span> =&gt; <span style="color: #ff0000;">'/path/to/foo.txt'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'newFileName'</span> =&gt; <span style="color: #ff0000;">'bar.txt'</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>


        <p class="para">
            Oben wird ein Proxy für den <b><tt>IMFS</tt></b> erstellt. Eine Methode,
             <span class="methodname">renameFile()</span>, wird dann vom Proxy aufgerufen. Diese Methode
            existiert nicht als bequeme Methode im <acronym class="acronym">PHP</acronym> Code, deswegen wird Sie
            durch  <span class="methodname">__call()</span> gefangen und in eine POST Anfrage für die REST
            <acronym class="acronym">API</acronym> umgewandelt wo das assoziative Array als POST Parameter verwendet
            wird.
        </p>

        <p class="para">
            Es ist in der Nirvanix <acronym class="acronym">API</acronym> Dokumentation zu beachten das
            <code class="code">sessionToken</code> für diese Methode benötigt wird, wir dieses aber nicht an das
            Proxy Objekt übbergeben haben. Es wird, der Bequemlichkeit halber, automatisch
            hinzugefügt.
        </p>

        <p class="para">
            Das Ergebnis dieser Operation ist entweder ein
            <span class="classname">Zend_Service_Nirvanix_Response</span> Objekt welches das von Nirvanix
            zurückgegebene <acronym class="acronym">XML</acronym> wrappt, oder
            <span class="classname">Zend_Service_Nirvanix_Exception</span> wenn ein Fehler aufgetreten ist.
        </p>
    </div>

    <div class="section" id="zend.service.nirvanix.examining-results" name="zend.service.nirvanix.examining-results"><div class="info"><h1 class="title">Ergebnisse erkunden</h1></div>
        

        <p class="para">
            Die Nirvanix REST <acronym class="acronym">API</acronym> gibt Ihre Ergebnisse immer in einem
            <acronym class="acronym">XML</acronym> zurück. <span class="classname">Zend_Service_Nirvanix</span> parst dieses
            <acronym class="acronym">XML</acronym> mit der <code class="code">SimpleXML</code> Erweiterung und dekoriert dann das
            sich ergebende <code class="code">SimpleXMLElement</code> mit einem
            <span class="classname">Zend_Service_Nirvanix_Response</span> Objekt.
        </p>

        <p class="para">
            Der einfachste Weg ein Ergebnis vom service zu betrachten ist die Verwendung der
            in <acronym class="acronym">PHP</acronym> eingebauten Funktionen wie  <span class="methodname">print_r()</span>:
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #000000; font-weight: bold;">&lt;?php</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$auth</span> = <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'username'</span> =&gt; <span style="color: #ff0000;">'Dein-Benutzername'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'password'</span> =&gt; <span style="color: #ff0000;">'Dein-Passwort'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'appKey'</span>&nbsp; &nbsp;=&gt; <span style="color: #ff0000;">'Dein-App-Schlüssel'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$nirvanix</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Service_Nirvanix<span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$auth</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$imfs</span> = <span style="color: #0000ff;">$nirvanix</span>-&gt;<span style="color: #006600;">getService</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'IMFS'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$result</span> = <span style="color: #0000ff;">$imfs</span>-&gt;<span style="color: #006600;">putContents</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'/foo.txt'</span>, <span style="color: #ff0000;">'Vierzehn Bytes'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/print_r"><span style="color: #000066;">print_r</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$result</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #000000; font-weight: bold;">?&gt;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">Zend_Service_Nirvanix_Response Object</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #66cc66;">&#91;</span>_sxml:protected<span style="color: #66cc66;">&#93;</span> =&gt; SimpleXMLElement Object</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#91;</span>ResponseCode<span style="color: #66cc66;">&#93;</span> =&gt; <span style="color: #cc66cc;">0</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#91;</span>FilesUploaded<span style="color: #66cc66;">&#93;</span> =&gt; <span style="color: #cc66cc;">1</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#91;</span>BytesUploaded<span style="color: #66cc66;">&#93;</span> =&gt; <span style="color: #cc66cc;">14</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span></div></li></ol></div></div></div>


        <p class="para">
            Auf jede Eigenschaft oder Methode des dekorierten <code class="code">SimpleXMLElement</code>s kann
            zugegriffen werden. Im obigen Beispiel, könnte <code class="code">$result-&gt;BytesUploaded</code>
            verwendet werden um die anzahl von empfangenen Bytes zu sehen. Sollte man auf das
            <code class="code">SimpleXMLElement</code> direkt zugreifen wollen, kann einfach
            <code class="code">$result-&gt;getSxml()</code> verwendet werden.
        </p>

        <p class="para">
            Die üblichste Antwort von Nirvanix ist Erfolg (<code class="code">ResponseCode</code> von Null).
            Es ist normalerweise nicht notwendig <code class="code">ResponseCode</code> zu prüfen weil jedes
            nicht-null Ergebnis eine <span class="classname">Zend_Service_Nirvanix_Exception</span> wirft.
            Siehe das nächste Kapitel über die Behandlung von Fehlern.
        </p>
    </div>

    <div class="section" id="zend.service.nirvanix.handling-errors" name="zend.service.nirvanix.handling-errors"><div class="info"><h1 class="title">Fehler behandeln</h1></div>
        

        <p class="para">
            Wenn Nirvanix verwendet wird, ist es wichtig Fehler zu vermeiden die vom Service
            zurückgegeben werden können und diese entsprechend zu behandeln.
        </p>

        <p class="para">
            Alle Operationen gegenüber dem REST Service ergeben einen <acronym class="acronym">XML</acronym>
            RückgabePayload der ein <code class="code">ResponseCode</code> Element, wie im folgenden Beispiel,
            enthält:
        </p>

        <div class="programlisting xml"><div class="xmlcode"><div class="xml" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #009900;"><span style="font-weight: bold; color: black;">&lt;Response<span style="font-weight: bold; color: black;">&gt;</span></span></span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #009900;"><span style="font-weight: bold; color: black;">&lt;ResponseCode<span style="font-weight: bold; color: black;">&gt;</span></span></span>0<span style="color: #009900;"><span style="font-weight: bold; color: black;">&lt;/ResponseCode<span style="font-weight: bold; color: black;">&gt;</span></span></span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #009900;"><span style="font-weight: bold; color: black;">&lt;/Response<span style="font-weight: bold; color: black;">&gt;</span></span></span></div></li></ol></div></div></div>


        <p class="para">
            Wenn <code class="code">ResponseCode</code> Null ist, wie im obigen Beispiel,  war die Operation
            erfolgreich. Wenn die Operation nicht erfolgreich war, ist <code class="code">ResponseCode</code>
            nicht-Null und ein <code class="code">ErrorMessage</code> Element sollte vorhanden sein.
        </p>

        <p class="para">
            Um die Notwendigkeit zu verringern immer zu Prüfen ob <code class="code">ResponseCode</code> Null
            ist, prüft <span class="classname">Zend_Service_Nirvanix</span> automatisch jede von Nirvanix
            zurückgegebene Antwort. Wenn <code class="code">ResponseCode</code> einen Fehler zeigt, wird eine
            <span class="classname">Zend_Service_Nirvanix_Exception</span> geworfen.
        </p>

      <div class="programlisting xml"><div class="xmlcode"><div class="xml" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">$auth = array('username' =&gt; 'your-username',</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'password' =&gt; 'your-password',</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'appKey'&nbsp; &nbsp;=&gt; 'your-app-key');</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">$nirvanix = new Zend_Service_Nirvanix($auth);</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">try {</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; $imfs = $nirvanix-&gt;getService('IMFS');</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; $imfs-&gt;unlink('/a-nonexistant-path');</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">} catch (Zend_Service_Nirvanix_Exception $e) {</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; echo $e-&gt;getMessage() . &quot;\n&quot;;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; echo $e-&gt;getCode();</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">}</div></li></ol></div></div></div>


        <p class="para">
            im obigen Beispiel ist  <span class="methodname">unlink()</span> eine bequeme Methode die das
            <code class="code">DeleteFiles</code> der REST <acronym class="acronym">API</acronym> wrappt. Der
            <code class="code">filePath</code> Parameter wird vom <a href="http://developer.nirvanix.com/sitefiles/1000/API.html#_Toc175999918" class="link external">&raquo; DeleteFiles</a>
            Kommando benötigt und enthält einen Pfad der nicht existiert. Das wird in einer
            <span class="classname">Zend_Service_Nirvanix</span> Ausnahme resultieren die, mit der Nachricht
            &quot;Invalid Path&quot; und Code 70005, geworfen wird.
        </p>

        <p class="para">
            Die <a href="http://developer.nirvanix.com/sitefiles/1000/API.html" class="link external">&raquo; Nirvanix
                <acronym class="acronym">API</acronym> Dokumentation</a> beschreibt die mit jedem Kommando
            assoziierten Fehler. Abhängig von den eigenen Bedürfnissen kann jedes Kommando in einen
            <code class="code">try</code> Block eingebettet werden oder aus Bequemlichkeit, viele Kommandos im
            selben <code class="code">try</code> Block.
        </p>
    </div>
</div>
        <hr />

            <table width="100%">
                <tr>
                    <td width="25%" style="text-align: left;">
                    <a href="zend.service.livedocx.html">Zend_Service_LiveDocx</a>
                    </td>

                    <td width="50%" style="text-align: center;">
                        <div class="up"><span class="up"><a href="zend.service.html">Zend_Service</a></span><br />
                        <span class="home"><a href="manual.html">Programmer's Reference Guide</a></span></div>
                    </td>

                    <td width="25%" style="text-align: right;">
                        <div class="next" style="text-align: right; float: right;"><a href="zend.service.recaptcha.html">Zend_Service_ReCaptcha</a></div>
                    </td>
                </tr>
            </table>
</td>
        <td style="font-size: smaller;" width="15%"> <style type="text/css">
#leftbar {
	float: left;
	width: 186px;
	padding: 5px;
	font-size: smaller;
}
ul.toc {
	margin: 0px 5px 5px 5px;
	padding: 0px;
}
ul.toc li {
	font-size: 85%;
	margin: 1px 0 1px 1px;
	padding: 1px 0 1px 11px;
	list-style-type: none;
	background-repeat: no-repeat;
	background-position: center left;
}
ul.toc li.header {
	font-size: 115%;
	padding: 5px 0px 5px 11px;
	border-bottom: 1px solid #cccccc;
	margin-bottom: 5px;
}
ul.toc li.active {
	font-weight: bold;
}
ul.toc li a {
	text-decoration: none;
}
ul.toc li a:hover {
	text-decoration: underline;
}
</style>
 <ul class="toc">
  <li class="header home"><a href="manual.html">Programmer's Reference Guide</a></li>
  <li class="header up"><a href="manual.html">Programmer's Reference Guide</a></li>
  <li class="header up"><a href="reference.html">Zend Framework Reference</a></li>
  <li class="header up"><a href="zend.service.html">Zend_Service</a></li>
  <li><a href="zend.service.introduction.html">Einf&uuml;hrung</a></li>
  <li><a href="zend.service.akismet.html">Zend_Service_Akismet</a></li>
  <li><a href="zend.service.amazon.html">Zend_Service_Amazon</a></li>
  <li><a href="zend.service.amazon.ec2.html">Zend_Service_Amazon_Ec2</a></li>
  <li><a href="zend.service.amazon.ec2.instance.html">Zend_Service_Amazon_Ec2: Instanzen</a></li>
  <li><a href="zend.service.amazon.ec2.windows.instance.html">Zend_Service_Amazon_Ec2: Windows Instanzen</a></li>
  <li><a href="zend.service.amazon.ec2.reserved.instance.html">Zend_Service_Amazon_Ec2: Reservierte Instanzen</a></li>
  <li><a href="zend.service.amazon.ec2.cloudwatch.html">Zend_Service_Amazon_Ec2: CloudWatch Monitoring</a></li>
  <li><a href="zend.service.amazon.ec2.images.html">Zend_Service_Amazon_Ec2: Amazon Maschinen Images (AMI)</a></li>
  <li><a href="zend.service.amazon.ec2.ebs.html">Zend_Service_Amazon_Ec2: Elastischer Block Speicher (EBS)</a></li>
  <li><a href="zend.service.amazon.ec2.elasticip.html">Zend_Service_Amazon_Ec2: Elastische IP Adressen</a></li>
  <li><a href="zend.service.amazon.ec2.keypairs.html">Zend_Service_Amazon_Ec2: Schl&uuml;sselpaare</a></li>
  <li><a href="zend.service.amazon.ec2.zones.html">Zend_Service_Amazon_Ec2: Regionen und Availability Zones</a></li>
  <li><a href="zend.service.amazon.ec2.securitygroups.html">Zend_Service_Amazon_Ec2: Sicherheitsgruppen</a></li>
  <li><a href="zend.service.amazon.s3.html">Zend_Service_Amazon_S3</a></li>
  <li><a href="zend.service.amazon.sqs.html">Zend_Service_Amazon_Sqs</a></li>
  <li><a href="zend.service.audioscrobbler.html">Zend_Service_Audioscrobbler</a></li>
  <li><a href="zend.service.delicious.html">Zend_Service_Delicious</a></li>
  <li><a href="zend.service.developergarden.html">Zend_Service_DeveloperGarden</a></li>
  <li><a href="zend.service.ebay.html">Zend_Service_Ebay</a></li>
  <li><a href="zend.service.ebay.finding.html">Zend_Service_Ebay_Finding</a></li>
  <li><a href="zend.service.flickr.html">Zend_Service_Flickr</a></li>
  <li><a href="zend.service.livedocx.html">Zend_Service_LiveDocx</a></li>
  <li class="active"><a href="zend.service.nirvanix.html">Zend_Service_Nirvanix</a></li>
  <li><a href="zend.service.recaptcha.html">Zend_Service_ReCaptcha</a></li>
  <li><a href="zend.service.short-url.html">Zend_Service_ShortUrl</a></li>
  <li><a href="zend.service.simpy.html">Zend_Service_Simpy</a></li>
  <li><a href="zend.service.slideshare.html">Zend_Service_SlideShare</a></li>
  <li><a href="zend.service.strikeiron.html">Zend_Service_StrikeIron</a></li>
  <li><a href="zend.service.strikeiron.bundled-services.html">Zend_Service_StrikeIron: Mitgelieferte Services</a></li>
  <li><a href="zend.service.strikeiron.advanced-uses.html">Zend_Service_StrikeIron: Erweiterte Verwendung</a></li>
  <li><a href="zend.service.technorati.html">Zend_Service_Technorati</a></li>
  <li><a href="zend.service.twitter.html">Zend_Service_Twitter</a></li>
  <li><a href="zend.service.windowsazure.html">Zend_Service_WindowsAzure</a></li>
  <li><a href="zend.service.windowsazure.storage.blob.html">Zend_Service_WindowsAzure_Storage_Blob</a></li>
  <li><a href="zend.service.windowsazure.diagnostics.manager.html">Zend_Service_WindowsAzure_Diagnostics_Manager</a></li>
  <li><a href="zend.service.windowsazure.storage.queue.html">Zend_Service_WindowsAzure_Storage_Queue</a></li>
  <li><a href="zend.service.windowsazure.storage.table.html">Zend_Service_WindowsAzure_Storage_Table</a></li>
  <li><a href="zend.service.yahoo.html">Zend_Service_Yahoo</a></li>
 </ul>
 </td>
    </tr>
</table>
</body>
</html>