<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>Exemples concrets - Zend Framework Manual</title>

</head>
<body>
<table width="100%">
    <tr valign="top">
        <td width="85%">
            <table width="100%">
                <tr>
                    <td width="25%" style="text-align: left;">
                    <a href="zend.date.constants.html">Constants for General Date Functions</a>
                    </td>

                    <td width="50%" style="text-align: center;">
                        <div class="up"><span class="up"><a href="zend.date.html">Zend_Date</a></span><br />
                        <span class="home"><a href="manual.html">Programmer's Reference Guide</a></span></div>
                    </td>

                    <td width="25%" style="text-align: right;">
                        <div class="next" style="text-align: right; float: right;"><a href="zend.db.html">Zend_Db</a></div>
                    </td>
                </tr>
            </table>
<hr />
<div id="zend.date.additional" class="section"><div class="info"><h1 class="title">Exemples concrets</h1></div>
    

    <p class="para">
        Dans ce chapitre, nous décrirons plusieurs fonctionnalités disponibles dans
        <span class="classname">Zend_Date</span>. Ceci sera fait au travers d&#039;exemples concrets.
    </p>

    <div class="section" id="zend.date.additional.checking" name="zend.date.additional.checking"><div class="info"><h1 class="title">Vérifier des dates</h1></div>
        

        <p class="para">
            La plupart du temps vous devrez traiter des dates issues d&#039;entrées de vos
            scripts, sous forme de chaînes de caractères. Le problème avec les chaînes est que l&#039;on
            ne sait pas si elles représentent réellement une date. Ainsi,
            <span class="classname">Zend_Date</span> possède une méthode statique pour vérifier cela.
            <span class="classname">Zend_Locale</span> a aussi une fonction <code class="code">getDate($date,
            $locale);</code> qui analyse et retourne la date correctement normalisée. Le nom d&#039;un
            mois, par exemple, sera reconnu et sera retourné comme entier. Étant donnée que le rôle
            de <span class="classname">Zend_Locale</span> est l&#039;aide à la localisation et
            l&#039;internationalisation, c&#039;est <span class="classname">Zend_Date</span> qui propose une fonction
            de vérification : <span class="methodname">isDate($date)</span>.
        </p>

        <p class="para">
            <code class="code">isDate($date, $format, $locale);</code> peut prendre jusqu&#039;à 3 paramètres,
            1 seul est obligatoire. Le second paramètre exprime le format dans lequel la date doit
            se trouver. Si aucun format n&#039;est spécifié, alors le format par défaut de la locale en
            cours sera utilisé. <a href="zend.date.constants.html#zend.date.constants.selfdefinedformats" class="link">Plus
            d&#039;infos sur les formats</a>.
        </p>

        <p class="para">
            Le 3ème paramètre est aussi optionnel et peut être utilisé pour spécifier une
            locale. Celle-ci est nécessaire afin de normaliser les noms des mois et des jours. Avec
            le 3ème paramètre fourni, des dates comme &quot;01.Jänner.2000&quot; ou &quot;01.January.2000&quot;
            pourront être reconnues en fonction de la locale passée.
        </p>

        <p class="para">
            <code class="code">isDate();</code> bien sûr, vérifie que la date existe.
            <span class="classname">Zend_Date</span> ne vérifie pas une date elle-même. Il est possible de
            créer une date avec &quot;31.February.2000&quot; dans <span class="classname">Zend_Date</span>,
            simplement la date sera convertie automatiquement par <span class="classname">Zend_Date</span>
            en &quot;03.March.2000&quot;.  <span class="methodname">isDate()</span> effectue cette vérification et retournera
            <b><tt>FALSE</tt></b> sur &quot;31.February.2000&quot; car cette date n&#039;existe pas.
        </p>

        <div class="example"><div class="info"><p><b>Example #1 Vérifier des dates</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Vérification de dates</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$date</span> = <span style="color: #ff0000;">'01.03.2000'</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #b1b100;">if</span> <span style="color: #66cc66;">&#40;</span>Zend_Date::<span style="color: #006600;">isDate</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$date</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <a href="http://www.php.net/print"><span style="color: #000066;">print</span></a> <span style="color: #ff0000;">&quot;la chaine $date est une date&quot;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span> <span style="color: #b1b100;">else</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <a href="http://www.php.net/print"><span style="color: #000066;">print</span></a> <span style="color: #ff0000;">&quot;la chaine $date n'est PAS une date&quot;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Vérification de dates localisées</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$date</span> = <span style="color: #ff0000;">'01 February 2000'</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #b1b100;">if</span> <span style="color: #66cc66;">&#40;</span>Zend_Date::<span style="color: #006600;">isDate</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$date</span>,<span style="color: #ff0000;">'dd MMMM yyyy'</span>, <span style="color: #ff0000;">'en'</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <a href="http://www.php.net/print"><span style="color: #000066;">print</span></a> <span style="color: #ff0000;">&quot;la chaine $date est une date&quot;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span> <span style="color: #b1b100;">else</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <a href="http://www.php.net/print"><span style="color: #000066;">print</span></a> <span style="color: #ff0000;">&quot;la chaine $date n'est PAS une date&quot;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Vérification de fausses dates</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$date</span> = <span style="color: #ff0000;">'30 February 2000'</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #b1b100;">if</span> <span style="color: #66cc66;">&#40;</span>Zend_Date::<span style="color: #006600;">isDate</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$date</span>,<span style="color: #ff0000;">'dd MMMM yyyy'</span>, <span style="color: #ff0000;">'en'</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <a href="http://www.php.net/print"><span style="color: #000066;">print</span></a> <span style="color: #ff0000;">&quot;String $date is a date&quot;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span> <span style="color: #b1b100;">else</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <a href="http://www.php.net/print"><span style="color: #000066;">print</span></a> <span style="color: #ff0000;">&quot;String $date is NO date&quot;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li></ol></div></div></div>

        </div>
    </div>

    <div class="section" id="zend.date.additional.sunrise-sunset" name="zend.date.additional.sunrise-sunset"><div class="info"><h1 class="title">Levé et couché du soleil</h1></div>
        

        <p class="para">
            <span class="classname">Zend_Date</span> possède aussi des fonctionnalités pour se
            renseigner sur le soleil. Il peut être utile dans une zone donnée, de savoir l&#039;heure de
            levé et de couché du soleil. C&#039;est très simple avec <span class="classname">Zend_Date</span>,
            il suffit de lui fournir une date, certes, mais aussi un endroit depuis lequel ces
            calculs seront faits.
        </p>

        <p class="para">
            Comme presque personne ne connaît la localisation précise d&#039;une ville sur la
            planète, nous avons aussi écrit une classe qui donne ces coordonnées, pour plus de 250
            grandes villes et capitales. Ainsi la plupart des gens pourra utiliser des villes
            proches de chez eux.
        </p>

        <p class="para">
            A cet effet, <span class="classname">Zend_Date_Cities::getCityList</span> peut être
            utilisée, cette méthode retourne les noms de toutes les villes prédéfinies dans la
            classe d&#039;aide.
        </p>

        <div class="example"><div class="info"><p><b>Example #2 Récupérer toutes les villes disponibles</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Affiche la liste complète de toutes les villes disponibles</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// dans la classe d'aide</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/print_r"><span style="color: #000066;">print_r</span></a> <span style="color: #66cc66;">&#40;</span>Zend_Date_Cities::<span style="color: #006600;">getCityList</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>


        </div>

        <p class="para">
            La localisation peut être récupérée avec
             <span class="methodname">Zend_Date_Cities::City()</span>. Cette méthode prend en paramètre le
            nom d&#039;une ville, tel que retourné par
             <span class="methodname">Zend_Date_Cities::getCityList()</span>, et un second paramètre
            optionnel pour l&#039;horizon.
        </p>

        <p class="para">
            Il y a 4 horizons définis, qui peuvent être utilisés avec des lieux pour
            déterminer la date exacte de levé et couché du soleil. Le paramètre
            &quot;<code class="code">horizon</code>&quot; est toujours optionnel, quelle que soit la fonction dans
            laquelle il est utilisé. S&#039;il n&#039;est pas précisé, la valeur &quot;<code class="code">effective</code>&quot; lui
            sera attribuée par défaut.
        </p>

        <table class="doctable table"><div class="info"><caption><b>Valeurs d&#039;horizons supportées pour les levé et couché de soleil</b></caption></div>
            

            
                <thead valign="middle">
                    <tr valign="middle">
                        <th>Horizon</th>
                        <th>Description</th>
                        <th>Usage</th>
                    </tr>

                </thead>

                <tbody valign="middle" class="tbody">
                    <tr valign="middle">
                        <td align="left">effective</td>
                        <td align="left">Standard horizon</td>
                        <td align="left">
                            Traite la Terre comme une balle. C&#039;est la valeur par
                            défaut.
                        </td>
                    </tr>

                    <tr valign="middle">
                        <td align="left">civil</td>
                        <td align="left">Common horizon</td>
                        <td align="left">
                            Utilisé dans les médias courants, comme la TV ou la
                            radio
                        </td>
                    </tr>

                    <tr valign="middle">
                        <td align="left">nautic</td>
                        <td align="left">Nautic horizon</td>
                        <td align="left">Utilisé en navigation</td>
                    </tr>

                    <tr valign="middle">
                        <td align="left">astronomic</td>
                        <td align="left">Astronomic horizon</td>
                        <td align="left">Utilisé pour le calcul avec des étoiles</td>
                    </tr>

                </tbody>
            
        </table>


        <p class="para">
            Évidemment, un endroit personnalisé peut aussi être utilisé pour le calcul. Une
            &quot;<code class="code">latitude</code>&quot; et une &quot;<code class="code">longitude</code>&quot; seront alors nécessaires, en
            plus du paramètre optionnel &quot;<code class="code">horizon</code>&quot;.
        </p>

        <div class="example"><div class="info"><p><b>Example #3 Trouver la localisation d&#039;une ville</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Trouve la localisation d'une ville avec l'horizon effectif</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/print_r"><span style="color: #000066;">print_r</span></a> <span style="color: #66cc66;">&#40;</span>Zend_Date_Cities::<span style="color: #006600;">city</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Vienna'</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// utilise l'horizon nautique</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/print_r"><span style="color: #000066;">print_r</span></a> <span style="color: #66cc66;">&#40;</span>Zend_Date_Cities::<span style="color: #006600;">city</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Vienna'</span>, <span style="color: #ff0000;">'nautic'</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Voici une ville personnalisée qui n'est pas dans la liste prédéfinie</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$mylocation</span> = <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'latitude'</span> =&gt; <span style="color: #cc66cc;">41.5</span>, <span style="color: #ff0000;">'longitude'</span> =&gt; <span style="color: #cc66cc;">13.2446</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

        </div>

        <p class="para">
            Dès lors, il faut créer un objet <span class="classname">Zend_Date</span> contenant la
            date dont on veut connaître les informations de levé et de couché du soleil. 3 méthodes
            nous seront proposées :  <span class="methodname">getSunset()</span>,  <span class="methodname">getSunrise()</span> et
             <span class="methodname">getSunInfo()</span>. Ces 3 méthodes s&#039;appliquent sur un objet
            <span class="classname">Zend_Date</span> et retournent un objet
            <span class="classname">Zend_Date</span>.
        </p>

        <div class="example"><div class="info"><p><b>Example #4 Calculer les informations relatives au soleil</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Retrouve la localisation d'une ville</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$city</span> = Zend_Date_Cities::<span style="color: #006600;">city</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Vienna'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Créer une date à partir de laquelle extraire</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// les informations relatives au soleil</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$date</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Date<span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'10.03.2007'</span>, Zend_Date::<span style="color: #006600;">ISO_8601</span>, <span style="color: #ff0000;">'de'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// calcul du levé du soleil</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$sunset</span> = <span style="color: #0000ff;">$date</span>-&gt;<span style="color: #006600;">getSunset</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$city</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/print"><span style="color: #000066;">print</span></a> <span style="color: #0000ff;">$sunset</span>-&gt;<span style="color: #006600;">get</span><span style="color: #66cc66;">&#40;</span>Zend_Date::<span style="color: #006600;">ISO_8601</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// calcul de toutes les informations solaires</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$info</span> = <span style="color: #0000ff;">$date</span>-&gt;<span style="color: #006600;">getSunInfo</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$city</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #b1b100;">foreach</span> <span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$info</span> <span style="color: #b1b100;">as</span> <span style="color: #0000ff;">$sun</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <a href="http://www.php.net/print"><span style="color: #000066;">print</span></a> <span style="color: #ff0000;">&quot;<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span> . <span style="color: #0000ff;">$sun</span>-&gt;<span style="color: #006600;">get</span><span style="color: #66cc66;">&#40;</span>Zend_Date::<span style="color: #006600;">ISO_8601</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li></ol></div></div></div>

        </div>
    </div>

    <div class="section" id="zend.date.additional.timezones" name="zend.date.additional.timezones"><div class="info"><h1 class="title">Fuseaux horaires (Timezones)</h1></div>
        

        <p class="para">
            Les zones de temps (Timezones) sont aussi importantes que les dates en
            elles-mêmes. Il existe plusieurs zones de temps (fuseaux horaires) sur la planète, et
            travailler avec des dates implique de définir un fuseau horaire pour cette date. Ceci
            semble complexe mais c&#039;est plutôt simple. Comme déjà dit dans le premier chapitre sur
            <span class="classname">Zend_Date</span>, le fuseau horaire par défaut de <acronym class="acronym">PHP</acronym> doit être
            configuré. En général, le fichier <code class="code">php.ini</code> est utilisé à cet effet, mais ce
            n&#039;est pas l&#039;unique moyen.
        </p>

        <p class="para">
            Un objet <span class="classname">Zend_Date</span> encapsule son propre fuseau horaire.
            Même en changeant le fuseau après la création de l&#039;objet, celui-ci s&#039;en souviendra. De
            même, changer le fuseau via <acronym class="acronym">PHP</acronym> n&#039;aura aucun impact sur l&#039;objet
            <span class="classname">Zend_Date</span> avec lequel un travail est en cours, c&#039;est celui-ci
            qui va vous permettre via des méthodes de gérer son fuseau.
        </p>

        <p class="para">
             <span class="methodname">getTimezone()</span> retourne le fuseau horaire actuel sur lequel travaille
            <span class="classname">Zend_Date</span>. Souvenez vous que <span class="classname">Zend_Date</span>
            n&#039;est pas lié aux mécanismes interne de <acronym class="acronym">PHP</acronym>, ainsi le fuseau retourné peut être
            différent de celui sur lequel <acronym class="acronym">PHP</acronym> est réglé. <span class="methodname">setTimezone($zone)</span> change le
            fuseau horaire actuel de l&#039;objet <span class="classname">Zend_Date</span>. Le fuseau ainsi
            fournit est toujours vérifié, s&#039;il n&#039;existe pas, une exception sera levée. Si vous ne
            spécifiez pas de fuseau à cette méthode, alors c&#039;est le fuseau interne de <acronym class="acronym">PHP</acronym> qui sera
            utilisé par défaut, comme c&#039;est le cas lors de la création d&#039;un objet
            <span class="classname">Zend_Date</span> banal.
        </p>

        <div class="example"><div class="info"><p><b>Example #5 Travailler avec les fuseaux horaires (timezones)</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Règle le fuseau horaire PHP par défaut.</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// En général, celui-ci est réglé dans php.ini.</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Ici nous le faisons pour l'exemple</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">date_default_timezone_set<span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Europe/Vienna'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// creation d'un objet date</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$date</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Date<span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'10.03.2007'</span>, Zend_Date::<span style="color: #006600;">DATES</span>, <span style="color: #ff0000;">'de'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// affichage de notre date</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/print"><span style="color: #000066;">print</span></a> <span style="color: #0000ff;">$date</span>-&gt;<span style="color: #006600;">getIso</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// quel est son fuseau horaire ?</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/print"><span style="color: #000066;">print</span></a> <span style="color: #0000ff;">$date</span>-&gt;<span style="color: #006600;">getTimezone</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// affectons un autre fuseau</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$date</span>-&gt;<span style="color: #006600;">setTimezone</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'America/Chicago'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// quel est le fuseau ?</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/print"><span style="color: #000066;">print</span></a> <span style="color: #0000ff;">$date</span>-&gt;<span style="color: #006600;">getTimezone</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// voyons les changements dans la date retournée</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/print"><span style="color: #000066;">print</span></a> <span style="color: #0000ff;">$date</span>-&gt;<span style="color: #006600;">getIso</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

        </div>

        <p class="para">
            <span class="classname">Zend_Date</span> utilise toujours le fuseau par défaut (de <acronym class="acronym">PHP</acronym>)
            lors de la création de l&#039;instance. Remarquez que changer le fuseau de l&#039;objet a un
            impact sur la date s&#039;y trouvant. Une date est toujours exprimée relativement à un
            fuseau horaire, changer le fuseau dans l&#039;objet ne change pas la date de l&#039;objet, mais
            bien sa représentation. Rappelez vous qu&#039;en interne, les dates sont représentées comme
            des timestamps <acronym class="acronym">GMT</acronym>. Le fuseau donne une information de décalage par rapport à <acronym class="acronym">GMT</acronym>, en
            positif ou négatif.
        </p>

        <p class="para">
            Coupler le fuseau dans l&#039;objet <span class="classname">Zend_Date</span> a un autre effet
            positif : il est possible de posséder plusieurs objets de date, avec chacun un
            fuseau horaire différent.
        </p>

        <div class="example"><div class="info"><p><b>Example #6 Plusieurs fuseaux horaires</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Règle le fuseau horaire PHP par défaut.</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// En général, celui-ci est réglé dans php.ini</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Ici nous le faisons pour l'exemple</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">date_default_timezone_set<span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Europe/Vienna'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// creation d'un objet date</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$date</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_Date<span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'10.03.2007 00:00:00'</span>, Zend_Date::<span style="color: #006600;">ISO_8601</span>, <span style="color: #ff0000;">'de'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// affichage de notre date</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/print"><span style="color: #000066;">print</span></a> <span style="color: #0000ff;">$date</span>-&gt;<span style="color: #006600;">getIso</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// La date est inchangée, même si le fuseau PHP l'est</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">date_default_timezone_set<span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'America/Chicago'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/print"><span style="color: #000066;">print</span></a> <span style="color: #0000ff;">$date</span>-&gt;<span style="color: #006600;">getIso</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$otherdate</span> = clone <span style="color: #0000ff;">$date</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$otherdate</span>-&gt;<span style="color: #006600;">setTimezone</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Brazil/Acre'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// affichage de notre date</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/print"><span style="color: #000066;">print</span></a> <span style="color: #0000ff;">$otherdate</span>-&gt;<span style="color: #006600;">getIso</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// affecte le fuseau horaire actuel de PHP, à notre objet date</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$lastdate</span> = clone <span style="color: #0000ff;">$date</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$lastdate</span>-&gt;<span style="color: #006600;">setTimezone</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// affichage de notre date</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><a href="http://www.php.net/print"><span style="color: #000066;">print</span></a> <span style="color: #0000ff;">$lastdate</span>-&gt;<span style="color: #006600;">getIso</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

        </div>
    </div>
</div>
        <hr />

            <table width="100%">
                <tr>
                    <td width="25%" style="text-align: left;">
                    <a href="zend.date.constants.html">Constants for General Date Functions</a>
                    </td>

                    <td width="50%" style="text-align: center;">
                        <div class="up"><span class="up"><a href="zend.date.html">Zend_Date</a></span><br />
                        <span class="home"><a href="manual.html">Programmer's Reference Guide</a></span></div>
                    </td>

                    <td width="25%" style="text-align: right;">
                        <div class="next" style="text-align: right; float: right;"><a href="zend.db.html">Zend_Db</a></div>
                    </td>
                </tr>
            </table>
</td>
        <td style="font-size: smaller;" width="15%"> <style type="text/css">
#leftbar {
	float: left;
	width: 186px;
	padding: 5px;
	font-size: smaller;
}
ul.toc {
	margin: 0px 5px 5px 5px;
	padding: 0px;
}
ul.toc li {
	font-size: 85%;
	margin: 1px 0 1px 1px;
	padding: 1px 0 1px 11px;
	list-style-type: none;
	background-repeat: no-repeat;
	background-position: center left;
}
ul.toc li.header {
	font-size: 115%;
	padding: 5px 0px 5px 11px;
	border-bottom: 1px solid #cccccc;
	margin-bottom: 5px;
}
ul.toc li.active {
	font-weight: bold;
}
ul.toc li a {
	text-decoration: none;
}
ul.toc li a:hover {
	text-decoration: underline;
}
</style>
 <ul class="toc">
  <li class="header home"><a href="manual.html">Programmer's Reference Guide</a></li>
  <li class="header up"><a href="manual.html">Programmer's Reference Guide</a></li>
  <li class="header up"><a href="reference.html">Zend Framework Reference</a></li>
  <li class="header up"><a href="zend.date.html">Zend_Date</a></li>
  <li><a href="zend.date.introduction.html">Introduction</a></li>
  <li><a href="zend.date.definition.theory.html">Aspect th&eacute;orique</a></li>
  <li><a href="zend.date.basic.html">M&eacute;thodes de base</a></li>
  <li><a href="zend.date.overview.html">Zend_Date API Overview</a></li>
  <li><a href="zend.date.creation.html">Cr&eacute;er des dates</a></li>
  <li><a href="zend.date.constants.html">Constants for General Date Functions</a></li>
  <li class="active"><a href="zend.date.additional.html">Exemples concrets</a></li>
 </ul>
 </td>
    </tr>
</table>
</body>
</html>