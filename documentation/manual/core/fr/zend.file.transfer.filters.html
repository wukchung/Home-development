<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>Filtres pour Zend_File_Transfer - Zend Framework Manual</title>

</head>
<body>
<table width="100%">
    <tr valign="top">
        <td width="85%">
            <table width="100%">
                <tr>
                    <td width="25%" style="text-align: left;">
                    <a href="zend.file.transfer.validators.html">Validateurs pour Zend_File_Transfer</a>
                    </td>

                    <td width="50%" style="text-align: center;">
                        <div class="up"><span class="up"><a href="zend.file.html">Zend_File</a></span><br />
                        <span class="home"><a href="manual.html">Programmer's Reference Guide</a></span></div>
                    </td>

                    <td width="25%" style="text-align: right;">
                        <div class="next" style="text-align: right; float: right;"><a href="zend.filter.html">Zend_Filter</a></div>
                    </td>
                </tr>
            </table>
<hr />
<div id="zend.file.transfer.filters" class="section"><div class="info"><h1 class="title">Filtres pour Zend_File_Transfer</h1></div>
    

    <p class="para">
        <span class="classname">Zend_File_Transfer</span> est fourni avec de multiples filtres qui
        peuvent être utilisés pour réaliser différentes tâches qui doivent être réalisées souvent
        sur les fichier. Notez que tout filtre est appliqué après la validation. De plus les filtres
        de fichiers se comportent légèrement différemment des autres filtres. Ils retourneront
        toujours le nom de fichier et non le contenu modifié (ce qui serait une mauvaise idée en
        travaillant avec un fichier d&#039;1Go par exemple). Tous les filtres fournis avec
        <span class="classname">Zend_File_Transfer</span> peuvent être trouvés dans le composant
        <span class="classname">Zend_Filter</span> et sont nommés <span class="classname">Zend_Filter_File_*</span>.
        Les filtres suivants sont actuellement disponibles :
    </p>

    <ul class="itemizedlist">
        <li class="listitem">
            <p class="para"><code class="code">Decrypt</code> : ce filtre peut décrypter un fichier.</p>
        </li>

        <li class="listitem">
            <p class="para"><code class="code">Encrypt</code> : ce filtre peut crypter un fichier.</p>
        </li>

        <li class="listitem">
            <p class="para">
                <code class="code">LowerCase </code> : ce filtre peut mettre en minuscule le contenu d&#039;un
                fichier texte.
            </p>
        </li>

        <li class="listitem">
            <p class="para">
                <code class="code">Rename</code> : ce filtre peut renommer les fichiers, changer leur
                localisation et même forcer l&#039;écrasement de fichiers existants.
            </p>
        </li>

        <li class="listitem">
            <p class="para">
                <code class="code">UpperCase </code> : ce filtre peut mettre en majuscule le contenu d&#039;un
                fichier texte.
            </p>
        </li>
    </ul>

    <div class="section" id="zend.file.transfer.filters.usage" name="zend.file.transfer.filters.usage"><div class="info"><h1 class="title">Utiliser les filtres avec Zend_File_Transfer</h1></div>
        

        <p class="para">
            L&#039;utilisation des filtres est assez simple. Il existe de multiples méthodes pour
            ajouter et manipuler les filtres.
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">
                     <span class="methodname">addFilter($filter, $options = null, $files = null)</span> : ajoute
                    le filtre à la pile des filtres (optionnellement seul le(s) fichier(s)
                    spécifié(s)). <var class="varname">$filter</var> peut être soit une instance d&#039;un filtre réel,
                    ou un nom court spécifiant le filtre (par exemple, &quot;Rename&quot;).
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                     <span class="methodname">addFilters(array $filters, $files = null)</span> : ajoute les
                    filtres à la pile des filtres. Chaque entrée peut être soit une paire
                    type/options, ou un tableau avec la clé &quot;filtre&quot; spécifiant le filtre (tous les
                    autres options seront considérées comme des options du filtre au moment de
                    l&#039;instanciation).
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                     <span class="methodname">setFilters(array $filters, $files = null)</span> : surcharge les
                    filtres existants avec les filtres spécifiés. Les filtres doivent respecter la
                    même syntaxe  <span class="methodname">addFilters()</span>.
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                     <span class="methodname">hasFilter($name)</span> : indique si le filtre est enregistré.
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                     <span class="methodname">getFilter($name)</span> : retourne un filtre préalablement
                    enregistré.
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                     <span class="methodname">getFilters($files = null)</span> : retourne les filtres
                    enregistrés ; si <var class="varname">$files</var> est fourni, retourne les filtres pour
                    ce fichier en particulier ou pour tous les fichiers.
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                     <span class="methodname">removeFilter($name)</span> : enlève le filtre préalablement
                    enregistré.
                </p>
            </li>

            <li class="listitem">
                <p class="para"> <span class="methodname">clearFilters()</span> : efface tous les filtres.</p>
            </li>
        </ul>

        <div class="example"><div class="info"><p><b>Example #1 Ajouter les filtres au fichier transféré</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_File_Transfer<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Paramètre un dossier de destination</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addFilter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Rename'</span>, <span style="color: #ff0000;">'C:<span style="color: #000099; font-weight: bold;">\i</span>mage<span style="color: #000099; font-weight: bold;">\u</span>ploads'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Paramètre un nouveau dossier de destination</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// et surcharge pour les fichiers existants</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addFilter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Rename'</span>, <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'target'</span> =&gt; <span style="color: #ff0000;">'C:<span style="color: #000099; font-weight: bold;">\p</span>icture<span style="color: #000099; font-weight: bold;">\u</span>ploads'</span>, <span style="color: #ff0000;">'overwrite'</span> =&gt; <span style="color: #000000; font-weight: bold;">true</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

        </div>

        <div class="example"><div class="info"><p><b>Example #2 Limiter les filtres à des fichiers uniques</b></p></div>
            

            <div class="example-contents"><p>
                 <span class="methodname">addFilter()</span>,  <span class="methodname">addFilters()</span>, and
                 <span class="methodname">setFilters()</span> accepte chacun un argument final <var class="varname">$files</var>. Cet
                argument peut être utilisé pour spécifier un fichier en particulier ou un tableau de
                fichiers sur lequel appliqué le filtre donné.
            </p></div>

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_File_Transfer<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Paramètre un nouveau dossier de destination et</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// le limite seulement à &quot;file2&quot;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addFilter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Rename'</span>, <span style="color: #ff0000;">'C:<span style="color: #000099; font-weight: bold;">\i</span>mage<span style="color: #000099; font-weight: bold;">\u</span>ploads'</span>, <span style="color: #ff0000;">'file2'</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

        </div>

        <p class="para">
            Généralement vous devriez simplement utiliser la méthode
             <span class="methodname">addFilters()</span>, qui peut être appelée plusieurs fois.
        </p>

        <div class="example"><div class="info"><p><b>Example #3 Ajouter des filtres multiples</b></p></div>
            

            <div class="example-contents"><p>
                Souvent il est plus simple d&#039;appeler plusieurs fois  <span class="methodname">addFilter()</span> :
                un appel pour chaque filtre. Ceci améliore aussi la lisibilité et rend votre code
                plus maintenable. Comme toutes les méthodes fournissent un interface fluide, vous
                pouvez enchaîner les appels comme montré ci-dessous :
            </p></div>

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_File_Transfer<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Renommer différemment chacun des fichiers</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addFilter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Rename'</span>, <span style="color: #ff0000;">'file1'</span>, <span style="color: #ff0000;">'C:<span style="color: #000099; font-weight: bold;">\p</span>icture<span style="color: #000099; font-weight: bold;">\n</span>ewjpg'</span><span style="color: #66cc66;">&#41;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp;-&gt;<span style="color: #006600;">addFilter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Rename'</span>, <span style="color: #ff0000;">'file2'</span>, <span style="color: #ff0000;">'C:<span style="color: #000099; font-weight: bold;">\p</span>icture<span style="color: #000099; font-weight: bold;">\n</span>ewgif'</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

        </div>

        <blockquote><p><b class="note">Note</b>: 
            
                Notez que même si l&#039;ajout du même filtre plusieurs fois est autorisé, faire
                ceci peut entraîner des problèmes si vous utilisez différentes options pour le même
                filtre.
            <br />
        </p></blockquote>
    </div>

    <div class="section" id="zend.file.transfer.filters.decrypt" name="zend.file.transfer.filters.decrypt"><div class="info"><h1 class="title">Filtre Decrypt</h1></div>
        

        <p class="para">Le filtre <code class="code">Decrypt</code> permet de décrypter un fichier crypté.</p>

        <p class="para">
            Ce filtre se sert de <span class="classname">Zend_Filter_Decrypt</span>. Il supporte les
            extensions <acronym class="acronym">PHP</acronym> <code class="code">Mcrypt</code> et <code class="code">OpenSSL</code>. Reportez vous à la section
            associée pour voir les détails des possibilités d&#039;options pour le décryptage et
            connaître les options supportées.
        </p>

        <p class="para">
            Ce filtre supporte une option additionnelle qui peut être utilisée pour
            sauvegarder le fichier décrypté avec un autre nom de fichier. Spécifiez l&#039;option
            <code class="code">filename</code> pour changer le nom de fichier dans lequel le fichier décrypté
            sera stocké. Si vous supprimez cette option le fichier décrypté écrasera le fichier
            chiffré original.
        </p>

        <div class="example"><div class="info"><p><b>Example #4 Utiliser le filtre Decrypt avec Mcrypt</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_File_Transfer_Adapter_Http<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Adds a filter to decrypt the uploaded encrypted file</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// with mcrypt and the key mykey</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addFilter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Decrypt'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'adapter'</span> =&gt; <span style="color: #ff0000;">'mcrypt'</span>, <span style="color: #ff0000;">'key'</span> =&gt; <span style="color: #ff0000;">'mykey'</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

        </div>

        <div class="example"><div class="info"><p><b>Example #5 Utiliser le filtre Decrypt avec OpenSSL</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_File_Transfer_Adapter_Http<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Adds a filter to decrypt the uploaded encrypted file</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// with openssl and the provided keys</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addFilter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Decrypt'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'adapter'</span> =&gt; <span style="color: #ff0000;">'openssl'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'private'</span> =&gt; <span style="color: #ff0000;">'/path/to/privatekey.pem'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'envelope'</span> =&gt; <span style="color: #ff0000;">'/path/to/envelopekey.pem'</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

        </div>
    </div>

    <div class="section" id="zend.file.transfer.filters.encrypt" name="zend.file.transfer.filters.encrypt"><div class="info"><h1 class="title">Filtre Encrypt</h1></div>
        

        <p class="para">Le filtre <code class="code">Encrypt</code> permet de crypter un fichier.</p>

        <p class="para">
            Ce filtre se sert de <span class="classname">Zend_Filter_Encrypt</span>. Il supporte les
            extensions <acronym class="acronym">PHP</acronym> <code class="code">Mcrypt</code> et <code class="code">OpenSSL</code>. Reportez vous à la section
            associée pour voir les détails des possibilités d&#039;options pour le chiffrement et
            connaître les options supportées.
        </p>

        <p class="para">
            Ce filtre supporte une option additionnelle qui peut être utilisée pour
            sauvegarder le fichier chiffré avec un autre nom de fichier. Spécifiez l&#039;option
            <code class="code">filename</code> pour changer le nom de fichier dans lequel le fichier chiffré sera
            stocké. Si vous supprimez cette option le fichier chiffré écrasera le fichier
            original.
        </p>

        <div class="example"><div class="info"><p><b>Example #6 Utiliser le filtre Encrypt avec Mcrypt</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_File_Transfer_Adapter_Http<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Adds a filter to encrypt the uploaded file</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// with mcrypt and the key mykey</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addFilter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Encrypt'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'adapter'</span> =&gt; <span style="color: #ff0000;">'mcrypt'</span>, <span style="color: #ff0000;">'key'</span> =&gt; <span style="color: #ff0000;">'mykey'</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

        </div>

        <div class="example"><div class="info"><p><b>Example #7 Utiliser le filtre Encrypt avec OpenSSL</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_File_Transfer_Adapter_Http<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Adds a filter to encrypt the uploaded file</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// with openssl and the provided keys</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addFilter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Encrypt'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'adapter'</span> =&gt; <span style="color: #ff0000;">'openssl'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'public'</span> =&gt; <span style="color: #ff0000;">'/path/to/publickey.pem'</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

        </div>
    </div>

    <div class="section" id="zend.file.transfer.filters.lowercase" name="zend.file.transfer.filters.lowercase"><div class="info"><h1 class="title">Filtre LowerCase</h1></div>
        

        <p class="para">
            Le filtre <code class="code">LowerCase</code> vous permet de mettre en minuscule le contenu
            d&#039;un fichier. Vous devriez utiliser ce filtre seulement sur les fichiers texte.
        </p>

        <p class="para">
            Lors de l&#039;initialisation vous pouvez fournir qui sera utilisée en tant
            qu&#039;encodage. Ou vous pouvez utiliser la méthode  <span class="methodname">setEncoding()</span> pour le
            paramétrer plus tard.
        </p>

        <div class="example"><div class="info"><p><b>Example #8 Utiliser le filtre LowerCase</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_File_Transfer_Adapter_Http<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addValidator</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'MimeType'</span>, <span style="color: #ff0000;">'text'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Ajoute un filtre pour mettre en minuscule les fichiers texte uploadés</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addFilter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'LowerCase'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Ajoute un filtre pour mettre en minuscule seulement le fichier uploadé &quot;uploadfile1&quot;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addFilter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'LowerCase'</span>, <span style="color: #000000; font-weight: bold;">null</span>, <span style="color: #ff0000;">'uploadfile1'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Ajoute un filtre pour mettre en minuscule avec un encodage ISO-8859-1</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addFilter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'LowerCase'</span>, <span style="color: #ff0000;">'ISO-8859-1'</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

        </div>

        <blockquote><p><b class="note">Note</b>: 
            
                Notez que les options du filtre LowerCase sont optionnelles, vous devez
                fournir un <b><tt>NULL</tt></b> en second paramètre quand vous souhaitez limiter le
                filtre à un fichier unique.
            <br />
        </p></blockquote>
    </div>

    <div class="section" id="zend.file.transfer.filters.rename" name="zend.file.transfer.filters.rename"><div class="info"><h1 class="title">Filtre Rename</h1></div>
        

        <p class="para">
            Le filtre <code class="code">Rename</code> vous permet de changer le dossier de destination du
            fichier uploadé, de changer le nom de fichier et aussi d&#039;écraser des fichiers existants.
            Il supporte les options suivantes :
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">
                    <code class="code">source</code> : le nom et le dossier de l&#039;ancien fichier qui doit
                    être renommé.
                </p>
            </li>

            <li class="listitem">
                <p class="para"><code class="code">target</code> : le nouveau dossier ou nom du fichier.</p>
            </li>

            <li class="listitem">
                <p class="para">
                    <code class="code">overwrite</code> : paramètre si l&#039;ancien fichier écrase le nouveau
                    fichier s&#039;il existe déjà. La valeur par défaut est <b><tt>FALSE</tt></b>.
                </p>
            </li>
        </ul>

        <p class="para">
            De plus vous pouvez utiliser la méthode  <span class="methodname">setFile()</span> pour paramétrer des
            fichiers, ce qui effacera ceux précédemment paramétrés,  <span class="methodname">addFile()</span> pour
            ajouter un nouveau fichier à ceux déjà présent, et  <span class="methodname">getFile()</span> pour récupérer
            les fichiers actuellement paramétrés. Pour simplifier les choses, ce filtre accepte de
            multiples notations et ces méthodes et constructeur comprennent les mêmes
            notations.
        </p>

        <div class="example"><div class="info"><p><b>Example #9 Utiliser le filtre Rename</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_File_Transfer_Adapter_Http<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Paramètre un nouveau dossier pour tous les fichiers</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addFilter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Rename'</span>, <span style="color: #ff0000;">'C:<span style="color: #000099; font-weight: bold;">\m</span>ypics<span style="color: #000099; font-weight: bold;">\n</span>ew'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Paramètre un nouveau dossier seulement pour uploadfile1</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addFilter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Rename'</span>, <span style="color: #ff0000;">'C:<span style="color: #000099; font-weight: bold;">\m</span>ypics<span style="color: #000099; font-weight: bold;">\n</span>ewgifs'</span>, <span style="color: #ff0000;">'uploadfile1'</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

        </div>

        <p class="para">
            Vous pouvez utiliser différentes notations. Ci-dessous vous trouverez une table
            fournissant la description et le but des notations supportées. Notez que quand vous
            utilisez l&#039;&quot;Adapter&quot; ou le &quot;Form Element&quot;, vous ne pourrez pas utiliser toutes les
            notations décrites.
        </p>

        <table class="doctable table"><div class="info"><caption><b>Notations différentes du filtre &quot;Rename&quot; et leurs significations</b></caption></div>
            

            
                <thead valign="middle">
                    <tr valign="middle">
                        <th>notation</th>
                        <th>description</th>
                    </tr>

                </thead>


                <tbody valign="middle" class="tbody">
                    <tr valign="middle">
                        <td align="left">addFile(&#039;C:\uploads&#039;)</td>
                        <td align="left">Spécifie un nouveau dossier pour tous les fichiers quand la
                        chaîne est un dossier. Notez que vous aurez une exception si le fichier
                        existe déjà, voir le paramètre d&#039;écrasement.</td>
                    </tr>


                    <tr valign="middle">
                        <td align="left">addFile(&#039;C:\uploads\file.ext&#039;)</td>
                        <td align="left">Spécifie un nouveau dossier et un nom de fichier pour tous les
                        fichiers quand la chaîne n&#039;est pas un dossier. Notez que vous aurez une
                        exception si le fichier existe déjà, voir le paramètre
                        d&#039;écrasement.</td>
                    </tr>


                    <tr valign="middle">
                        <td align="left">addFile(&#039;C:\uploads\file.ext&#039;, &#039;overwrite&#039; =&gt; true)</td>
                        <td align="left">Spécifie un nouveau dossier et un nom de fichier pour tous les
                        fichiers quand la chaîne n&#039;est pas un dossier et écrase le fichier
                        existant si celui-ci existe. Notez que vous aurez pas de notification en
                        cas d&#039;écrasement.</td>
                    </tr>


                    <tr valign="middle">
                        <td align="left">addFile(array(&#039;source&#039; =&gt; &#039;C:\temp\uploads&#039;, &#039;target&#039; =&gt;
                        &#039;C:\uploads&#039;))</td>
                        <td align="left">Spécifie un nouveau dossier pour tous les fichiers qui sont
                        présent dans l&#039;ancien dossier quand la chaîne est un dossier. Notez que
                        vous aurez une exception si le fichier existe déjà, voir le paramètre
                        d&#039;écrasement.</td>
                    </tr>


                    <tr valign="middle">
                        <td align="left">addFile(array(&#039;source&#039; =&gt; &#039;C:\temp\uploads&#039;, &#039;target&#039; =&gt;
                        &#039;C:\uploads&#039;, &#039;overwrite&#039; =&gt; true))</td>
                        <td align="left">Spécifie un nouveau dossier pour tous les fichiers qui sont
                        présent dans l&#039;ancien dossier quand la chaîne est un dossier. Notez que
                        vous aurez pas de notification en cas d&#039;écrasement.</td>
                    </tr>

                </tbody>
            
        </table>

    </div>

    <div class="section" id="zend.file.transfer.filters.uppercase" name="zend.file.transfer.filters.uppercase"><div class="info"><h1 class="title">Filtre UpperCase</h1></div>
        

        <p class="para">
            Le filtre <code class="code">UpperCase</code> vous permet de mettre en minuscule le contenu
            d&#039;un fichier. Vous devriez utiliser ce filtre seulement sur les fichiers texte.
        </p>

        <p class="para">
            Lors de l&#039;initialisation vous pouvez fournir qui sera utilisée en tant
            qu&#039;encodage. Ou vous pouvez utiliser la méthode  <span class="methodname">setEncoding()</span> pour le
            paramétrer plus tard.
        </p>

        <div class="example"><div class="info"><p><b>Example #10 Utiliser le filtre UpperCase</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_File_Transfer_Adapter_Http<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addValidator</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'MimeType'</span>, <span style="color: #ff0000;">'text'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Ajoute un filtre pour mettre en majuscule les fichiers textes uploadés</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addFilter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'UpperCase'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Ajoute un filtre pour mettre en majuscule seulement le fichier uploadé &quot;uploadfile1&quot;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addFilter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'UpperCase'</span>, <span style="color: #000000; font-weight: bold;">null</span>, <span style="color: #ff0000;">'uploadfile1'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Ajoute un filtre pour mettre en majuscule avec un encodage ISO-8859-1</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addFilter</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'UpperCase'</span>, <span style="color: #ff0000;">'ISO-8859-1'</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

        </div>

        <blockquote><p><b class="note">Note</b>: 
            
                Notez que les options du filtre UpperCase sont optionnelles, vous devez
                fournir un <b><tt>NULL</tt></b> en second paramètre quand vous souhaitez limiter le
                filtre à un fichier unique.
            <br />
        </p></blockquote>
    </div>
</div>
        <hr />

            <table width="100%">
                <tr>
                    <td width="25%" style="text-align: left;">
                    <a href="zend.file.transfer.validators.html">Validateurs pour Zend_File_Transfer</a>
                    </td>

                    <td width="50%" style="text-align: center;">
                        <div class="up"><span class="up"><a href="zend.file.html">Zend_File</a></span><br />
                        <span class="home"><a href="manual.html">Programmer's Reference Guide</a></span></div>
                    </td>

                    <td width="25%" style="text-align: right;">
                        <div class="next" style="text-align: right; float: right;"><a href="zend.filter.html">Zend_Filter</a></div>
                    </td>
                </tr>
            </table>
</td>
        <td style="font-size: smaller;" width="15%"> <style type="text/css">
#leftbar {
	float: left;
	width: 186px;
	padding: 5px;
	font-size: smaller;
}
ul.toc {
	margin: 0px 5px 5px 5px;
	padding: 0px;
}
ul.toc li {
	font-size: 85%;
	margin: 1px 0 1px 1px;
	padding: 1px 0 1px 11px;
	list-style-type: none;
	background-repeat: no-repeat;
	background-position: center left;
}
ul.toc li.header {
	font-size: 115%;
	padding: 5px 0px 5px 11px;
	border-bottom: 1px solid #cccccc;
	margin-bottom: 5px;
}
ul.toc li.active {
	font-weight: bold;
}
ul.toc li a {
	text-decoration: none;
}
ul.toc li a:hover {
	text-decoration: underline;
}
</style>
 <ul class="toc">
  <li class="header home"><a href="manual.html">Programmer's Reference Guide</a></li>
  <li class="header up"><a href="manual.html">Programmer's Reference Guide</a></li>
  <li class="header up"><a href="reference.html">Zend Framework Reference</a></li>
  <li class="header up"><a href="zend.file.html">Zend_File</a></li>
  <li><a href="zend.file.transfer.introduction.html">Zend_File_Transfer</a></li>
  <li><a href="zend.file.transfer.validators.html">Validateurs pour Zend_File_Transfer</a></li>
  <li class="active"><a href="zend.file.transfer.filters.html">Filtres pour Zend_File_Transfer</a></li>
 </ul>
 </td>
    </tr>
</table>
</body>
</html>