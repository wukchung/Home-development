<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>Validateurs pour Zend_File_Transfer - Zend Framework Manual</title>

</head>
<body>
<table width="100%">
    <tr valign="top">
        <td width="85%">
            <table width="100%">
                <tr>
                    <td width="25%" style="text-align: left;">
                    <a href="zend.file.transfer.introduction.html">Zend_File_Transfer</a>
                    </td>

                    <td width="50%" style="text-align: center;">
                        <div class="up"><span class="up"><a href="zend.file.html">Zend_File</a></span><br />
                        <span class="home"><a href="manual.html">Programmer's Reference Guide</a></span></div>
                    </td>

                    <td width="25%" style="text-align: right;">
                        <div class="next" style="text-align: right; float: right;"><a href="zend.file.transfer.filters.html">Filtres pour Zend_File_Transfer</a></div>
                    </td>
                </tr>
            </table>
<hr />
<div id="zend.file.transfer.validators" class="section"><div class="info"><h1 class="title">Validateurs pour Zend_File_Transfer</h1></div>
    

    <p class="para">
        <span class="classname">Zend_File_Transfer</span> est fourni avec de multiples validateurs
        liés qui doivent être utiliser pour accroître la sécurité et prévenir les attaques
        possibles. Notez que les validateurs ne sont bons que si vous les utilisez. Tous les
        validateurs qui sont fournis avec <span class="classname">Zend_File_Transfer</span> peuvent être
        trouvés avec le composant <span class="classname">Zend_Validator</span> et sont nommés
        <span class="classname">Zend_Validate_File_*</span>. Les validateurs suivants sont actuellement
        disponibles :
    </p>

    <ul class="itemizedlist">
        <li class="listitem">
            <p class="para">
                <code class="code">Count</code> : ce validateur vérifie le nombre de fichiers. Il est
                possible de définir un minimum et un maximum et une erreur sera lancée s&#039;ils sont
                dépassés.
            </p>
        </li>

        <li class="listitem">
            <p class="para">
                <code class="code">Crc32</code> : ce validateur vérifie la valeur de hachage crc32 du
                contenu d&#039;un fichier. Il est basé sur le validateur <code class="code">Hash</code> et en
                simplifiant son utilisation par le support unique du Crc32.
            </p>
        </li>

        <li class="listitem">
            <p class="para">
                <code class="code">ExcludeExtension</code> : ce validateur vérifie l&#039;extension des
                fichiers. Il lancera une erreur quand un fichier aura une extension non souhaitée.
                Ainsi vous pouvez empêcher la validation de certaines extensions.
            </p>
        </li>

        <li class="listitem">
            <p class="para">
                <code class="code">ExcludeMimeType</code> : ce validateur vérifie le type <acronym class="acronym">MIME</acronym> des
                fichiers. Il est aussi capable de valider un groupe de type <acronym class="acronym">MIME</acronym> et générera une
                erreur quand le type <acronym class="acronym">MIME</acronym> d&#039;un fichier donné correspond.
            </p>
        </li>

        <li class="listitem">
            <p class="para">
                <code class="code">Exists</code> : ce validateur vérifie l&#039;existence des fichiers. Il
                lancera une erreur quand un fichier n&#039;existera pas.
            </p>
        </li>

        <li class="listitem">
            <p class="para">
                <code class="code">Extension</code> : ce validateur vérifie l&#039;extension des fichiers. Il
                lancera une erreur quand un fichier n&#039;aura pas l&#039;extension définie.
            </p>
        </li>

        <li class="listitem">
            <p class="para">
                <code class="code">FilesSize</code> : ce validateur vérifie la taille complète de tous les
                fichiers à valider. Il conserve en mémoire la taille de tous les fichiers chargés et
                lance une erreur quand la somme de tous les fichiers dépasse la taille définie. Il
                est aussi possible de définir une taille minimum et maximum.
            </p>
        </li>

        <li class="listitem">
            <p class="para">
                <code class="code">ImageSize</code> : ce validateur vérifie la taille des images. Il valide
                la largeur et la hauteur et permet de paramétrer à la fois une valeur minimum et
                maximum.
            </p>
        </li>

        <li class="listitem">
            <p class="para">
                <code class="code">IsCompressed</code> : ce validateur vérifie si le fichier est compressé.
                Il est basé sur le validateur <code class="code">MimeType</code> et valide les archives
                compressées comme zip ou arc. Vous pouvez aussi limiter à des types d&#039;archives
                particuliers.
            </p>
        </li>

        <li class="listitem">
            <p class="para">
                <code class="code">IsImage</code> : ce validateur vérifie si un fichier est une image. Il
                est basé sur le validateur <code class="code">MimeType</code> et valide les images comme jpg ou
                gif. Vous pouvez aussi limiter à des types d&#039;images particuliers.
            </p>
        </li>

        <li class="listitem">
            <p class="para">
                <code class="code">Hash</code> : ce validateur vérifie la valeur de hachage md5 du contenu
                d&#039;un fichier. Il supporte de multiples algorithmes.
            </p>
        </li>

        <li class="listitem">
            <p class="para">
                <code class="code">Md5</code> : ce validateur vérifie la valeur de hachage md5 du contenu
                d&#039;un fichier. Il est basé sur le validateur <code class="code">Hash</code> et en simplifiant son
                utilisation par le support unique du Md5.
            </p>
        </li>

        <li class="listitem">
            <p class="para">
                <code class="code">MimeType</code> : ce validateur vérifie le type <acronym class="acronym">MIME</acronym> des fichiers. Il
                est aussi capable de valider des groupes de type <acronym class="acronym">MIME</acronym> et de générer une erreur quand
                le type <acronym class="acronym">MIME</acronym> d&#039;un fichier donné ne correspond pas.
            </p>
        </li>

        <li class="listitem">
            <p class="para">
                <code class="code">NotExists</code> : ce validateur vérifie l&#039;existence des fichiers. Il
                lancera une erreur quand un fichier existera déjà.
            </p>
        </li>

        <li class="listitem">
            <p class="para">
                <code class="code">Sha1</code> : ce validateur vérifie la valeur de hachage sha1 du contenu
                d&#039;un fichier. Il est basé sur le validateur <code class="code">Hash</code> et en simplifiant son
                utilisation par le support unique du Sha1.
            </p>
        </li>

        <li class="listitem">
            <p class="para">
                <code class="code">Size</code> : ce validateur permet de valider la taille d&#039;un fichier en
                particulier. Il est possible de définir un minimum et un maximum et une erreur sera
                lancée s&#039;ils sont dépassés.
            </p>
        </li>

        <li class="listitem">
            <p class="para">
                <code class="code">Upload</code> : ce validateur est interne, il vérifie si l&#039;upload a
                produit une erreur. Vous ne devez pas le paramétrer, il est automatiquement activé
                par<code class="code"> Zend_File_Transfer</code> lui-même. Vous pouvez donc oublier ce
                validateur. Il faut juste savoir qu&#039;il existe.
            </p>
        </li>

        <li class="listitem">
            <p class="para">
                <code class="code">WordCount</code> : ce validateur est capable de vérifier le nombre de
                mots à l&#039;intérieur du fichier. Il permet de définir des valeurs minimum et maximum
                et émettra une erreur si l&#039;un ou l&#039;autre des seuils est dépassé.
            </p>
        </li>
    </ul>

    <div class="section" id="zend.file.transfer.validators.usage" name="zend.file.transfer.validators.usage"><div class="info"><h1 class="title">Utiliser les validateurs avec Zend_File_Transfer</h1></div>
        

        <p class="para">
            L&#039;utilisation des validateurs est assez simple. Il existe de multiples méthodes
            pour ajouter et manipuler les validateurs.
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">
                     <span class="methodname">isValid($files = null)</span> : vérifie le(s) fichier(s) fourni(s)
                    avec tout le jeu de validateurs paramétrés. <var class="varname">$files</var> peut être soit
                    un vrai nom de fichier, soit des noms d&#039;éléments de formulaire ou des noms de
                    fichiers temporaires.
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <code class="code">addValidator($validator, $breakChainOnFailure, $options = null,
                    $files = null)</code> : ajoute le validateur à la pile des validateurs
                    (optionnellement seul le(s) fichier(s) spécifié(s)). <var class="varname">$validator</var>
                    peut être soit une instance d&#039;un validateur réel, ou un nom court spécifiant le
                    validateur (par exemple, &quot;Count&quot;).
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                     <span class="methodname">addValidators(array $validators, $files = null)</span> : ajoute les
                    validateurs à la pile des validateurs. Chaque entrée peut être soit une paire
                    type/options, ou un tableau avec la clé &quot;validator&quot; spécifiant le validateur
                    (tous les autres options seront considérées comme des options du validateur au
                    moment de l&#039;instanciation).
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                     <span class="methodname">setValidators(array $validators, $files = null)</span> : surcharge
                    les validateurs existants avec les validateurs spécifiés. Les validateurs
                    doivent respecter la même syntaxe que  <span class="methodname">addValidators()</span>.
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                     <span class="methodname">hasValidator($name)</span> : indique si un validateur est enregistré.
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                     <span class="methodname">getValidator($name)</span> : retourne un validateur préalablement
                    enregistré.
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                     <span class="methodname">getValidators($files = null)</span> : retourne les validateurs
                    enregistrés ; si <var class="varname">$files</var> est fourni, retourne les validateurs
                    pour ce fichier en particulier ou pour tous les fichiers.
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                     <span class="methodname">removeValidator($name)</span> : enlève le validateur préalablement
                    enregistré.
                </p>
            </li>

            <li class="listitem">
                <p class="para"> <span class="methodname">clearValidators()</span> : efface tous les validateurs.</p>
            </li>
        </ul>

        <div class="example"><div class="info"><p><b>Example #1 Ajouter des validateurs au(x) fichier(s) transféré(s)</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_File_Transfer<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Paramètre un poids de fichier de 20000 octets</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addValidator</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Size'</span>, <span style="color: #000000; font-weight: bold;">false</span>, <span style="color: #cc66cc;">20000</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Paramètre un poids de fichier de 20 octets minimum</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// et de 20000 octets maximum</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addValidator</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Size'</span>, <span style="color: #000000; font-weight: bold;">false</span>, <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'min'</span> =&gt; <span style="color: #cc66cc;">20</span>, <span style="color: #ff0000;">'max'</span> =&gt; <span style="color: #cc66cc;">20000</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Paramètre un poids de fichier de 20 octets minimum et</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// de 20000 octets maximum et un nombre de fichiers en une seule étape</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">setValidators</span><span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'Size'</span>&nbsp; =&gt; <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'min'</span> =&gt; <span style="color: #cc66cc;">20</span>, <span style="color: #ff0000;">'max'</span> =&gt; <span style="color: #cc66cc;">20000</span><span style="color: #66cc66;">&#41;</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #ff0000;">'Count'</span> =&gt; <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'min'</span> =&gt; <span style="color: #cc66cc;">1</span>, <span style="color: #ff0000;">'max'</span> =&gt; <span style="color: #cc66cc;">3</span><span style="color: #66cc66;">&#41;</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

        </div>

        <div class="example"><div class="info"><p><b>Example #2 Limiter les validateurs à des fichiers uniques</b></p></div>
            

            <div class="example-contents"><p>
                 <span class="methodname">addValidator()</span>,  <span class="methodname">addValidators()</span>, et
                 <span class="methodname">setValidators()</span> accepte chacun un argument final <var class="varname">$files</var>.
                Cet argument peut être utilisé pour spécifier un fichier en particulier ou un
                tableau de fichiers sur lequel appliqué le validateur donné.
            </p></div>

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_File_Transfer<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Paramètre un poids de fichier de 20000 octets et</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// limite celui-ci à 'file2'</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addValidator</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Size'</span>, <span style="color: #000000; font-weight: bold;">false</span>, <span style="color: #cc66cc;">20000</span>, <span style="color: #ff0000;">'file2'</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

        </div>

        <p class="para">
            Généralement vous devriez simplement utiliser la méthode
             <span class="methodname">addValidators()</span>, qui peut être appelée plusieurs fois.
        </p>

        <div class="example"><div class="info"><p><b>Example #3 Ajouter des validateurs multiples</b></p></div>
            

            <div class="example-contents"><p>
                Souvent il est plus simple d&#039;appeler plusieurs fois
                 <span class="methodname">addValidator()</span> : un appel pour chaque validateur. Ceci améliore
                aussi la lisibilité et rend votre code plus maintenable. Comme toutes les méthodes
                fournissent un interface fluide, vous pouvez enchaîner les appels comme montré
                ci-dessous :
            </p></div>

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_File_Transfer<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Paramètre un poids de fichier de 20000 octets</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addValidator</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Size'</span>, <span style="color: #000000; font-weight: bold;">false</span>, <span style="color: #cc66cc;">20000</span><span style="color: #66cc66;">&#41;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp;-&gt;<span style="color: #006600;">addValidator</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Count'</span>, <span style="color: #000000; font-weight: bold;">false</span>, <span style="color: #cc66cc;">2</span><span style="color: #66cc66;">&#41;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp;-&gt;<span style="color: #006600;">addValidator</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Filessize'</span>, <span style="color: #000000; font-weight: bold;">false</span>, <span style="color: #cc66cc;">25000</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

        </div>

        <blockquote><p><b class="note">Note</b>: 
            
                Notez que même si l&#039;ajout du même validateur plusieurs fois est autorisé,
                faire ceci peut entraîner des problèmes si vous utilisez différentes options pour le
                même validateur.
            <br />
        </p></blockquote>

        <p class="para">
            Et pour finir vous pouvez tout simplement vérifier le(s) fichier(s) en appelant
             <span class="methodname">isValid()</span>.
        </p>

        <div class="example"><div class="info"><p><b>Example #4 Valider les fichiers</b></p></div>
            

            <div class="example-contents"><p>
                 <span class="methodname">isValid()</span> accepte les fichiers uploadés ou télécharger, le nom de
                fichier temporaire et bien sûr le nom de l&#039;élément de formulaire. Si aucun paramètre
                ou <b><tt>NULL</tt></b> est fourni, tous les fichiers seront vérifiés.
            </p></div>

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_File_Transfer<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Paramètre un poids de fichier de 20000 octets</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addValidator</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Size'</span>, <span style="color: #000000; font-weight: bold;">false</span>, <span style="color: #cc66cc;">20000</span><span style="color: #66cc66;">&#41;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp;-&gt;<span style="color: #006600;">addValidator</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Count'</span>, <span style="color: #000000; font-weight: bold;">false</span>, <span style="color: #cc66cc;">2</span><span style="color: #66cc66;">&#41;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp;-&gt;<span style="color: #006600;">addValidator</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Filessize'</span>, <span style="color: #000000; font-weight: bold;">false</span>, <span style="color: #cc66cc;">25000</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #b1b100;">if</span> <span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">isValid</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <a href="http://www.php.net/print"><span style="color: #000066;">print</span></a> <span style="color: #ff0000;">&quot;Echec de validation&quot;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li></ol></div></div></div>

        </div>

        <blockquote><p><b class="note">Note</b>: 
            
                Notez que  <span class="methodname">isValid()</span> sera automatiquement appelé quand vous
                recevez les fichiers et qu&#039;il n&#039;a pas été appelé auparavant.
            <br />
        </p></blockquote>

        <p class="para">
            Quand une validation a échouée, c&#039;est probablement intéressant d&#039;avoir des
            informations sur les problèmes rencontrés. A cette fin, vous pouvez utiliser la méthode
             <span class="methodname">getMessages()</span> qui retourne tous les messages de validation sous la forme
            d&#039;un tableau,  <span class="methodname">getErrors()</span> qui retourne tous les codes d&#039;erreurs et
             <span class="methodname">hasErrors()</span> qui retourne <b><tt>TRUE</tt></b> dès qu&#039;une erreur de validation
            est rencontrée.
        </p>
    </div>

    <div class="section" id="zend.file.transfer.validators.count" name="zend.file.transfer.validators.count"><div class="info"><h1 class="title">Validateur Count</h1></div>
        

        <p class="para">
            Le validateur <code class="code">Count</code> vérifie le nombre de fichiers fournis. Il
            supporte les clés d&#039;options suivantes :
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">
                    <code class="code">min</code> : paramètre le nombre minimum de fichiers à
                    transférer.
                </p>

                <blockquote><p><b class="note">Note</b>: 
                    
                        Attention : quand vous utilisez cette option vous devez donner le
                        nombre minimum au moment où vous appelez ce validateur la première fois ;
                        sinon vous aurez une erreur en retour.
                    <br />
                </p></blockquote>

                <p class="para">
                    Avec cette option vous pouvez définir le nombre de fichiers que vous
                    souhaitez recevoir.
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <code class="code">max</code> : paramètre le nombre maximum de fichiers à
                    transférer.
                </p>

                <p class="para">
                    Avec cette option vous pouvez limiter le nombre de fichiers que vous
                    acceptez mais vous permet aussi de détecter une possible attaque quand plus de
                    fichiers, que votre formulaire n&#039;en définit, sont fournis.
                </p>
            </li>
        </ul>

        <p class="para">
            Vous pouvez initialiser ce validateur avec une chaîne ou un entier, la valeur sera
            utilisée en tant que <code class="code">max</code>. Mais vous pouvez aussi utiliser les méthodes
             <span class="methodname">setMin()</span> et  <span class="methodname">setMax()</span> pour paramétrer ces options plus tard et
             <span class="methodname">getMin()</span> et  <span class="methodname">getMax()</span> pour les récupérer.
        </p>

        <div class="example"><div class="info"><p><b>Example #5 Utiliser le validateur Count</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_File_Transfer<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Limite le nombre de fichiers à 2 maximum</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addValidator</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Count'</span>, <span style="color: #000000; font-weight: bold;">false</span>, <span style="color: #cc66cc;">2</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Limite le nombre de fichiers à 5 maximum,</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// tout en obligeant au moins 1 fichier</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addValidator</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Count'</span>, <span style="color: #000000; font-weight: bold;">false</span>, <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'min'</span> =&gt;<span style="color: #cc66cc;">1</span>, <span style="color: #ff0000;">'max'</span> =&gt; <span style="color: #cc66cc;">5</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

        </div>

        <blockquote><p><b class="note">Note</b>: 
            
                Notez que ce validateur stocke le nombre de fichiers vérifiés en interne. Le
                fichier qui excédera le maximum sera retourné en tant qu&#039;erreur.
            <br />
        </p></blockquote>
    </div>

    <div class="section" id="zend.file.transfer.validators.crc32" name="zend.file.transfer.validators.crc32"><div class="info"><h1 class="title">Validateur Crc32</h1></div>
        

        <p class="para">
            Le validateur <code class="code">Crc32</code> vérifie le contenu du fichier transféré en le
            hachant. Ce validateur utilise l&#039;extension de hachage de <acronym class="acronym">PHP</acronym> avec l&#039;algorithme crc32. Il
            supporte les options suivantes :
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">
                    <code class="code">*</code> : vous pouvez paramétrer n&#039;importe quelle clé ou utiliser
                    un tableau numérique. Les valeurs seront utilisées pour vérifier la valeur de
                    hachage.
                </p>

                <p class="para">
                    Vous pouvez paramétrer de multiples hachages en utilisant différentes
                    clés. Chacun sera vérifié et seulement si tous échouent, la validation elle-même
                    échouera.
                </p>
            </li>
        </ul>

        <div class="example"><div class="info"><p><b>Example #6 Utiliser le validateur Crc32</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_File_Transfer<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Vérifie si le contenu d'un fichier uploadé correspond au hachage fourni</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addValidator</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Crc32'</span>, <span style="color: #000000; font-weight: bold;">false</span>, <span style="color: #ff0000;">'3b3652f'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Limite ce validateur à deux différents hachages</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addValidator</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Crc32'</span>, <span style="color: #000000; font-weight: bold;">false</span>, <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'3b3652f'</span>, <span style="color: #ff0000;">'e612b69'</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

        </div>
    </div>

    <div class="section" id="zend.file.transfer.validators.excludeextension" name="zend.file.transfer.validators.excludeextension"><div class="info"><h1 class="title">Validateur ExcludeExtension</h1></div>
        

        <p class="para">
            Le validateur <code class="code">ExcludeExtension</code> vérifie l&#039;extension des fichiers
            fournis. Il supporte les options suivantes :
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">
                    <code class="code">*</code> : vous pouvez paramétrer n&#039;importe quelle clé ou utiliser un
                    tableau numérique. Les valeurs seront utilisées en tant qu&#039;extensions à vérifier
                    que le fichier n&#039;utilise pas.
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <code class="code">case</code> : paramètre une validation qui tient compte de la casse.
                    Par défaut, ce n&#039;est pas sensible à la casse. Notez que cette clé est utilisée
                    pour toutes les extensions.
                </p>
            </li>
        </ul>

        <p class="para">
            Ce validateur accepte des extensions multiples soit sous la forme d&#039;une chaîne
            utilisant le caractère virgule (&quot;,&quot;) comme séparateur ou sous la forme d&#039;un tableau.
            Vous pouvez aussi utiliser les méthodes  <span class="methodname">setExtension()</span>,
             <span class="methodname">addExtension()</span>, et  <span class="methodname">getExtension()</span> pour paramétrer et récupérer
            les extensions.
        </p>

        <p class="para">
            Dans certains cas, il est utile vérifier aussi la casse. A cette fin le
            constructeur autorise un second paramètre <var class="varname">$case</var> qui, s&#039;il est réglé à
            <b><tt>TRUE</tt></b>, validera l&#039;extension en vérifiant aussi la casse.
        </p>

        <div class="example"><div class="info"><p><b>Example #7 Utiliser le validateur ExcludeExtension</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_File_Transfer<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Refuser les fichiers avec l'extension php ou exe</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addValidator</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'ExcludeExtension'</span>, <span style="color: #000000; font-weight: bold;">false</span>, <span style="color: #ff0000;">'php,exe'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Refuser les fichiers avec l'extension php ou exe en utilisant</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// la notation de type tableau</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addValidator</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'ExcludeExtension'</span>, <span style="color: #000000; font-weight: bold;">false</span>, <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'php'</span>, <span style="color: #ff0000;">'exe'</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Vérifier aussi la casse</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addValidator</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'ExcludeExtension'</span>, <span style="color: #000000; font-weight: bold;">false</span>, <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'php'</span>, <span style="color: #ff0000;">'exe'</span>, <span style="color: #ff0000;">'case'</span> =&gt; <span style="color: #000000; font-weight: bold;">true</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

        </div>

        <blockquote><p><b class="note">Note</b>: 
            
                Notez que ce validateur ne vérifie que l&#039;extension de fichier. Il ne vérifie
                pas le type <acronym class="acronym">MIME</acronym> réel du fichier.
            <br />
        </p></blockquote>
    </div>

    <div class="section" id="zend.file.transfer.validators.excludemimetype" name="zend.file.transfer.validators.excludemimetype"><div class="info"><h1 class="title">Validateur ExcludeMimeType</h1></div>
        

        <p class="para">
            Le validateur <code class="code">ExcludeMimeType</code> vérifie le type <acronym class="acronym">MIME</acronym> des fichiers
            transférés. Il supporte les options suivantes :
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">
                    <code class="code">*</code> : vous pouvez paramétrer n&#039;importe quelle clé ou utiliser un
                    tableau numérique. Paramètre le type <acronym class="acronym">MIME</acronym> à vérifier.
                </p>

                <p class="para">
                    Avec cette option vous pouvez définir le(s) type(s) <acronym class="acronym">MIME</acronym> que vous
                    souhaitez exclure.
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <code class="code">headerCheck</code> : si spécifié à <b><tt>TRUE</tt></b>, cette
                    option va vérifier l&#039;information <acronym class="acronym">HTTP</acronym> concernant le type de
                    fichier quand les extensions <em class="emphasis">fileInfo</em> ou
                    <em class="emphasis">mimeMagic</em> ne seront pas trouvées. La valeur par défaut de
                    cette option est <b><tt>FALSE</tt></b>.
                </p>
            </li>
        </ul>

        <p class="para">
            Ce validateur accepte des types <acronym class="acronym">MIME</acronym> multiples soit sous la forme d&#039;une chaîne
            utilisant le caractère virgule (&quot;,&quot;) comme séparateur ou sous la forme d&#039;un tableau.
            Vous pouvez aussi utiliser les méthodes  <span class="methodname">setMimeType()</span>,
             <span class="methodname">addMimeType()</span>, et  <span class="methodname">getMimeType()</span> pour paramétrer et récupérer
            les types <acronym class="acronym">MIME</acronym>.
        </p>

        <div class="example"><div class="info"><p><b>Example #8 Utiliser le validateur ExcludeMimeType</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_File_Transfer<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Refuser le type MIME d'image gif pour tous les fichiers</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addValidator</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'ExcludeMimeType'</span>, <span style="color: #000000; font-weight: bold;">false</span>, <span style="color: #ff0000;">'image/gif'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Refuser le type MIME d'image gif et jpg pour tous les fichiers</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addValidator</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'ExcludeMimeType'</span>, <span style="color: #000000; font-weight: bold;">false</span>, <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'image/gif'</span>, <span style="color: #ff0000;">'image/jpeg'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Refuser les types MIME du groupe image pour tous les fichiers</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addValidator</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'ExcludeMimeType'</span>, <span style="color: #000000; font-weight: bold;">false</span>, <span style="color: #ff0000;">'image'</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

        </div>

        <p class="para">
            L&#039;exemple ci-dessus montre qu&#039;il est aussi possible de limiter le type <acronym class="acronym">MIME</acronym>
            accepté à un groupe de type <acronym class="acronym">MIME</acronym>. Pour refuser toutes les images utilisez simplement
            &quot;image&quot; en tant que type <acronym class="acronym">MIME</acronym>. Ceci peut être appliqué à tous les groupes de type <acronym class="acronym">MIME</acronym>
            comme &quot;image&quot;, &quot;audio&quot;, &quot;video&quot;, &quot;text&quot; et plus encore.
        </p>

        <blockquote><p><b class="note">Note</b>: 
            
                Notez que refuser un groupe de type <acronym class="acronym">MIME</acronym> refusera tous les membres de ce
                groupe même si ce n&#039;est pas votre intention. Par exemple quand vous refusez &quot;image&quot;,
                vous refusez donc &quot;image/jpeg&quot; ou &quot;image/vasa&quot;. Quand vous n&#039;êtes pas sûr de vouloir
                refuser tous les types, vous devriez définir individuellement les types <acronym class="acronym">MIME</acronym> plutôt
                que le groupe complet.
            <br />
        </p></blockquote>
    </div>

    <div class="section" id="zend.file.transfer.validators.exists" name="zend.file.transfer.validators.exists"><div class="info"><h1 class="title">Validateur Exists</h1></div>
        

        <p class="para">
            Le validateur <code class="code">Exists</code> l&#039;existence des fichiers fournis. Il supporte
            les options suivantes :
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">
                    <code class="code">*</code> : vous pouvez paramétrer n&#039;importe quelle clé ou utiliser
                    un tableau numérique. Vérifie si le fichier existe dans le dossier
                    fourni.
                </p>
            </li>
        </ul>

        <p class="para">
            Ce validateur accepte des extensions multiples soit sous la forme d&#039;une chaîne
            utilisant le caractère virgule (&quot;,&quot;) comme séparateur ou sous la forme d&#039;un tableau.
            Vous pouvez aussi utiliser les méthodes  <span class="methodname">setDirectory()</span>,
             <span class="methodname">addDirectory()</span>, et  <span class="methodname">getDirectory()</span> pour paramétrer et récupérer
            les extensions.
        </p>

        <div class="example"><div class="info"><p><b>Example #9 Utiliser le validateur Exists</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_File_Transfer<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Ajoute le dossier temporaire à vérifier</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addValidator</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Exists'</span>, <span style="color: #000000; font-weight: bold;">false</span>, <span style="color: #ff0000;">'<span style="color: #000099; font-weight: bold;">\t</span>emp'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Ajoute deux dossiers en utilsant la notation de type tableau</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addValidator</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Exists'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">false</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'<span style="color: #000099; font-weight: bold;">\h</span>ome<span style="color: #000099; font-weight: bold;">\i</span>mages'</span>, <span style="color: #ff0000;">'<span style="color: #000099; font-weight: bold;">\h</span>ome<span style="color: #000099; font-weight: bold;">\u</span>ploads'</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

        </div>

        <blockquote><p><b class="note">Note</b>: 
            
                Notez que ce validateur vérifie si le fichier existe dans tous les dossiers
                fournis. La validation échoue si le fichier est manquant dans l&#039;un des
                dossiers.
            <br />
        </p></blockquote>
    </div>

    <div class="section" id="zend.file.transfer.validators.extension" name="zend.file.transfer.validators.extension"><div class="info"><h1 class="title">Validateur Extension</h1></div>
        

        <p class="para">
            Le validateur <code class="code">Extension</code> vérifie l&#039;=es extensions des fichiers qui ont
            été fournis. Il supporte les options suivantes :
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">
                    <code class="code">*</code> : vous pouvez paramétrer n&#039;importe quelle clé ou utiliser
                    un tableau numérique. Paramètre l&#039;extension à vérifier.
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <code class="code">case</code> : paramètre une validation sensible à la casse. Par
                    défaut, la validation n&#039;est pas sensible à la casse. Notez que cette clé est
                    utilisée pour toutes les extensions.
                </p>
            </li>
        </ul>

        <p class="para">
            Ce validateur accepte des extensions multiples soit sous la forme d&#039;une chaîne
            utilisant le caractère virgule (&quot;,&quot;) comme séparateur ou sous la forme d&#039;un tableau.
            Vous pouvez aussi utiliser les méthodes  <span class="methodname">setExtension()</span>,
             <span class="methodname">addExtension()</span>, et  <span class="methodname">getExtension()</span> pour paramétrer et récupérer
            les extensions.
        </p>

        <p class="para">
            Dans certains cas, il est utile vérifier aussi la casse. A cette fin le
            constructeur autorise un second paramètre <var class="varname">$case</var> qui, s&#039;il est réglé à
            <b><tt>TRUE</tt></b>, validera l&#039;extension en vérifiant aussi la casse.
        </p>

        <div class="example"><div class="info"><p><b>Example #10 Utiliser le validateur Extension</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_File_Transfer<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Limite les extensions à jpg et png</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addValidator</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Extension'</span>, <span style="color: #000000; font-weight: bold;">false</span>, <span style="color: #ff0000;">'jpg,png'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Limite les extensions à jpg et png en utilisant</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// la notation de type tableau</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addValidator</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Extension'</span>, <span style="color: #000000; font-weight: bold;">false</span>, <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'jpg'</span>, <span style="color: #ff0000;">'png'</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Vérifie aussi la casse</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addValidator</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Extension'</span>, <span style="color: #000000; font-weight: bold;">false</span>, <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'mo'</span>, <span style="color: #ff0000;">'png'</span>, <span style="color: #ff0000;">'case'</span> =&gt; <span style="color: #000000; font-weight: bold;">true</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #b1b100;">if</span> <span style="color: #66cc66;">&#40;</span>!<span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">isValid</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'C:<span style="color: #000099; font-weight: bold;">\t</span>emp<span style="color: #000099; font-weight: bold;">\m</span>yfile.MO'</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <a href="http://www.php.net/print"><span style="color: #000066;">print</span></a> <span style="color: #ff0000;">'Non valide à cause de MO au lieu de mo'</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li></ol></div></div></div>

        </div>

        <blockquote><p><b class="note">Note</b>: 
            
                Notez que ce validateur ne vérifie que l&#039;extension de fichier. Il ne vérifie
                pas le type <acronym class="acronym">MIME</acronym> réel du fichier.
            <br />
        </p></blockquote>
    </div>

    <div class="section" id="zend.file.transfer.validators.filessize" name="zend.file.transfer.validators.filessize"><div class="info"><h1 class="title">Validateur FilesSize</h1></div>
        

        <p class="para">
            Le validateur <code class="code">FilesSize</code> vérifie le poids total de tous les fichiers
            transférés. Il supporte les options suivantes :
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para"><code class="code">min</code> : paramètre le poids minimum de tous les fichiers.</p>

                <p class="para">
                    Avec cette option vous pouvez définir le poids minimum de tous les
                    fichiers que vous souhaitez transférer.
                </p>
            </li>

            <li class="listitem">
                <p class="para"><code class="code">max</code> : paramètre le poids maximum de tous les fichiers.</p>

                <p class="para">
                    Avec cette option vous pouvez limiter le poids total des fichiers qui
                    doivent être transférés, mais pas la taille individuelle de chaque
                    fichier.
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <code class="code">bytestring</code> : définit si un échec est retourné avec un taille
                    plus facilement lisible pour l&#039;utilisateur, ou avec une taille de fichier
                    brute.
                </p>

                <p class="para">
                    Avec cette option vous pouvez en fait définir si l&#039;utilisateur récupérera
                    &quot;10864&quot; ou &quot;10MB&quot;. La valeur par défaut est <b><tt>TRUE</tt></b> qui retournera
                    &quot;10MB&quot;.
                </p>
            </li>
        </ul>

        <p class="para">
            Vous pouvez initialiser seulement avec une chaîne qui sera utilisée en tant que
            <code class="code">max</code>. Mais vous pouvez aussi utiliser les méthodes  <span class="methodname">setMin()</span> et
             <span class="methodname">setMax()</span> pour paramétrer ces options plus tard et  <span class="methodname">getMin()</span> et
             <span class="methodname">getMax()</span> pour les récupérer.
        </p>

        <p class="para">
            La taille elle-même est acceptée en notation SI comme sur la plupart des systèmes
            d&#039;exploitation. Au lieu de 20000 octets (NdT. : &quot;bytes&quot; en anglais), vous pouvez
            utiliser <em class="emphasis">20kB</em>. Toutes les unités sont converties en utilisant 1024
            comme valeur de base. Les unités suivantes sont acceptées : <code class="code">kB</code>,
            <code class="code">MB</code>, <code class="code">GB</code>, <code class="code">TB</code>, <code class="code">PB</code> et <code class="code">EB</code>.
            Comme mentionné précédemment vous devez noter que 1kB équivaut à 1024 octets.
        </p>

        <div class="example"><div class="info"><p><b>Example #11 Utiliser le validateur FilesSize</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_File_Transfer<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Limite la taille de tous les fichiers à 40000 octets</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addValidator</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'FilesSize'</span>, <span style="color: #000000; font-weight: bold;">false</span>, <span style="color: #cc66cc;">40000</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Limite la taille de tous les fichiers dans une plage de 10kB à 4MB</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addValidator</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'FilesSize'</span>, <span style="color: #000000; font-weight: bold;">false</span>, <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'min'</span> =&gt; <span style="color: #ff0000;">'10kB'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'max'</span> =&gt; <span style="color: #ff0000;">'4MB'</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Comme ci-dessus, mais retourne la taille de fichier brute plutôt qu'une chaîne</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addValidator</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'FilesSize'</span>, <span style="color: #000000; font-weight: bold;">false</span>, <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'min'</span> =&gt; <span style="color: #ff0000;">'10kB'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'max'</span> =&gt; <span style="color: #ff0000;">'4MB'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'bytestring'</span> =&gt; <span style="color: #000000; font-weight: bold;">false</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

        </div>

        <blockquote><p><b class="note">Note</b>: 
            
                Notez que ce validateur stocke le poids des fichiers vérifiés en interne. Le
                fichier qui excédera le poids maximum sera retourné en tant qu&#039;erreur.
            <br />
        </p></blockquote>
    </div>

    <div class="section" id="zend.file.transfer.validators.imagesize" name="zend.file.transfer.validators.imagesize"><div class="info"><h1 class="title">Validateur ImageSize</h1></div>
        

        <p class="para">
            Le validateur <code class="code">ImageSize</code> vérifie la taille des images. Il supporte les
            options suivantes :
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para"><code class="code">minheight</code> : paramètre la hauteur minimum d&#039;une image.</p>
            </li>

            <li class="listitem">
                <p class="para"><code class="code">maxheight</code> : paramètre la hauteur maximum d&#039;une image.</p>
            </li>

            <li class="listitem">
                <p class="para"><code class="code">minwidth</code> : paramètre la largeur minimum d&#039;une image.</p>
            </li>

            <li class="listitem">
                <p class="para"><code class="code">maxwidth</code> : paramètre la largeur maximum d&#039;une image.</p>
            </li>
        </ul>

        <p class="para">
            Vous pouvez aussi utiliser les méthodes  <span class="methodname">setImageMin()</span> et
             <span class="methodname">setImageMax()</span> pour régler les valeurs minimum et maximum plus tard et
             <span class="methodname">getMin()</span> et  <span class="methodname">getMax()</span> pour les récupérer.
        </p>

        <p class="para">
            Par commodité, il existe aussi les méthodes <code class="code">setImageWidth</code> et
            <code class="code">setImageHeight</code> qui paramètrent la largeur et la hauteur minimum et maximum.
            Bien sûr les méthodes associées <code class="code">getImageWidth</code> et
            <code class="code">getImageHeight</code> sont aussi disponibles.
        </p>

        <p class="para">
            Pour désactiver la validation d&#039;une dimension, ne paramétrez pas l&#039;option
            correspondante.
        </p>

        <div class="example"><div class="info"><p><b>Example #12 Utiliser le validateur ImageSize</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_File_Transfer<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Limite la taille de l'image à une hauteur de 100 à 200 et</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// une largeur de 40 à 80 pixels</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addValidator</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'ImageSize'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">false</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'minwidth'</span> =&gt; <span style="color: #cc66cc;">40</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'maxwidth'</span> =&gt; <span style="color: #cc66cc;">80</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'minheight'</span> =&gt; <span style="color: #cc66cc;">100</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'maxheight'</span> =&gt; <span style="color: #cc66cc;">200</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Autre possibilité de réglage</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">setImageWidth</span><span style="color: #66cc66;">&#40;</span><a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'minwidth'</span> =&gt; <span style="color: #cc66cc;">20</span>, <span style="color: #ff0000;">'maxwidth'</span> =&gt; <span style="color: #cc66cc;">200</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

        </div>
    </div>

    <div class="section" id="zend.file.transfer.validators.iscompressed" name="zend.file.transfer.validators.iscompressed"><div class="info"><h1 class="title">Validateur IsCompressed</h1></div>
        

        <p class="para">
            Le validateur <code class="code">IsCompressed</code> vérifie si un fichier transféré est une
            archive compressée comme zip ou arc. Ce validateur est basée sur le validateur
            <code class="code">MimeType</code> et supportent les mêmes méthodes et options. Vous pouvez limiter
            ce validateur à des types de compression particuliers avec les méthodes décrites
            ci-dessous.
        </p>

        <div class="example"><div class="info"><p><b>Example #13 Utiliser le validateur IsCompressed</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_File_Transfer<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Vérifie si un fichier uploadé est une archive compressée</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addValidator</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'IsCompressed'</span>, <span style="color: #000000; font-weight: bold;">false</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Limite ce validateur aux fichiers zip seulement</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addValidator</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'IsCompressed'</span>, <span style="color: #000000; font-weight: bold;">false</span>, <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'application/zip'</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Limite ce validateur aux fichiers zip mais avec la notation simplifiée</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addValidator</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'IsCompressed'</span>, <span style="color: #000000; font-weight: bold;">false</span>, <span style="color: #ff0000;">'zip'</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

        </div>

        <blockquote><p><b class="note">Note</b>: 
            
                Notez qu&#039;il n&#039;y a pas de vérification si vous paramétrez un type de fichier
                qui n&#039;est pas un type de compression. Ainsi il est donc possible de définir que les
                fichiers gif sont acceptés par ce validateur même si ce n&#039;est pas logique.
            <br />
        </p></blockquote>
    </div>

    <div class="section" id="zend.file.transfer.validators.isimage" name="zend.file.transfer.validators.isimage"><div class="info"><h1 class="title">Validateur IsImage</h1></div>
        

        <p class="para">
            Le validateur <code class="code">IsImage</code> vérifie si un fichier transféré est une image
            comme gif ou jpeg. Ce validateur est basée sur le validateur <code class="code">MimeType</code> et
            supportent les mêmes méthodes et options. Vous pouvez limiter ce validateur à des types
            d&#039;image particuliers avec les méthodes décrites ci-dessous.
        </p>

        <div class="example"><div class="info"><p><b>Example #14 Utiliser le validateur IsImage</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_File_Transfer<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Vérifie si un fichier uploadé est une image</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addValidator</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'IsImage'</span>, <span style="color: #000000; font-weight: bold;">false</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Limite ce validateur aux fichiers gif seulement</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addValidator</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'IsImage'</span>, <span style="color: #000000; font-weight: bold;">false</span>, <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'application/gif'</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Limite ce validateur aux fichiers jpeg mais avec la notation simplifiée</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addValidator</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'IsImage'</span>, <span style="color: #000000; font-weight: bold;">false</span>, <span style="color: #ff0000;">'jpeg'</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

        </div>

        <blockquote><p><b class="note">Note</b>: 
            
                Notez qu&#039;il n&#039;y a pas de vérification si vous paramétrez un type de fichier
                qui n&#039;est pas un type d&#039;image. Ainsi il est donc possible de définir que les
                fichiers zip sont acceptés par ce validateur même si ce n&#039;est pas logique.
            <br />
        </p></blockquote>
    </div>

    <div class="section" id="zend.file.transfer.validators.hash" name="zend.file.transfer.validators.hash"><div class="info"><h1 class="title">Validateur Hash</h1></div>
        

        <p class="para">
            Le validateur <code class="code">Hash</code> vérifie le contenu du fichier transféré en le
            hachant. Ce validateur utilise l&#039;extension de hachage de <acronym class="acronym">PHP</acronym>. Il supporte les options
            suivantes :
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">
                    <code class="code">*</code> : vous pouvez paramétrer n&#039;importe quelle clé ou utiliser
                    un tableau numérique. Paramètre la valeur de hachage qui doit être
                    vérifié.
                </p>

                <p class="para">
                    Vous pouvez paramétrer de multiples hachages en les fournissant sous la
                    forme d&#039;un tableau. Chacun sera vérifié et seulement si tous échouent, la
                    validation elle-même échouera.
                </p>
            </li>
        </ul>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">
                    <code class="code">algorithm</code> : paramètre l&#039;algorithme à utiliser pour hacher le
                    contenu.
                </p>

                <p class="para">
                    Vous pouvez paramétrer de multiples algorithmes en utilisant la méthode
                     <span class="methodname">addHash()</span> plusieurs fois.
                </p>
            </li>
        </ul>

        <div class="example"><div class="info"><p><b>Example #15 Utiliser le validateur Hash</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_File_Transfer<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Vérifie si le contenu d'un fichier uploadé correspond au hachage fourni</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addValidator</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Hash'</span>, <span style="color: #000000; font-weight: bold;">false</span>, <span style="color: #ff0000;">'3b3652f'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Limite ce validateur à deux différents hachages</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addValidator</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Hash'</span>, <span style="color: #000000; font-weight: bold;">false</span>, <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'3b3652f'</span>, <span style="color: #ff0000;">'e612b69'</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Paramètre un algorithme différent pour effectuer le hachage</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addValidator</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Hash'</span>, <span style="color: #000000; font-weight: bold;">false</span>, <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'315b3cd8273d44912a7'</span>, <span style="color: #ff0000;">'algorithm'</span> =&gt; <span style="color: #ff0000;">'md5'</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

        </div>

        <blockquote><p><b class="note">Note</b>: 
            
                Ce validateur supporte environ 34 algorithmes de hachage différents. Les plus
                connus sont &quot;crc32&quot;, &quot;md5&quot; and &quot;sha1&quot;. Si vous souhaitez connaître les autres
                algorithmes, voyez <a href="http://php.net/manual/fr/function.hash-algos.php" class="link external">&raquo; la
                méthode hash_algos de <acronym class="acronym">PHP</acronym></a>.
            <br />
        </p></blockquote>
    </div>

    <div class="section" id="zend.file.transfer.validators.md5" name="zend.file.transfer.validators.md5"><div class="info"><h1 class="title">Validateur Md5</h1></div>
        

        <p class="para">
            Le validateur <code class="code">Md5</code> vérifie le contenu du fichier transféré en le
            hachant. Ce validateur utilise l&#039;extension de hachage de <acronym class="acronym">PHP</acronym> avec l&#039;algorithme md5. Il
            supporte les options suivantes :
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">
                    <code class="code">*</code> : vous pouvez paramétrer n&#039;importe quelle clé ou utiliser
                    un tableau numérique. Paramètre la valeur de hachage qui doit être
                    vérifié.
                </p>

                <p class="para">
                    Vous pouvez paramétrer de multiples hachages en les fournissant sous la
                    forme d&#039;un tableau. Chacun sera vérifié et seulement si tous échouent, la
                    validation elle-même échouera.
                </p>
            </li>
        </ul>

        <div class="example"><div class="info"><p><b>Example #16 Utiliser le validateur Md5</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_File_Transfer<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Vérifie si le contenu d'un fichier uploadé correspond au hachage fourni</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addValidator</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Md5'</span>, <span style="color: #000000; font-weight: bold;">false</span>, <span style="color: #ff0000;">'3b3652f336522365223'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Limite ce validateur à deux différents hachages</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addValidator</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Md5'</span>, <span style="color: #000000; font-weight: bold;">false</span>, <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'3b3652f336522365223'</span>, <span style="color: #ff0000;">'eb3365f3365ddc65365'</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

        </div>
    </div>

    <div class="section" id="zend.file.transfer.validators.mimetype" name="zend.file.transfer.validators.mimetype"><div class="info"><h1 class="title">Validateur MimeType</h1></div>
        

        <p class="para">
            Le validateur <code class="code">MimeType</code> vérifie le type <acronym class="acronym">MIME</acronym> des fichiers transférés.
            Il supporte les options suivantes :
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">
                    <code class="code">*</code> : vous pouvez paramétrer n&#039;importe quelle clé ou utiliser un
                    tableau numérique. Paramètre le type <acronym class="acronym">MIME</acronym> à contrôler.
                </p>

                <p class="para">
                    Avec cette option vous pouvez définir le type <acronym class="acronym">MIME</acronym> des fichiers qui seront
                    acceptés.
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <code class="code">headerCheck</code> : si spécifié à <b><tt>TRUE</tt></b>, cette
                    option va vérifier l&#039;information <acronym class="acronym">HTTP</acronym> concernant le type de
                    fichier quand les extensions <em class="emphasis">fileInfo</em> ou
                    <em class="emphasis">mimeMagic</em> ne seront pas trouvées. La valeur par défaut de
                    cette option est <b><tt>FALSE</tt></b>.
                </p>
            </li>

            <li class="listitem">
                <p class="para"><code class="code">magicfile</code> : le magicfile qui sera utilisé.</p>

                <p class="para">
                    Avec cette option vous pouvez définir le magicfile à utiliser. Quand il
                    n&#039;est pas utilisé ou vide, la constante <b><tt>MAGIC</tt></b> sera utilisée. Cette
                    option est disponible à partir de la version 1.7.1 de Zend Framework.
                </p>
            </li>
        </ul>

        <p class="para">
            Ce validateur accepte des types <acronym class="acronym">MIME</acronym> multiples soit sous la forme d&#039;une chaîne
            utilisant le caractère virgule (&quot;,&quot;) comme séparateur ou sous la forme d&#039;un tableau.
            Vous pouvez aussi utiliser les méthodes  <span class="methodname">setMimeType()</span>,
             <span class="methodname">addMimeType()</span>, et  <span class="methodname">getMimeType()</span> pour paramétrer et récupérer
            les types <acronym class="acronym">MIME</acronym>.
        </p>

        <p class="para">
            Vous pouvez aussi paramétrer le magicfile qui sera utilisé par fileinfo avec
            l&#039;option <code class="code">magicfile</code>. De plus il existe les méthodes
             <span class="methodname">setMagicFile()</span> et  <span class="methodname">getMagicFile()</span> qui permettent de paramétrer
            ou récupérer plus tard le paramètre <code class="code">magicfile</code>. Ces méthodes sont
            disponibles à partir de la version Zend Framework 1.7.1.
        </p>

        <div class="example"><div class="info"><p><b>Example #17 Utiliser le validateur MimeType</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_File_Transfer<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Limite le type MIME de tous les fichiers aux images gif</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addValidator</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'MimeType'</span>, <span style="color: #000000; font-weight: bold;">false</span>, <span style="color: #ff0000;">'image/gif'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Limite le type MIME de tous les fichiers aux images jpeg et gif</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">adValidator</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'MimeType'</span>, <span style="color: #000000; font-weight: bold;">false</span>, <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'image/gif'</span>, <span style="color: #ff0000;">'image/jpeg'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Limite le type MIME de tous les fichiers au groupe des images</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addValidator</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'MimeType'</span>, <span style="color: #000000; font-weight: bold;">false</span>, <span style="color: #ff0000;">'image'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Utilise un magicfile différent</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addValidator</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'MimeType'</span>, <span style="color: #000000; font-weight: bold;">false</span>, <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'image'</span>, <span style="color: #ff0000;">'magicfile'</span> =&gt; <span style="color: #ff0000;">'/path/to/magicfile.mgx'</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

        </div>

        <p class="para">
            L&#039;exemple ci-dessus montre qu&#039;il est aussi possible de limiter le type <acronym class="acronym">MIME</acronym>
            accepté à un groupe de type <acronym class="acronym">MIME</acronym>. Pour autoriser toutes les images utilisez simplement
            &quot;image&quot; en tant que type <acronym class="acronym">MIME</acronym>. Ceci peut être appliqué à tous les groupes de type <acronym class="acronym">MIME</acronym>
            comme &quot;image&quot;, &quot;audio&quot;, &quot;video&quot;, &quot;text&quot; et plus encore.
        </p>

        <blockquote><p><b class="note">Note</b>: 
            
                Notez qu&#039;autoriser un groupe de type <acronym class="acronym">MIME</acronym> acceptera tous les membres de ce
                groupe même si votre application ne les supporte pas. Par exemple quand vous
                autorisez &quot;image&quot;, vous autorisez donc &quot;image/xpixmap&quot; ou &quot;image/vasa&quot;, ce qui peut
                être problématique. Quand vous n&#039;êtes pas sûr que votre application supporte tous
                les types, vous devriez définir individuellement les types <acronym class="acronym">MIME</acronym> plutôt que le groupe
                complet.
            <br />
        </p></blockquote>

        <blockquote><p><b class="note">Note</b>: 
            
                Ce composant utilise l&#039;extension <code class="code">fileinfo</code> si elle est disponible.
                Si ce n&#039;est pas le cas, il utilisera alors la fonction
                <code class="code">mime_content_type</code>. Et si l&#039;appel de fonction échoue, il utilisera le
                type <acronym class="acronym">MIME</acronym> fourni par <acronym class="acronym">HTTP</acronym>.
            <br />

            
                Vous devez cependant être averti de possibles problèmes de sécurité si, ni
                <code class="code">fileinfo</code>, ni <code class="code">mime_content_type</code> ne sont disponibles : le
                type <acronym class="acronym">MIME</acronym> fourni pas <acronym class="acronym">HTTP</acronym> n&#039;étant pas sécurisé et pouvant être facilement
                manipulé.
            <br />
        </p></blockquote>
    </div>

    <div class="section" id="zend.file.transfer.validators.notexists" name="zend.file.transfer.validators.notexists"><div class="info"><h1 class="title">Validateur NotExists</h1></div>
        

        <p class="para">
            Le validateur <code class="code">NotExists</code> l&#039;existence des fichiers fournis. Il supporte
            les options suivantes :
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">
                    <code class="code">*</code> : vous pouvez paramétrer n&#039;importe quelle clé ou utiliser
                    un tableau numérique. Vérifie si le fichier n&#039;existe pas dans le dossier
                    fourni.
                </p>
            </li>
        </ul>

        <p class="para">
            Ce validateur accepte des extensions multiples soit sous la forme d&#039;une chaîne
            utilisant le caractère virgule (&quot;,&quot;) comme séparateur ou sous la forme d&#039;un tableau.
            Vous pouvez aussi utiliser les méthodes  <span class="methodname">setDirectory()</span>,
             <span class="methodname">addDirectory()</span>, et  <span class="methodname">getDirectory()</span> pour paramétrer et récupérer
            les extensions.
        </p>

        <div class="example"><div class="info"><p><b>Example #18 Utiliser le validateur NotExists</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_File_Transfer<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Ajoute le dossier temporaire à vérifier</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addValidator</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'NotExists'</span>, <span style="color: #000000; font-weight: bold;">false</span>, <span style="color: #ff0000;">'<span style="color: #000099; font-weight: bold;">\t</span>emp'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Ajoute deux dossiers en utilisant la notation de type tableau</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addValidator</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'NotExists'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">false</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'<span style="color: #000099; font-weight: bold;">\h</span>ome<span style="color: #000099; font-weight: bold;">\i</span>mages'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ff0000;">'<span style="color: #000099; font-weight: bold;">\h</span>ome<span style="color: #000099; font-weight: bold;">\u</span>ploads'</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

        </div>

        <blockquote><p><b class="note">Note</b>: 
            
                Notez que ce validateur vérifie si le fichier n&#039;existe dans aucun des dossiers
                fournis. La validation échoue si le fichier existe dans l&#039;un des dossiers.
            <br />
        </p></blockquote>
    </div>

    <div class="section" id="zend.file.transfer.validators.sha1" name="zend.file.transfer.validators.sha1"><div class="info"><h1 class="title">Validateur Sha1</h1></div>
        

        <p class="para">
            Le validateur <code class="code">Sha1</code> vérifie le contenu du fichier transféré en le
            hachant. Ce validateur utilise l&#039;extension de hachage de <acronym class="acronym">PHP</acronym> avec l&#039;algorithme sha1. Il
            supporte les options suivantes :
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">
                    <code class="code">*</code> : vous pouvez paramétrer n&#039;importe quelle clé ou utiliser
                    un tableau numérique. Paramètre la valeur de hachage qui doit être
                    vérifié.
                </p>

                <p class="para">
                    Vous pouvez paramétrer de multiples hachages en les fournissant sous la
                    forme d&#039;un tableau. Chacun sera vérifié et seulement si tous échouent, la
                    validation elle-même échouera.
                </p>
            </li>
        </ul>

        <div class="example"><div class="info"><p><b>Example #19 Utiliser le validateur Sha1</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_File_Transfer<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Vérifie si le contenu d'un fichier uploadé correspond au hachage fourni</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addValidator</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Sha1'</span>, <span style="color: #000000; font-weight: bold;">false</span>, <span style="color: #ff0000;">'3b3652f336522365223'</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Limite ce validateur à deux différents hachages</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addValidator</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Sha1'</span>, <span style="color: #000000; font-weight: bold;">false</span>, <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'3b3652f336522365223'</span>, <span style="color: #ff0000;">'eb3365f3365ddc65365'</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

        </div>
    </div>

    <div class="section" id="zend.file.transfer.validators.size" name="zend.file.transfer.validators.size"><div class="info"><h1 class="title">Validateur Size</h1></div>
        

        <p class="para">
            Le validateur <code class="code">Size</code> vérifie le poids d&#039;un fichier unique. Il supporte
            les options suivantes :
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para"><code class="code">min</code> : paramètre le poids minimum du fichier.</p>
            </li>

            <li class="listitem">
                <p class="para"><code class="code">max</code> : paramètre le poids maximum du fichier.</p>
            </li>

            <li class="listitem">
                <p class="para">
                    <code class="code">bytestring</code> : définit si un échec est retourné avec un taille
                    plus facilement lisible pour l&#039;utilisateur, ou avec une taille de fichier
                    brute.
                </p>

                <p class="para">
                    Avec cette option vous pouvez en fait définir si l&#039;utilisateur récupérera
                    &quot;10864&quot; ou &quot;10MB&quot;. La valeur par défaut est <b><tt>TRUE</tt></b> qui retournera
                    &quot;10MB&quot;.
                </p>
            </li>
        </ul>

        <p class="para">
            Vous pouvez initialiser seulement avec une chaîne qui sera utilisée en tant que
            <code class="code">max</code>. Mais vous pouvez aussi utiliser les méthodes  <span class="methodname">setMin()</span> et
             <span class="methodname">setMax()</span> pour paramétrer ces options plus tard et  <span class="methodname">getMin()</span> et
             <span class="methodname">getMax()</span> pour les récupérer.
        </p>

        <p class="para">
            Quand seule une chaîne est fournie, elle est utilisée en tant que
            <code class="code">max</code>. Mais vous pouvez aussi utiliser les méthodes  <span class="methodname">setMin()</span> et
             <span class="methodname">setMax()</span> pour paramétrer ces options plus tard et  <span class="methodname">getMin()</span> et
             <span class="methodname">getMax()</span> pour les récupérer.
        </p>

        <p class="para">
            La taille elle-même est acceptée en notation SI comme sur la plupart des systèmes
            d&#039;exploitation. Au lieu de 20000 octets, vous pouvez utiliser <em class="emphasis">20kB</em>.
            Toutes les unités sont converties en utilisant 1024 comme valeur de base. Les unités
            suivantes sont acceptées : <code class="code">kB</code>, <code class="code">MB</code>, <code class="code">GB</code>,
            <code class="code">TB</code>, <code class="code">PB</code> et <code class="code">EB</code>. Comme mentionné précédemment vous
            devez noter que 1kB équivaut à 1024 octets.
        </p>

        <div class="example"><div class="info"><p><b>Example #20 Utiliser le validateur Size</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_File_Transfer<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Limite la taille d'un fichier à 40000 octets</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addValidator</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Size'</span>, <span style="color: #000000; font-weight: bold;">false</span>, <span style="color: #cc66cc;">40000</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Limite la taille du fichier 'uploadfile' dans une plage de 10kB à 4MB</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Additionally returns the plain number in case of an error instead of a userfriendly one</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addValidator</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'Size'</span>, <span style="color: #000000; font-weight: bold;">false</span>, <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'min'</span> =&gt; <span style="color: #ff0000;">'10kB'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #ff0000;">'max'</span> =&gt; <span style="color: #ff0000;">'4MB'</span>,</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #ff0000;">'bytestring'</span> =&gt; <span style="color: #000000; font-weight: bold;">false</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

        </div>
    </div>

    <div class="section" id="zend.file.transfer.validators.wordcount" name="zend.file.transfer.validators.wordcount"><div class="info"><h1 class="title">Validateur WordCount</h1></div>
        

        <p class="para">
            Le validateur <code class="code">WordCount</code> vérifie le nombre de mots à l&#039;intérieur des
            fichiers fournis. Il supporte les options suivantes :
        </p>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">
                    <code class="code">min</code> : spécifie le nombre de mots minimum qui doivent être
                    trouvés.
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    <code class="code">max</code> : spécifie le nombre de mots maximum qui doivent être
                    trouvés.
                </p>
            </li>
        </ul>

        <p class="para">
            Si vous initialisez ce validateur avec une chaîne ou un entier, la valeur sera
            utilisée en tant que <code class="code">max</code>. Mais vous pouvez aussi utiliser les méthodes
             <span class="methodname">setMin()</span> et  <span class="methodname">setMax()</span> pour paramétrer ces options plus tard et
             <span class="methodname">getMin()</span> et  <span class="methodname">getMax()</span> pour les récupérer.
        </p>

        <div class="example"><div class="info"><p><b>Example #21 Utiliser le validateur WordCount</b></p></div>
            

            <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_File_Transfer<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Limite le nombre maximum de mots dans les fichiers à 2000</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addValidator</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'WordCount'</span>, <span style="color: #000000; font-weight: bold;">false</span>, <span style="color: #cc66cc;">2000</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// Limite le nombre de mots dans les fichiers entre un minimum de 1000</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #808080; font-style: italic;">// et un maximum de 5000 mots</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$upload</span>-&gt;<span style="color: #006600;">addValidator</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'WordCount'</span>, <span style="color: #000000; font-weight: bold;">false</span>, <a href="http://www.php.net/array"><span style="color: #000066;">array</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'min'</span> =&gt; <span style="color: #cc66cc;">1000</span>, <span style="color: #ff0000;">'max'</span> =&gt; <span style="color: #cc66cc;">5000</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>

        </div>
    </div>
</div>
        <hr />

            <table width="100%">
                <tr>
                    <td width="25%" style="text-align: left;">
                    <a href="zend.file.transfer.introduction.html">Zend_File_Transfer</a>
                    </td>

                    <td width="50%" style="text-align: center;">
                        <div class="up"><span class="up"><a href="zend.file.html">Zend_File</a></span><br />
                        <span class="home"><a href="manual.html">Programmer's Reference Guide</a></span></div>
                    </td>

                    <td width="25%" style="text-align: right;">
                        <div class="next" style="text-align: right; float: right;"><a href="zend.file.transfer.filters.html">Filtres pour Zend_File_Transfer</a></div>
                    </td>
                </tr>
            </table>
</td>
        <td style="font-size: smaller;" width="15%"> <style type="text/css">
#leftbar {
	float: left;
	width: 186px;
	padding: 5px;
	font-size: smaller;
}
ul.toc {
	margin: 0px 5px 5px 5px;
	padding: 0px;
}
ul.toc li {
	font-size: 85%;
	margin: 1px 0 1px 1px;
	padding: 1px 0 1px 11px;
	list-style-type: none;
	background-repeat: no-repeat;
	background-position: center left;
}
ul.toc li.header {
	font-size: 115%;
	padding: 5px 0px 5px 11px;
	border-bottom: 1px solid #cccccc;
	margin-bottom: 5px;
}
ul.toc li.active {
	font-weight: bold;
}
ul.toc li a {
	text-decoration: none;
}
ul.toc li a:hover {
	text-decoration: underline;
}
</style>
 <ul class="toc">
  <li class="header home"><a href="manual.html">Programmer's Reference Guide</a></li>
  <li class="header up"><a href="manual.html">Programmer's Reference Guide</a></li>
  <li class="header up"><a href="reference.html">Zend Framework Reference</a></li>
  <li class="header up"><a href="zend.file.html">Zend_File</a></li>
  <li><a href="zend.file.transfer.introduction.html">Zend_File_Transfer</a></li>
  <li class="active"><a href="zend.file.transfer.validators.html">Validateurs pour Zend_File_Transfer</a></li>
  <li><a href="zend.file.transfer.filters.html">Filtres pour Zend_File_Transfer</a></li>
 </ul>
 </td>
    </tr>
</table>
</body>
</html>