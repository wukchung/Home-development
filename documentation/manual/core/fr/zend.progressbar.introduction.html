<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>Zend_ProgressBar - Zend Framework Manual</title>

</head>
<body>
<table width="100%">
    <tr valign="top">
        <td width="85%">
            <table width="100%">
                <tr>
                    <td width="25%" style="text-align: left;">
                    <a href="zend.progressbar.html">Zend_ProgressBar</a>
                    </td>

                    <td width="50%" style="text-align: center;">
                        <div class="up"><span class="up"><a href="zend.progressbar.html">Zend_ProgressBar</a></span><br />
                        <span class="home"><a href="manual.html">Programmer's Reference Guide</a></span></div>
                    </td>

                    <td width="25%" style="text-align: right;">
                        <div class="next" style="text-align: right; float: right;"><a href="zend.queue.html">Zend_Queue</a></div>
                    </td>
                </tr>
            </table>
<hr />
<div id="zend.progressbar.introduction" class="section"><div class="info"><h1 class="title">Zend_ProgressBar</h1></div>
    

    <div class="section" id="zend.progressbar.whatisit" name="zend.progressbar.whatisit"><div class="info"><h1 class="title">Introduction</h1></div>
        

        <p class="para">
            <span class="classname">Zend_ProgressBar</span> est un composant pour créer et mettre à
            jour les barres de progression dans différents environnements. Il consiste en un backend
            unique, qui affiche la progression au travers de l&#039;un des multiples adaptateurs. A
            chaque mise à jour, il prend un chemin absolu et un message d&#039;état, et appelle ensuite
            l&#039;adaptateur avec certaines valeurs précalculées comme le pourcentage et le temps
            restant estimé.
        </p>
    </div>

    <div class="section" id="zend.progressbar.basic" name="zend.progressbar.basic"><div class="info"><h1 class="title">Utilisation basique de Zend_Progressbar</h1></div>
        

        <p class="para">
            <span class="classname">Zend_ProgressBar</span> est assez simple d&#039;utilisation. Vous créez
            simplement une nouvelle instance de <span class="classname">Zend_Progressbar</span>, en
            définissant des valeurs minimum et maximum, et en choisissant un adaptateur pour
            afficher les données. Si vous voulez travailler avec un fichier, vous pouvez faire comme
            ceci :
        </p>

        <div class="programlisting php"><div class="phpcode"><div class="php" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$progressBar</span> = <span style="color: #000000; font-weight: bold;">new</span> Zend_ProgressBar<span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">0</span>, <span style="color: #0000ff;">$fileSize</span>, <span style="color: #0000ff;">$adapter</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #b1b100;">while</span> <span style="color: #66cc66;">&#40;</span>!<a href="http://www.php.net/feof"><span style="color: #000066;">feof</span></a><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$fp</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #808080; font-style: italic;">// Faire quelque chose</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #0000ff;">$progressBar</span>-&gt;<span style="color: #006600;">update</span><span style="color: #66cc66;">&#40;</span><span style="color: #0000ff;">$currentByteCount</span><span style="color: #66cc66;">&#41;</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #0000ff;">$progressBar</span>-&gt;<span style="color: #006600;">finish</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;</div></li></ol></div></div></div>


        <p class="para">
            Dans un premier temps, une instance de <span class="classname">Zend_ProgressBar</span>,
            avec une valeur minimum de 0, une valeur maximum correspondant à la taille totale du
            fichier et un adaptateur spécifique. Ensuite on travaille avec le fichier et à chaque
            boucle la barre de progression est mise à jour avec le nombre d&#039;octets courant. A la fin
            de la boucle, le statut de la barre de progression est réglé à terminé.
        </p>

        <p class="para">
            <span class="classname">Zend_ProgressBar</span> possède aussi une méthode
             <span class="methodname">refresh()</span> qui recalcule le temps restant estimé et met à jour l&#039;adaptateur.
            Ceci est pratique quand il n&#039;y a aucune donnée à mettre à jour mais que vous souhaitez
            que la barre de progression soit mise à jour.
        </p>
    </div>

    <div class="section" id="zend.progressbar.adapters" name="zend.progressbar.adapters"><div class="info"><h1 class="title">Adaptateurs standard</h1></div>
        

        <p class="para">
            <span class="classname">Zend_ProgressBar</span> est fourni avec les deux adaptateurs
            suivants : <ul class="itemizedlist">
                    <li class="listitem">
                    <p class="para">

                            <a href="zend.progressbar.introduction.html#zend.progressbar.adapter.console" class="xref">Zend_ProgressBar_Adapter_Console</a>

                    </p>
                </li>

                <li class="listitem">
                    <p class="para">

                            <a href="zend.progressbar.introduction.html#zend.progressbar.adapter.jspush" class="xref">Zend_ProgressBar_Adapter_JsPush</a>

                    </p>
                </li>

                <li class="listitem">
                    <p class="para">

                            <a href="zend.progressbar.introduction.html#zend.progressbar.adapter.jspull" class="xref">Zend_ProgressBar_Adapter_JsPull</a>

                    </p>
                </li>
                </ul>
            </p>

        <div class="section" id="zend.progressbar.adapter.console" name="zend.progressbar.adapter.console"><div class="info"><h1 class="title">Zend_ProgressBar_Adapter_Console</h1></div>
    

    <p class="para">
        <span class="classname">Zend_ProgressBar_Adapter_Console</span> est un adaptateur de type
        texte pour les terminaux. Il peut automatiquement détecter la largeur du terminal mais
        supporte aussi des largeurs personnalisées. Vous pouvez définir quels éléments seront
        affichés avec la barre de progression et personnaliser leur ordre. Vous pouvez aussi définir
        le style de la barre de progression elle-même.
    </p>

    <blockquote><p><b class="note">Note</b>: <span class="info"><b>Reconnaissance automatique de la largeur de la console</b><br /></span>
        

        
            <code class="code">shell_exec</code> est nécessaire pour que ceci fonctionne sur les systèmes
            de type *nix. Sur Windows, il y a toujours un terminal fixe de 80 caractères de large,
            donc la reconnaissance automatique n&#039;est pas nécessaire.
        <br />
    </p></blockquote>

    <p class="para">
        Vous pouvez paramétrer les options de l&#039;adaptateur soit via les méthodes
        <code class="code">set*</code> soit en fournissant un tableau (&quot;array&quot;) ou une instance
        <span class="classname">Zend_Config</span> en tant que premier paramètre du constructeur. Les
        options disponibles sont :
    </p>

    <ul class="itemizedlist">
         <li class="listitem">
             <p class="para">
                <code class="code">outputStream</code> : un flux de sortie différent, si vous ne souhaitez pas
                utiliser STDOUT. Peut être n&#039;importe quel autre flux come <code class="code">php://stderr</code>
                ou un chemin vers un fichier.
            </p>
        </li>

        <li class="listitem">
            <p class="para">
                <code class="code">width</code> : soit un entier ou la constante <b><tt>AUTO</tt></b> de
                <span class="classname">Zend_Console_ProgressBar</span>.
            </p>
        </li>

        <li class="listitem">
            <p class="para">
                <code class="code">elements</code> : soit <b><tt>NULL</tt></b> par défaut ou un tableau avec
                au moins l&#039;une des constantes de <span class="classname">Zend_Console_ProgressBar</span>
                suivantes comme valeur :
            </p>

            <ul class="itemizedlist">
                <li class="listitem">
                    <p class="para">
                        <b><tt>ELEMENT_PERCENT</tt></b> : la valeur courante en
                        pourcentage.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        <b><tt>ELEMENT_BAR</tt></b> : la barre qui va représenter le
                        pourcentage.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        <b><tt>ELEMENT_ETA</tt></b> : le calcul automatique du temps restant
                        estimé (NDT. : &quot;Estimated Time for Accomplishment&quot;). Cet élément est affiché
                        pour la première fois qu&#039;après cinq secondes, car durant ce temps, il n&#039;est
                        pas possible de calculer des résultats précis.
                    </p>
                </li>

                <li class="listitem">
                    <p class="para">
                        <b><tt>ELEMENT_TEXT</tt></b> : un message de statut optionnel concernant
                        le processus courant.
                    </p>
                </li>
            </ul>
        </li>

        <li class="listitem">
            <p class="para">
                <code class="code">textWidth</code> : largeur en caractères de l&#039;élément
                <b><tt>ELEMENT_TEXT</tt></b>. Par défaut vaut 20.
            </p>
        </li>

         <li class="listitem">
             <p class="para">
                <code class="code">charset</code> : encodage de l&#039;élément <b><tt>ELEMENT_TEXT</tt></b>. Par défaut
                vaut &quot;utf-8&quot;.
            </p>
        </li>

        <li class="listitem">
            <p class="para">
                <code class="code">barLeftChar</code> : un caractère qui est utilisé du côté gauche de
                l&#039;indicateur de la barre de progression.
            </p>
        </li>

        <li class="listitem">
            <p class="para">
                <code class="code">barRightChar</code> : un caractère qui est utilisé du côté droit de
                l&#039;indicateur de la barre de progression.
            </p>
        </li>

        <li class="listitem">
            <p class="para">
                <code class="code">barIndicatorChar</code> : un caractère qui est utilisé pour l&#039;indicateur
                de la barre de progression. Celui-ci peut être vide.
            </p>
        </li>
    </ul>
</div>

        <div class="section" id="zend.progressbar.adapter.jspush" name="zend.progressbar.adapter.jspush"><div class="info"><h1 class="title">Zend_ProgressBar_Adapter_JsPush</h1></div>
    

    <p class="para">
        <span class="classname">Zend_ProgressBar_Adapter_JsPush</span> est un adaptateur qui vous
        permet de mettre à jour une barre de progression dans un navigateur au travers de
        Javascript. Ceci veut dire qu&#039;une seconde connexion n&#039;est pas nécessaire pour recueillir le
        statut du processus courant, mais que le processus lui-même envoie son statut directement au
        navigateur.
    </p>

    <p class="para">
        Vous pouvez paramétrer les options de l&#039;adaptateur soit avec les méthodes
        <code class="code">set*</code> soit en fournissant un tableau (&quot;array&quot;) ou une instance de
        <span class="classname">Zend_Config</span> contenant les options en tant que premier paramètre du
        constructeur. Les options disponibles sont :
    </p>

    <ul class="itemizedlist">
        <li class="listitem">
            <p class="para">
                <code class="code">updateMethodName</code> : la méthode Javascript qui sera appelée à
                chaque mise à jour. La valeur par défaut est
                <span class="classname">Zend_ProgressBar_Update</span>.
            </p>
        </li>

        <li class="listitem">
            <p class="para">
                <code class="code">finishMethodName</code> : la méthode Javascript qui sera appelée lorsque
                le statut terminé sera atteint. La valeur par défaut est <b><tt>NULL</tt></b>, qui veut
                dire que rien n&#039;est fait.
            </p>
        </li>
    </ul>

    <p class="para">
        L&#039;utilisation de cet adaptateur est assez simple. Premièrement vous créez une barre de
        progression pour le navigateur, soit avec Javascript ou auparavant en pur HTML. Ensuite vous
        définissez une méthode de mise à jour et optionnellement une méthode de finalisation en
        Javascript, les deux acceptant un objet <acronym class="acronym">JSON</acronym> en tant qu&#039;unique argument. Ensuite vous
        appelez une page Web avec un processus chronophage dans une balise <code class="code">iframe</code> ou
        <code class="code">object</code> masqué. Pendant que le processus tourne, l&#039;adaptateur appelle la méthode
        de mise à jour à chaque mise à jour avec un objet <acronym class="acronym">JSON</acronym>, contenant le paramètres suivants
        :
    </p>

    <ul class="itemizedlist">
        <li class="listitem">
            <p class="para"><code class="code">current</code> : la valeur courante</p>
        </li>

        <li class="listitem">
            <p class="para"><code class="code">max</code> : la valeur maximum</p>
        </li>

        <li class="listitem">
            <p class="para"><code class="code">percent</code> : le pourcentage calculé</p>
        </li>

        <li class="listitem">
            <p class="para">
                <code class="code">timeTaken</code> : le temps depuis quand le processus courant est en
                marche
            </p>
        </li>

        <li class="listitem">
            <p class="para">
                <code class="code">timeRemaining</code> : le temps estimé pour que le processus se
                termine
            </p>
        </li>

        <li class="listitem">
            <p class="para"><code class="code">text</code> : le message de statut optionnel, si fourni</p>
        </li>
    </ul>

    <div class="example"><div class="info"><p><b>Example #1 Exemple basique du fonctionnement côté-client</b></p></div>
        

        <div class="example-contents"><p>
            Cet exemple illustre un paramétrage basique du HTML, <acronym class="acronym">CSS</acronym> et JavaScript pour
            l&#039;adaptateur JsPush :
        </p></div>

        <div class="programlisting html"><div class="htmlcode"><div style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&lt;div id=&quot;zend-progressbar-container&quot;&gt;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &lt;div id=&quot;zend-progressbar-done&quot;&gt;&lt;/div&gt;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&lt;/div&gt;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&lt;iframe src=&quot;long-running-process.php&quot; id=&quot;long-running-process&quot;&gt;&lt;/iframe&gt;</div></li></ol></div></div></div>


        <div class="programlisting css"><div class="csscode"><div class="css" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #cc00cc;">#long-running-process</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">position</span>: <span style="color: #993333;">absolute</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">left</span>: -<span style="color: #933;">100px</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">top</span>: -<span style="color: #933;">100px</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">width</span>: <span style="color: #933;">1px</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">height</span>: <span style="color: #933;">1px</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #cc00cc;">#zend-progressbar-container</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">width</span>: <span style="color: #933;">100px</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">height</span>: <span style="color: #933;">30px</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">border</span>: <span style="color: #933;">1px</span> <span style="color: #993333;">solid</span> <span style="color: #cc00cc;">#<span style="color: #933;">000000</span></span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">background-color</span>: <span style="color: #cc00cc;">#ffffff</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #cc00cc;">#zend-progressbar-done</span> <span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">width</span>: <span style="color: #933;">0</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">height</span>: <span style="color: #933;">30px</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">background-color</span>: <span style="color: #cc00cc;">#<span style="color: #933;">000000</span></span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li></ol></div></div></div>


        <div class="programlisting javascript"><div class="javascriptcode"><div class="javascript" style="font-family: monospace;"><ol><li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #003366; font-weight: bold;">function</span> Zend_ProgressBar_Update<span style="color: #66cc66;">&#40;</span>data<span style="color: #66cc66;">&#41;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#123;</span></div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; document.<span style="color: #006600;">getElementById</span><span style="color: #66cc66;">&#40;</span><span style="color: #3366CC;">'zend-progressbar-done'</span><span style="color: #66cc66;">&#41;</span>.<span style="color: #006600;">style</span>.<span style="color: #006600;">width</span> =</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; data.<span style="color: #006600;">percent</span> + <span style="color: #3366CC;">'%'</span>;</div></li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;"><div style="font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #66cc66;">&#125;</span></div></li></ol></div></div></div>


        <div class="example-contents"><p>
            Ceci créera un simple conteneur avec une bordure noire et un bloc qui indique le
            niveau du processus courant. Vous ne devez pas masquer l&#039;<code class="code">iframe</code> ou
            l&#039;<code class="code">object</code> par <code class="code">display: none;</code>, car dans ce cas les navigateurs
            comme Safari 2 ne chargeront pas le contenu réel.
        </p></div>

        <div class="example-contents"><p>
            Plutôt que de créer votre barre de progression personnalisée, vous pouvez utiliser
            une de celles disponibles dans les librairies JavaScript comme Dojo, jQuery etc. Par
            exemple, il existe :
        </p></div>

        <ul class="itemizedlist">
            <li class="listitem">
                <p class="para">
                    Dojo : <tt class="uri">http://dojotoolkit.org/reference-guide/dijit/ProgressBar.html</tt>
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    jQuery : <tt class="uri">http://t.wits.sg/2008/06/20/jquery-progress-bar-11/</tt>
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    MooTools : <tt class="uri">http://davidwalsh.name/dw-content/progress-bar.php</tt>
                </p>
            </li>

            <li class="listitem">
                <p class="para">
                    Prototype : <tt class="uri">http://livepipe.net/control/progressbar</tt>
                </p>
            </li>
        </ul>
    </div>

    <blockquote><p><b class="note">Note</b>: <span class="info"><b>Intervalle de mise à jour</b><br /></span>
        

        
            Vous devez faire attention à ne pas envoyer trop de mises à jour, puisque chaque
            mise à jour a une taille minimum de 1ko. Ceci est requis par le navigateur Safari pour
            rendre et exécuter l&#039;appel de fonction. Internet Explorer possède une limitation
            similaire mais à 256 octets.
        <br />
    </p></blockquote>
</div>

        <div class="section" id="zend.progressbar.adapter.jspull" name="zend.progressbar.adapter.jspull"><div class="info"><h1 class="title">Zend_ProgressBar_Adapter_JsPull</h1></div>
    

    <p class="para">
        <span class="classname">Zend_ProgressBar_Adapter_JsPull</span> est l&#039;opposé de jsPush, car il
        requiert de venir récupérer les nouvelles mises à jour, plutôt que d&#039;envoyer les mises à
        jour vers le navigateur. Généralement, vous devriez utiliser l&#039;adaptateur avec l&#039;option de
        persistance de <span class="classname">Zend_ProgressBar</span>. Lors de l&#039;appel, l&#039;adaptateur envoie
        une chaîne <acronym class="acronym">JSON</acronym> vers le navigateur, qui est comparable à la chaîne <acronym class="acronym">JSON</acronym> envoyée par
        l&#039;adaptateur jsPush. La seule différence est qu&#039;il contient un paramètre supplémentaire
        &quot;<code class="code">finished</code>&quot;, qui vaut <b><tt>FALSE</tt></b> quand  <span class="methodname">update()</span> est appelée
        ou <b><tt>TRUE</tt></b> quand  <span class="methodname">finish()</span> est appelée.
    </p>

    <p class="para">
        Vous pouvez paramétrer les options de l&#039;adaptateur soit avec les méthodes
        <code class="code">set*</code> soit en fournissant un tableau (&quot;array&quot;) ou une instance de
        <span class="classname">Zend_Config</span> contenant les options en tant que premier paramètre du
        constructeur. Les options disponibles sont :
    </p>

    <ul class="itemizedlist">
        <li class="listitem">
            <p class="para">
                <code class="code">exitAfterSend</code> : sort de la requête courante après que les données
                aient été envoyées au navigateur. Vaut <b><tt>TRUE</tt></b> par défaut.
            </p>
        </li>
    </ul>
</div>
    </div>
</div>
        <hr />

            <table width="100%">
                <tr>
                    <td width="25%" style="text-align: left;">
                    <a href="zend.progressbar.html">Zend_ProgressBar</a>
                    </td>

                    <td width="50%" style="text-align: center;">
                        <div class="up"><span class="up"><a href="zend.progressbar.html">Zend_ProgressBar</a></span><br />
                        <span class="home"><a href="manual.html">Programmer's Reference Guide</a></span></div>
                    </td>

                    <td width="25%" style="text-align: right;">
                        <div class="next" style="text-align: right; float: right;"><a href="zend.queue.html">Zend_Queue</a></div>
                    </td>
                </tr>
            </table>
</td>
        <td style="font-size: smaller;" width="15%"> <style type="text/css">
#leftbar {
	float: left;
	width: 186px;
	padding: 5px;
	font-size: smaller;
}
ul.toc {
	margin: 0px 5px 5px 5px;
	padding: 0px;
}
ul.toc li {
	font-size: 85%;
	margin: 1px 0 1px 1px;
	padding: 1px 0 1px 11px;
	list-style-type: none;
	background-repeat: no-repeat;
	background-position: center left;
}
ul.toc li.header {
	font-size: 115%;
	padding: 5px 0px 5px 11px;
	border-bottom: 1px solid #cccccc;
	margin-bottom: 5px;
}
ul.toc li.active {
	font-weight: bold;
}
ul.toc li a {
	text-decoration: none;
}
ul.toc li a:hover {
	text-decoration: underline;
}
</style>
 <ul class="toc">
  <li class="header home"><a href="manual.html">Programmer's Reference Guide</a></li>
  <li class="header up"><a href="manual.html">Programmer's Reference Guide</a></li>
  <li class="header up"><a href="reference.html">Zend Framework Reference</a></li>
  <li class="header up"><a href="zend.progressbar.html">Zend_ProgressBar</a></li>
  <li class="active"><a href="zend.progressbar.introduction.html">Zend_ProgressBar</a></li>
 </ul>
 </td>
    </tr>
</table>
</body>
</html>